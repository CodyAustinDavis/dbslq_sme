{"datasets":[{"name":"eaf6748f","displayName":"Query History With Ratios","query":"WITH raw_history AS (\nSELECT\nf.*,\nCASE WHEN QueryRuntimeSeconds >= :long_running_seconds_treshold::float THEN 'Long Running' ELSE 'Short Running' END AS LongRunningQueryFlag,\nCASE WHEN QueryRuntimeSeconds >= :long_running_seconds_treshold::float THEN 1 ELSE 0 END AS Calc_LongRunningQueryFlag\nFROM main.dbsql_warehouse_advisor.warehouse_query_history f\nWHERE \n(f.warehouse_id = :warehouse_id -- Updated with new sys table schema\nOR  EXISTS (SELECT warehouse_id FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n            WHERE c.warehouse_id = f.warehouse_id AND warehouse_name = :warehouse_id\n)\n)\nAND start_time BETWEEN :start_range::timestamp AND :end_range::timestamp -- TO DO: this technically does not line up with exact warehouse time window - need to split query time as well\n),\n\nhistory AS (\n        SELECT *,\n        SUM(TotalResourceTimeUsedForAllocation) OVER () AS TotalUsedTimeInWarehouse, -- Remove listing commands in time - this are essentially \"free\"\n        SUM(COALESCE(TotalResourceTimeUsedForAllocation, 0)) OVER (PARTITION BY statement_text) AS TotalStatementTextTimeUsed, -- for query level aggregates\n    try_divide(TotalResourceTimeUsedForAllocation , TotalUsedTimeInWarehouse) AS ProportionOfWarehouseTimeUsedByQuery -- Remove listing commands in time - this are essentially \"free\"\nFROM raw_history\n),\n\n-- Warehosue Costs for the same query window \nfiltered_warehouse_usage AS (\n        -- This is to properly handle attributing partial hours/seconds and match it to the seleted query window\n\n        WITH trimmed_usage AS (\n        SELECT \n        -- Start Time Range Trimming\n        timestampdiff(SECOND, usage_start_time, :start_range)::float AS seconds_before_start_range,\n        timestampdiff(SECOND, usage_start_time, usage_end_time)::float AS full_start_range_length,\n        full_start_range_length - seconds_before_start_range AS seconds_remaining_in_original_start_range,\n        greatest(:start_range, usage_start_time) AS trimmed_start_time,\n        -- End Time Range Trimming\n        least(:end_range, usage_end_time) AS trimmed_end_time,\n        timestampdiff(SECOND, :end_range, usage_end_time)::float AS seconds_after_end_range,\n        timestampdiff(SECOND, usage_start_time, usage_end_time)::float AS full_end_range_length,\n        full_end_range_length - seconds_after_end_range AS seconds_remaining_in_original_end_range,\n\n        -- Calculate trim proportion to multiple DBUs by proportion of the full hour in the active window\n        try_divide(CASE WHEN seconds_before_start_range > 0 THEN (full_start_range_length - seconds_before_start_range) ELSE NULL END, full_start_range_length) AS StartTrimProportion,\n        try_divide(CASE WHEN seconds_after_end_range > 0 THEN (full_start_range_length - seconds_after_end_range) ELSE NULL END, full_start_range_length) AS EndTrimProportion,\n        COALESCE(COALESCE(EndTrimProportion, StartTrimProportion), 1) AS TrimProportion,\n        usage_start_time,\n        usage_end_time,\n        usage_quantity AS dbus,\n        usage_metadata.warehouse_id AS warehouse_id\n        FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n        WHERE \n        (u.warehouse_id = :warehouse_id -- Updated with new sys table schema\n                OR  EXISTS (SELECT warehouse_id FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n                        WHERE c.warehouse_id = u.warehouse_id AND warehouse_name = :warehouse_id\n                )\n        )\n        AND usage_unit = 'DBU'\n        AND (\n        (usage_start_time BETWEEN :start_range::timestamp AND :end_range::timestamp)\n        OR (usage_end_time BETWEEN :start_range::timestamp AND :end_range::timestamp)\n        )\n        )\n\n        SELECT \n        warehouse_id,\n        SUM(dbus*TrimProportion) AS Total_Warehouse_Period_DBUs,\n        SUM(dbus*TrimProportion*:cluster_unit_price::float) AS Total_Warehouse_Period_Dollars\n        FROM trimmed_usage\n        GROUP BY warehouse_id\n),\n\n\n/*\nWAREHOUSE LEVEL SKEW / EFFICIENCY METRICS\n-- Calculate the warehouse average task times to execution time to get a basedline to compare relative skew/efficiency across warehouse\nNOTE: We do this because we do not yet have the \"warehouses\" table, which would give us the size/rough cores of the cluster, \nso we do NOT programmatically have the ability to know what a proper ratio is. If we knew the number of cores on the cluster, our skew ratio would look like this: \n\nSKEW RATIO = (TotalQueryTaskTime / NumberOfCores) / ExecutionTime = 1 in a perfect/avg scenario. This means that ALL cores were perfectly fully utilize during the entire execution\nRatio ~1 means that there is lots of paralleliszation (high tasks time per unit of time).\nRatio < 1 means that the exeuction time was not fully filled by task time across all cores. The smaller this number is, the more likely it is to be skewed. \nShould never really have a ratio > 1 (that would mean there were more total task time than cores could theoretically processs) when we KNOW the number of cores. \n-- Is the query getting the warehouse fully?\n-- Good ratio (is .5 reasonable?)\n-- Closer to zero is a problem (<0.05) -- only matters when queyies are large (filter num tasks / cores)\n\nNow since we do NOTE automatically know the number of cores, we have to make this ratio relative and create a PROXY metric. \nTo do that, we will take the average ratio of Total Task Time / Execution Time across the whole warehouse for ALL queries that had task time (exclude metadata operations)\nIdeal Ratio = 1 = ((Task Time)/ Cores ) / Execution Time\nSo Execution Time = Task Time / Cores\nSo Cores = Task Time / Execution Time in a perfect / avg scenario. \n\nThis is NOT perfect, but helps as a proxy for now. Since this metric is to identify relatively inefficient/skewed queryes, it should work well enough. \n\n*/\n\nwarehouse_average_ratio_metrics AS (\nSELECT \nwarehouse_id,\ntry_divide(AVG(CPUTotalExecutionTime)::float, AVG(QueryRuntimeSeconds)::float)::float AS WarehouseAvgTaskSkewRatio,\ntry_divide(MAX(CPUTotalExecutionTime), MAX(QueryRuntimeSeconds))::float AS WarehouseMaxTaskSkewRatio,\nAVG(ReadDataAmountInGB)::float AS WarehouseAvgReadDataInGBPerQuery,\nstddev(ReadDataAmountInGB)::float AS WarehouseStdReadDataInGBPerQuery,\nAVG(read_io_cache_percent)::float AS WarehouseAvgDeltaCachePercent,\nstddev(read_io_cache_percent)::float AS WarehouseStdDeltaCachePercent,\nAVG(spilled_local_bytes)::float AS WarehouseAvgDiskSpillAmount,\nstddev(spilled_local_bytes)::float AS WarehouseStdDiskSpillAmount\nFROM history\nWHERE CPUTotalExecutionTime > 0 AND ReadDataAmountInGB > 0 -- Means that the query read data as well as used cpu task time in workers\nAND execution_status NOT IN (\"FAILED\")\nGROUP BY warehouse_id\n),\n\n-- Single Metric to indicate an inefficient query\n/*\nInefficient query attributes: \n1. Long runtime (> X number of seconds/minutes)\n2. Poor Parallelization (high wall clock time with low task time compared to ratio of all warehouse)\n3. Spilling To Disk\n4. Lots of Data Read (Compared to Avg Data Read for Warehouse) - Using Z Score as a rough metric for this\n\nPrecursor filters\n1. Query must have task time > 0 (meaning workers were actually used to execute the query) (this filters out non sparky stuff like GRANT/ALTER/metadata)\n2. Must have data read in (>0 GB)\n*/\n\nquery_level_intel_metrics AS (\nSELECT qh.*,\nw.WarehouseAvgTaskSkewRatio AS WarehouseAvgTaskToExecutionTimeRatio,\n\n-- For the query efficiency ratio, we invert the above ratio to use the warehouse proxy metric\nCASE WHEN CPUTotalExecutionTime > 0 \n        AND ReadDataAmountInGB > 0 -- Means that the query read data as well as used cpu task time in workers\n        AND execution_status NOT IN (\"FAILED\")\n    THEN try_divide(QueryRuntimeSeconds, try_divide(qh.CPUTotalExecutionTime, w.WarehouseAvgTaskSkewRatio))\n    ELSE NULL\n    END AS QueryEfficiencyRatio,  -- WarehouseSkewRatio is the proxy for number of cores/level of parallelism in the cluster\nw.WarehouseAvgReadDataInGBPerQuery,\nw.WarehouseStdReadDataInGBPerQuery,\nw.WarehouseAvgDeltaCachePercent,\nw.WarehouseStdDeltaCachePercent,\nw.WarehouseAvgDiskSpillAmount,\nw.WarehouseStdDiskSpillAmount,\nu.Total_Warehouse_Period_Dollars,\n(u.Total_Warehouse_Period_Dollars::float*ProportionOfWarehouseTimeUsedByQuery::float) AS AllocatedQueryCostByTime\nFROM history AS qh\nLEFT JOIN warehouse_average_ratio_metrics AS w ON w.warehouse_id = qh.warehouse_id\nLEFT JOIN filtered_warehouse_usage AS u ON u.warehouse_id = qh.warehouse_id\n),\n\n-- Calculate Z Score for warehouse read data and other metrics\nzscores AS (\nSELECT \n*,\nAVG(QueryEfficiencyRatio) OVER () AS WarehouseAvgQueryEfficiencyRatio,\ntry_divide((spilled_local_bytes - WarehouseAvgDiskSpillAmount) , WarehouseStdDiskSpillAmount) AS SpillAmountZScore,\ntry_divide((read_io_cache_percent - WarehouseAvgDeltaCachePercent), WarehouseStdDeltaCachePercent) AS CachePercentZScore,\ntry_divide((ReadDataAmountInGB - WarehouseAvgReadDataInGBPerQuery), WarehouseStdReadDataInGBPerQuery) AS DataVolumeZScore,\n\nPERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P50,\nPERCENTILE_CONT(0.9) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P90,\nPERCENTILE_CONT(0.95) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P95,\nPERCENTILE_CONT(0.99) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P99,\n-- Queue Time\nPERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P50,\nPERCENTILE_CONT(0.9) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P90,\nPERCENTILE_CONT(0.95) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P95,\nPERCENTILE_CONT(0.99) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P99\n\nFROM query_level_intel_metrics\n)\n\nSELECT \nz.*,\nCASE WHEN DataVolumeZScore > (CASE WHEN length(:data_volume_min_z_score::float) > 1 THEN :data_volume_min_z_score::float ELSE 1 END) THEN 'High Relative Volume Read' ELSE 'Not High Relative Volume' END AS HighDataVolumeFlag,\nCASE WHEN DataVolumeZScore > (CASE WHEN length(:data_volume_min_z_score::float) > 1 THEN :data_volume_min_z_score::float ELSE 1 END) THEN 1 ELSE 0 END AS Calc_HighDataVolumeFlag,\n(Calc_HasSpillFlag + Calc_ReadDataFlag + Calc_UsedWorkerTasksFlag + Calc_LongRunningQueryFlag + Calc_HighDataVolumeFlag\n+ COALESCE(SpillAmountZScore, 0) + COALESCE(DataVolumeZScore, 0)) AS ProblemQueryMetric,\n-- Query Tag Cleaned\nCASE WHEN length(raw_tagged) >= 1 THEN raw_tagged ELSE 'Untagged' END AS QueryTag,\ncurrent_warehouses.* EXCEPT (current_warehouses.warehouse_id, current_warehouses.account_id, current_warehouses.workspace_id)\nFROM zscores AS z\nLEFT JOIN main.dbsql_warehouse_advisor.warehouse_current AS current_warehouses ON current_warehouses.warehouse_id = z.warehouse_id\n\n\n\n","parameters":[{"displayName":"long_running_seconds_treshold","keyword":"long_running_seconds_treshold","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"120"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"Serverless Shared Endpoint"}]}}},{"displayName":"start_range","keyword":"start_range","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_range","keyword":"end_range","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/d"}]}}},{"displayName":"cluster_unit_price","keyword":"cluster_unit_price","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0.7"}]}}},{"displayName":"data_volume_min_z_score","keyword":"data_volume_min_z_score","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"2"}]}}}]},{"name":"e7c37492","displayName":"Cluster Scaling","query":"-- Most recent warehouse config in selected time period\nWITH warehouse_snapshot AS (\nSELECT * EXCEPT (IsDeleted)\nFROM main.dbsql_warehouse_advisor.warehouse_scd WHERE action_name in ('createWarehouse', 'createEndpoint', 'editWarehouse', 'editEndpoint')\nAND event_time <= :end_time\nAND (\n    warehouse_id = :warehouse_id\n    OR warehouse_name = :warehouse_id\n)\nQUALIFY (ROW_NUMBER() OVER (PARTITION BY account_id, workspace_id, warehouse_id ORDER BY event_time DESC) = 1)\n),\n\nraw_scaling AS (\nSELECT \ndate_trunc('MINUTE', w.event_time) AS event_minute,\nMAX(w.cluster_count) AS clusters,\nMAX(w.warehouse_id) AS warehouse_id\nFROM main.dbsql_warehouse_advisor.warehouse_scaling_events w\nINNER JOIN warehouse_snapshot c ON w.warehouse_id = c.warehouse_id\nWHERE\nw.event_time BETWEEN :start_time::timestamp AND :end_time::timestamp\nAND event_type IN (\"RUNNING\", \"SCALED_UP\", \"SCALED_DOWN\", \"STOPPED\")\nGROUP BY date_trunc('MINUTE', w.event_time)\nORDER BY event_minute\n),\n\nfull_series AS (\nSELECT explode(sequence((SELECT MIN(event_minute) FROM raw_scaling), (SELECT MAX(event_minute) FROM raw_scaling), INTERVAL 1 MINUTE)) AS minuteChunk\n),\n\nfilled_in_series AS (\nSELECT \nspine.minuteChunk AS event_minute,\nMAX(s2.clusters) AS NumberOfClustersOn,\nMAX(s2.warehouse_id) AS warehouse_id\nFROM full_series AS spine\nLEFT JOIN raw_scaling AS s2 ON\n date_trunc('minute', s2.event_minute) = spine.minuteChunk --already aggregated at minute rounded level\nGROUP BY \nspine.minuteChunk\nORDER BY event_minute \n),\n\nfinal_scale AS (\nSELECT event_minute,\nLAST_VALUE(NumberOfClustersOn, true) OVER (ORDER BY event_minute) AS NumberOfClustersOn,\nLAST_VALUE(w.warehouse_id, true) OVER (ORDER BY event_minute)  AS warehouse_id\n FROM filled_in_series  w\n ORDER BY warehouse_id, event_minute\n)\n\nSELECT \nf.*,\nwarehouse_channel,\nwarehouse_size,\nmin_cluster_scaling AS warehouse_min_clusters,\nmax_cluster_scaing AS warehouse_max_clusters,\nauto_stop_mins AS warehouse_auto_stop_min\nFROM final_scale AS f\nLEFT JOIN warehouse_snapshot c ON f.warehouse_id = c.warehouse_id","parameters":[{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}}]},{"name":"71cfcc26","displayName":"Query Statement Resource Attribution","query":"WITH raw_history AS (\n    \nSELECT * \nFROM main.dbsql_warehouse_advisor.warehouse_query_history f\nWHERE \n(f.warehouse_id = :warehouse_id -- Updated with new sys table schema\nOR  EXISTS (SELECT warehouse_id FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n            WHERE c.warehouse_id = f.warehouse_id AND warehouse_name = :warehouse_id\n            )\n)\nAND (start_time >= :start_time AND end_time <= :end_time) -- Must pushdown these filters for accurate % aggregates by warehouse\nAND QueryRuntimeSeconds > 0\nAND statement_type IS NOT NULL\n),\n\nhistory AS (\n    SELECT *,\n    SUM(TotalResourceTimeUsedForAllocation) OVER () AS TotalUsedTimeInWarehouse, -- Remove listing commands in time - this are essentially \"free\"\n    SUM(COALESCE(TotalResourceTimeUsedForAllocation, 0)) OVER (PARTITION BY statement_text) AS TotalStatementTextTimeUsed, -- for query level aggregates\n    try_divide(TotalResourceTimeUsedForAllocation , TotalUsedTimeInWarehouse) AS ProportionOfWarehouseTimeUsedByQuery-- Remove listing commands in time - this are essentially \"free\"\n    FROM raw_history\n),\n\n-- Warehosue Costs for the same query window \nfiltered_warehouse_usage AS (\n        -- This is to properly handle attributing partial hours/seconds and match it to the seleted query window\n\n        WITH trimmed_usage AS (\n        SELECT \n        -- Start Time Range Trimming\n        timestampdiff(SECOND, usage_start_time, :start_time)::float AS seconds_before_start_range,\n        timestampdiff(SECOND, usage_start_time, usage_end_time)::float AS full_start_range_length,\n        full_start_range_length - seconds_before_start_range AS seconds_remaining_in_original_start_range,\n        greatest(:start_time, usage_start_time) AS trimmed_start_time,\n        -- End Time Range Trimming\n        least(:end_time, usage_end_time) AS trimmed_end_time,\n        timestampdiff(SECOND, :end_time, usage_end_time)::float AS seconds_after_end_range,\n        timestampdiff(SECOND, usage_start_time, usage_end_time)::float AS full_end_range_length,\n        full_end_range_length - seconds_after_end_range AS seconds_remaining_in_original_end_range,\n\n        -- Calculate trim proportion to multiple DBUs by proportion of the full hour in the active window\n        try_divide(CASE WHEN seconds_before_start_range > 0 THEN (full_start_range_length - seconds_before_start_range) ELSE NULL END, full_start_range_length) AS StartTrimProportion,\n        try_divide(CASE WHEN seconds_after_end_range > 0 THEN (full_start_range_length - seconds_after_end_range) ELSE NULL END, full_start_range_length) AS EndTrimProportion,\n        COALESCE(COALESCE(EndTrimProportion, StartTrimProportion), 1) AS TrimProportion,\n        usage_start_time,\n        usage_end_time,\n        usage_quantity AS dbus,\n        warehouse_id AS warehouse_id\n        FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n        WHERE \n        (u.warehouse_id = :warehouse_id -- Updated with new sys table schema\n                OR  EXISTS (SELECT warehouse_id FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n                        WHERE c.warehouse_id = u.warehouse_id AND warehouse_name = :warehouse_id\n                )\n        )\n        AND usage_unit = 'DBU'\n        AND (\n        (usage_start_time BETWEEN :start_time::timestamp AND :end_time::timestamp)\n        OR (usage_end_time BETWEEN :start_time::timestamp AND :end_time::timestamp)\n        )\n        )\n\n        SELECT \n        warehouse_id,\n        SUM(dbus*TrimProportion) AS Total_Warehouse_Period_DBUs,\n        SUM(dbus*TrimProportion*:cluster_unit_price::float) AS Total_Warehouse_Period_Dollars\n        FROM trimmed_usage\n        GROUP BY warehouse_id\n),\n\nhistory_with_pricing AS (\nSELECT \nh1.*,\nwh.Total_Warehouse_Period_DBUs, \nwh.Total_Warehouse_Period_Dollars\nFROM history AS h1\nLEFT JOIN filtered_warehouse_usage AS wh ON h1.warehouse_id = wh.warehouse_id\n),\n\n\nquery_proportion_agg AS (\n-- Cumulative Sum by statement_text (not query id, but distinct statement)\nSELECT \n-- We do this to \nsha2(regexp_replace(regexp_replace(REGEXP_REPLACE(statement_text, '/\\\\*.*?\\\\*/', ''), '(--[^\\\\n]*)', ''), ' ', ''), 256) AS query_signature,\nMAX(statement_text) AS statement_text,\nMAX(statement_type)AS statetment_type,\nMAX(raw_tagged) AS raw_tagged,\n-- Optional DBT Metadata Slicing\nMAX(dbt_app) AS dbt_app,\nMAX(dbt_node_id) AS dbt_node_id,\nMAX(dbt_profile_name) AS dbt_profile_id,\nMAX(dbt_target_name) AS dbt_target_name,\nMAX(dbt_version) AS dbt_version,\nMAX(IsDBTQuery) AS IsDBTQuery,\nFIRST(parsed_dbt_comment) AS parsed_dbt_comment,\nCOUNT(statement_id) AS NumberOfExecutions,\nAVG(QueryRuntimeSeconds) AS AvgRuntimeInSeconds,\nMAX(TotalUsedTimeInWarehouse) AS TotalWarehouseTimeUsed,\nMAX(Total_Warehouse_Period_DBUs) AS Total_Warehouse_Period_DBUs,\nMAX(Total_Warehouse_Period_Dollars) AS Total_Warehouse_Period_Dollars,\nSUM(TotalResourceTimeUsedForAllocation) AS TotalStatementTimeUsed, -- Excludes metadata operations\nARRAY_DISTINCT(COLLECT_LIST(NAMED_STRUCT('user', executed_by, 'execution_count', (SELECT COUNT(statement_id) FROM history AS in_hist WHERE in_hist.executed_by = u.executed_by AND in_hist.statement_text = u.statement_text)))) AS UserRunCounts\nFROM history_with_pricing AS u\nGROUP BY query_signature\n),\n\nstatement_attribution AS (\nSELECT \na.*,\ntry_divide(TotalStatementTimeUsed, TotalWarehouseTimeUsed) AS StatementTaskTimeProportion,\nTotal_Warehouse_Period_Dollars*StatementTaskTimeProportion AS StatementAllocatedDollars,\nTotal_Warehouse_Period_DBUs*StatementTaskTimeProportion AS StatementAllocatedDBUs\nFROM query_proportion_agg a\n),\n\nstatement_rollup_cumulative_sum AS (\n    SELECT \n    *,\n    SUM(StatementTaskTimeProportion) OVER (ORDER BY StatementTaskTimeProportion DESC) AS CumulativeProportionOfWarehouseTime\n    FROM statement_attribution\n)\n\nSELECT \ns.*,\nStatementTaskTimeProportion*100 AS StatementWarehouseTimePercentage,\nCASE WHEN length(raw_tagged) >= 1 THEN raw_tagged ELSE 'Untagged' END AS QueryTag,\nCASE WHEN s.CumulativeProportionOfWarehouseTime <= :query_pareto::float THEN s.statement_text ELSE 'Remaining Long Tail of Queries' END AS QueryProportionParetoFlag\nFROM statement_rollup_cumulative_sum s\nORDER BY CumulativeProportionOfWarehouseTime","parameters":[{"displayName":"query_pareto","keyword":"query_pareto","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"0.5"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"2024-03-18T09:31:18.000Z"}]}}},{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/d"}]}}},{"displayName":"cluster_unit_price","keyword":"cluster_unit_price","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"0.7"}]}}}]},{"name":"06bd7079","displayName":"Warehouse SCD History","query":"SELECT * FROM main.dbsql_warehouse_advisor.warehouse_scd"},{"name":"740898df","displayName":"Warehouses Current","query":"WITH with_delete_flag AS \n(SELECT * EXCEPT (IsDeleted) FROM main.dbsql_warehouse_advisor.warehouse_current),\n\n\npx_all AS (\n  SELECT DISTINCT\n  sku_name,\n  pricing.default AS unit_price,\n  unit_price::decimal(10,3) AS sku_price\n  FROM system.billing.list_prices \n  QUALIFY ROW_NUMBER() OVER (PARTITION BY sku_name ORDER BY price_start_time DESC) = 1\n  ),\n\n-- Active Warehouse Metadata\nclean_usage AS (\nSELECT w.*,\nusage_date, \n  ((1-COALESCE(:warehouse_discount::float, 0))*sku_price)*usage_quantity AS UsageDollars,\ncustom_tags\nFROM main.dbsql_warehouse_advisor.warehouse_usage AS u\nINNER JOIN px_all AS px ON px.sku_name = u.sku_name\nINNER JOIN with_delete_flag AS w ON usage_metadata.warehouse_id = w.warehouse_id\nWHERE warehouse_name IS NOT NULL\nAND usage_date BETWEEN :start_date::timestamp AND :end_date::timestamp\n),\n\nwarehouse_ranks AS (\nSELECT \naccount_id, workspace_id, warehouse_id,\nSUM(UsageDollars) AS total_warehouse_usage_in_period,\nDENSE_RANK() OVER( ORDER BY SUM(UsageDollars) DESC) AS WarehouseUsageTopNRank\nFROM clean_usage\nGROUP BY ALL\n)\n\n\nSELECT \nu.*,\nsha2(warehouse_name, 256) AS masked_warehouse_name,\nsha2(warehouse_creator, 256) AS masked_warehouse_creator,\n WarehouseUsageTopNRank\nFROM clean_usage AS u \nINNER JOIN warehouse_ranks AS r ON u.warehouse_id = r.warehouse_id \nAND u.account_id = r.account_id \nAND u.workspace_id = r.workspace_id\n\n","parameters":[{"displayName":"warehouse_discount","keyword":"warehouse_discount","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0"}]}}},{"displayName":"start_date","keyword":"start_date","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_date","keyword":"end_date","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}}]}],"pages":[{"name":"fbaf9d18","displayName":"New Page","layout":[{"widget":{"name":"39c8b306","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"avg(QueueQueryTime)","expression":"AVG(`QueueQueryTime`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(QueueQueryTime)","displayName":"Average QueueQueryTime"}},"frame":{"showTitle":true,"title":"Avg Queue Time (s)"}}},"position":{"x":0,"y":63,"width":1,"height":4}},{"widget":{"name":"94210182","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"HighDataVolumeFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"No Spill","color":"#00A972"},{"value":"High Relative Volume Read","color":"#AB4057"},{"value":"Not High Relative Volume","color":"#00A972"}]},"legend":{"position":"bottom"},"displayName":"High Data Volume Flag"}},"frame":{"showTitle":true,"title":"Queries With High Data Volume"},"mark":{"layout":"stack"}}},"position":{"x":0,"y":112,"width":3,"height":6}},{"widget":{"name":"c60ee151","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"statement_id","expression":"`statement_id`"},{"name":"AllocatedQueryCostByTime","expression":"`AllocatedQueryCostByTime`"},{"name":"QueryRuntimeSeconds","expression":"`QueryRuntimeSeconds`"},{"name":"QueryTag","expression":"`QueryTag`"},{"name":"statement_text","expression":"`statement_text`"},{"name":"execution_status","expression":"`execution_status`"},{"name":"statement_type","expression":"`statement_type`"},{"name":"executed_by","expression":"`executed_by`"},{"name":"CPUTotalExecutionTime","expression":"`CPUTotalExecutionTime`"},{"name":"TotalResourceTimeUsedForAllocation","expression":"`TotalResourceTimeUsedForAllocation`"},{"name":"ExecutionQueryTime","expression":"`ExecutionQueryTime`"},{"name":"CompilationQueryTime","expression":"`CompilationQueryTime`"},{"name":"QueueQueryTime","expression":"`QueueQueryTime`"},{"name":"StartUpQueryTime","expression":"`StartUpQueryTime`"},{"name":"ResultFetchTime","expression":"`ResultFetchTime`"},{"name":"start_time","expression":"`start_time`"},{"name":"end_time","expression":"`end_time`"},{"name":"update_time","expression":"`update_time`"},{"name":"TotalCPUTime_To_Execution_Time_Ratio","expression":"`TotalCPUTime_To_Execution_Time_Ratio`"},{"name":"ProportionQueueTime","expression":"`ProportionQueueTime`"},{"name":"read_bytes","expression":"`read_bytes`"},{"name":"read_io_cache_percent","expression":"`read_io_cache_percent`"},{"name":"from_result_cache","expression":"`from_result_cache`"},{"name":"spilled_local_bytes","expression":"`spilled_local_bytes`"},{"name":"ReadDataAmountInGB","expression":"`ReadDataAmountInGB`"},{"name":"ReadDataFlag","expression":"`ReadDataFlag`"},{"name":"UsedWorkerTasksFlag","expression":"`UsedWorkerTasksFlag`"},{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"WarehouseAvgTaskToExecutionTimeRatio","expression":"`WarehouseAvgTaskToExecutionTimeRatio`"},{"name":"CachePercentZScore","expression":"`CachePercentZScore`"},{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"UsedCacheFlag","expression":"`UsedCacheFlag`"},{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"statement_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"statement_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[{"if":{"column":"execution_status","fn":"=","literal":"FINISHED"},"value":{"foregroundColor":"#3BD973"}},{"if":{"column":"execution_status","fn":"=","literal":"FAILED"},"value":{"foregroundColor":"#E92828"}},{"if":{"column":"execution_status","fn":"=","literal":"CANCELED"},"value":{"foregroundColor":"#494949"}}]},"displayName":"statement_id"},{"fieldName":"AllocatedQueryCostByTime","numberFormat":"$0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":1,"title":"Query Cost ($)","allowSearch":false,"alignContent":"center","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"Query Cost Allocated By Total Runtime In Warehouse Period","cellFormat":{"default":{"foregroundColor":"#002FB4"},"rules":[]},"displayName":"AllocatedQueryCostByTime"},{"fieldName":"QueryRuntimeSeconds","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":2,"title":"Runtime (s)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryRuntimeSeconds"},{"fieldName":"QueryTag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"QueryTag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryTag"},{"fieldName":"statement_text","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":5,"title":"Query","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"statement_text"},{"fieldName":"execution_status","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":9,"title":"execution_status","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"execution_status"},{"fieldName":"statement_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":10,"title":"statement_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"statement_type"},{"fieldName":"executed_by","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":11,"title":"executed_by","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"executed_by"},{"fieldName":"CPUTotalExecutionTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":13,"title":"CPUTotalExecutionTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CPUTotalExecutionTime"},{"fieldName":"TotalResourceTimeUsedForAllocation","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":14,"title":"TotalResourceTimeUsedForAllocation","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"This is the query task time and used for query time/cost attribution. Some operations are metadata only and are not included in warehouse utilization and cost","displayName":"TotalResourceTimeUsedForAllocation"},{"fieldName":"ExecutionQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":15,"title":"ExecutionQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ExecutionQueryTime"},{"fieldName":"CompilationQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":16,"title":"CompilationQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CompilationQueryTime"},{"fieldName":"QueueQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":17,"title":"QueueQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueueQueryTime"},{"fieldName":"StartUpQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":18,"title":"StartUpQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StartUpQueryTime"},{"fieldName":"ResultFetchTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":19,"title":"ResultFetchTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ResultFetchTime"},{"fieldName":"start_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":21,"title":"start_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"start_time"},{"fieldName":"end_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":22,"title":"end_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"end_time"},{"fieldName":"update_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":23,"title":"update_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"update_time"},{"fieldName":"TotalCPUTime_To_Execution_Time_Ratio","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":24,"title":"TotalCPUTime_To_Execution_Time_Ratio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"TotalCPUTime_To_Execution_Time_Ratio"},{"fieldName":"ProportionQueueTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":25,"title":"ProportionQueueTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ProportionQueueTime"},{"fieldName":"read_bytes","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":26,"title":"read_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"read_bytes"},{"fieldName":"read_io_cache_percent","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":27,"title":"read_io_cache_percent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"read_io_cache_percent"},{"fieldName":"from_result_cache","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"boolean","displayAs":"boolean","visible":true,"order":28,"title":"from_result_cache","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"from_result_cache"},{"fieldName":"spilled_local_bytes","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":29,"title":"spilled_local_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"spilled_local_bytes"},{"fieldName":"ReadDataAmountInGB","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":35,"title":"ReadDataAmountInGB","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ReadDataAmountInGB"},{"fieldName":"ReadDataFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":36,"title":"ReadDataFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ReadDataFlag"},{"fieldName":"UsedWorkerTasksFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":37,"title":"UsedWorkerTasksFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"UsedWorkerTasksFlag"},{"fieldName":"LongRunningQueryFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":38,"title":"LongRunningQueryFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"LongRunningQueryFlag"},{"fieldName":"WarehouseAvgTaskToExecutionTimeRatio","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":39,"title":"WarehouseAvgTaskToExecutionTimeRatio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"WarehouseAvgTaskToExecutionTimeRatio"},{"fieldName":"CachePercentZScore","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":47,"title":"CachePercentZScore","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CachePercentZScore"},{"fieldName":"HasSpillFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":48,"title":"HasSpillFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"HasSpillFlag"},{"fieldName":"UsedCacheFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":53,"title":"UsedCacheFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"UsedCacheFlag"},{"fieldName":"HighDataVolumeFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":54,"title":"HighDataVolumeFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"HighDataVolumeFlag"}]},"invisibleColumns":[{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryEfficiencyRatio","type":"float","displayAs":"number","order":4,"title":"Efficiency Ratio (Experimental)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"EXPERIMENTAL - Ratio of Execution Time to Total CPU Time (higher is worse)"},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"SpillAmountZScore","type":"float","displayAs":"number","order":6,"title":"SpillAmountZScore","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"DataVolumeZScore","type":"float","displayAs":"number","order":7,"title":"DataVolumeZScore","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_id","type":"string","displayAs":"string","order":8,"title":"warehouse_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ProblemQueryMetric","type":"float","displayAs":"number","order":12,"title":"Problem Query Metric (higher is worse","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"Metric that sums up flags such as high volume, spill, query efficiency (the higher the most likely this is an inefficient query","cellFormat":{"default":{"foregroundColor":"#000000"},"rules":[{"if":{"column":"ProblemQueryMetric","fn":">=","literal":"2"},"value":{"foregroundColor":"#E92828"}},{"if":{"column":"ProblemQueryMetric","fn":">=","literal":"1"},"value":{"foregroundColor":"#FB8D3D"}}]}},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueryRuntime","type":"float","displayAs":"number","order":20,"title":"WarehouseAvgQueryRuntime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalUsedTimeInWarehouse","type":"float","displayAs":"number","order":30,"title":"TotalUsedTimeInWarehouse","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalStatementTextTimeUsed","type":"float","displayAs":"number","order":31,"title":"TotalStatementTextTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ProportionOfWarehouseTimeUsedByQuery","type":"float","displayAs":"number","order":32,"title":"ProportionOfWarehouseTimeUsedByQuery","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueueTime","type":"float","displayAs":"number","order":33,"title":"WarehouseAvgQueueTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgProportionTimeQueueing","type":"float","displayAs":"number","order":34,"title":"WarehouseAvgProportionTimeQueueing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgReadDataInGBPerQuery","type":"float","displayAs":"number","order":40,"title":"WarehouseAvgReadDataInGBPerQuery","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseStdReadDataInGBPerQuery","type":"float","displayAs":"number","order":41,"title":"WarehouseStdReadDataInGBPerQuery","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgDeltaCachePercent","type":"float","displayAs":"number","order":42,"title":"WarehouseAvgDeltaCachePercent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseStdDeltaCachePercent","type":"float","displayAs":"number","order":43,"title":"WarehouseStdDeltaCachePercent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgDiskSpillAmount","type":"float","displayAs":"number","order":44,"title":"WarehouseAvgDiskSpillAmount","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseStdDiskSpillAmount","type":"float","displayAs":"number","order":45,"title":"WarehouseStdDiskSpillAmount","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueryEfficiencyRatio","type":"float","displayAs":"number","order":46,"title":"WarehouseAvgQueryEfficiencyRatio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_HasSpillFlag","type":"integer","displayAs":"number","order":49,"title":"Calc_HasSpillFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_ReadDataFlag","type":"decimal","displayAs":"number","order":50,"title":"Calc_ReadDataFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_UsedWorkerTasksFlag","type":"decimal","displayAs":"number","order":51,"title":"Calc_UsedWorkerTasksFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_LongRunningQueryFlag","type":"integer","displayAs":"number","order":52,"title":"Calc_LongRunningQueryFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_HighDataVolumeFlag","type":"integer","displayAs":"number","order":55,"title":"Calc_HighDataVolumeFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_Dollars","type":"float","displayAs":"number","order":56,"title":"Total_Warehouse_Period_Dollars","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"raw_tagged","type":"string","displayAs":"string","order":57,"title":"raw_tagged","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P50","type":"float","displayAs":"number","order":58,"title":"QueryRuntime_P50","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P90","type":"float","displayAs":"number","order":59,"title":"QueryRuntime_P90","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P95","type":"float","displayAs":"number","order":60,"title":"QueryRuntime_P95","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P99","type":"float","displayAs":"number","order":61,"title":"QueryRuntime_P99","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P50","type":"float","displayAs":"number","order":62,"title":"QueryQueueTime_P50","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P90","type":"float","displayAs":"number","order":63,"title":"QueryQueueTime_P90","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P95","type":"float","displayAs":"number","order":64,"title":"QueryQueueTime_P95","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P99","type":"float","displayAs":"number","order":65,"title":"QueryQueueTime_P99","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"client_application","type":"string","displayAs":"string","order":66,"title":"client_application","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"account_id","type":"string","displayAs":"string","order":67,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"workspace_id","type":"string","displayAs":"string","order":68,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"dateTimeFormat":"DD/MM/YY HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"event_time","type":"datetime","displayAs":"datetime","order":69,"title":"event_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"action_name","type":"string","displayAs":"string","order":70,"title":"action_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_name","type":"string","displayAs":"string","order":71,"title":"warehouse_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_type","type":"string","displayAs":"string","order":72,"title":"warehouse_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"auto_stop_mins","type":"string","displayAs":"string","order":73,"title":"auto_stop_mins","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_size","type":"string","displayAs":"string","order":74,"title":"warehouse_size","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"min_cluster_scaling","type":"integer","displayAs":"number","order":75,"title":"min_cluster_scaling","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"max_cluster_scaing","type":"integer","displayAs":"number","order":76,"title":"max_cluster_scaing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_channel","type":"string","displayAs":"string","order":77,"title":"warehouse_channel","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_editor_user","type":"string","displayAs":"string","order":78,"title":"warehouse_editor_user","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ChangeRank","type":"integer","displayAs":"number","order":79,"title":"ChangeRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"RecencyRank","type":"integer","displayAs":"number","order":80,"title":"RecencyRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDeleted","type":"string","displayAs":"string","order":81,"title":"IsDeleted","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_creator","type":"string","displayAs":"string","order":82,"title":"warehouse_creator","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_latest_editor","type":"string","displayAs":"string","order":83,"title":"warehouse_latest_editor","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDeletedCurrently","type":"string","displayAs":"string","order":84,"title":"IsDeletedCurrently","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"written_bytes","type":"integer","displayAs":"number","order":100021,"title":"written_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_metadata_json","type":"string","displayAs":"string","order":100039,"title":"dbt_metadata_json","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_app","type":"string","displayAs":"string","order":100040,"title":"dbt_app","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_node_id","type":"string","displayAs":"string","order":100041,"title":"dbt_node_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_profile_name","type":"string","displayAs":"string","order":100042,"title":"dbt_profile_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_target_name","type":"string","displayAs":"string","order":100043,"title":"dbt_target_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_version","type":"string","displayAs":"string","order":100044,"title":"dbt_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_databricks_version","type":"string","displayAs":"string","order":100045,"title":"dbt_databricks_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"parsed_dbt_comment","type":"complex","displayAs":"json","order":100046,"title":"parsed_dbt_comment","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDBTQuery","type":"string","displayAs":"string","order":100047,"title":"IsDBTQuery","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"showDescription":true,"title":"Query Efficiency Detail","description":"Table-level detailed view of query efficiency along with flags (green = succeed query, red = failed query)"}}},"position":{"x":0,"y":139,"width":6,"height":8}},{"widget":{"name":"e2075afb","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"avg(QueryRuntimeSeconds)","scale":{"type":"quantitative","domain":{"min":0}},"displayName":"Avgerage Runtime (s)"},"color":{"fieldName":"QueryTag","scale":{"type":"categorical"},"displayName":"QueryTag"}},"frame":{"showTitle":true,"title":"Query Runtime Trends"},"mark":{"colors":["#00A972","#FFAB00","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":0,"y":68,"width":4,"height":6}},{"widget":{"name":"fcc7ca35","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HighDataVolumeFlag","query":{"datasetName":"eaf6748f","fields":[{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"},{"name":"HighDataVolumeFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HighDataVolumeFlag","displayName":"HighDataVolumeFlag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HighDataVolumeFlag"}]},"frame":{"showTitle":true,"title":"High Data Volume Flag"}}},"position":{"x":2,"y":104,"width":1,"height":2}},{"widget":{"name":"5ae2c9ef","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f910028c2427c573f104c5_start_time","query":{"datasetName":"e7c37492","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_time","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f910028c2427c573f104c5_start_time"}]},"frame":{"showTitle":true,"title":"Start Time"}}},"position":{"x":1,"y":41,"width":1,"height":2}},{"widget":{"name":"4bb27d70","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"minutely(event_minute)","expression":"DATE_TRUNC(\"MINUTE\", `event_minute`)"},{"name":"max(NumberOfClustersOn)","expression":"MAX(`NumberOfClustersOn`)"},{"name":"max(warehouse_max_clusters)","expression":"MAX(`warehouse_max_clusters`)"},{"name":"min(warehouse_min_clusters)","expression":"MIN(`warehouse_min_clusters`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"minutely(event_minute)","scale":{"type":"temporal"},"displayName":"Event Minute"},"y":{"scale":{"type":"quantitative","domain":{"min":0}},"fields":[{"fieldName":"max(NumberOfClustersOn)","displayName":"Clusters Scaled"},{"fieldName":"max(warehouse_max_clusters)","displayName":"Current Max Clusters"},{"fieldName":"min(warehouse_min_clusters)","displayName":"Current Min Clusters"}]}},"frame":{"showTitle":true,"title":"Warehouse Scaling Over Time"},"mark":{"colors":["#308aeb","#FF3621","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":0,"y":51,"width":6,"height":6}},{"widget":{"name":"0098742a","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"client_application","expression":"`client_application`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"y":{"fieldName":"client_application","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Query Source"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Queries By Source App"}}},"position":{"x":0,"y":81,"width":2,"height":6}},{"widget":{"name":"9d35e3d7","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"avg(read_io_cache_percent)","expression":"AVG(`read_io_cache_percent`)"}],"disaggregated":false}}],"spec":{"version":1,"widgetType":"combo","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"primary":{"fields":[{"fieldName":"avg(read_io_cache_percent)","displayName":"Avg % Cache"}]},"secondary":{"fields":[]},"scale":{"type":"quantitative"}}},"mark":{"colors":["#8BCAE7","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]},"frame":{"showTitle":true,"title":"Caching Trends","showDescription":true,"description":"Avg %Cache Used in Queries Over Time"}}},"position":{"x":0,"y":118,"width":6,"height":6}},{"widget":{"name":"f12b4c30","queries":[{"name":"parameter_dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_end_range","query":{"datasetName":"eaf6748f","parameters":[{"name":"end_range","keyword":"end_range"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_range","queryName":"parameter_dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_end_range"}]},"frame":{"showTitle":true,"title":"Query Range End "}}},"position":{"x":5,"y":59,"width":1,"height":2}},{"widget":{"name":"6f0fccf2","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_execution_status","query":{"datasetName":"eaf6748f","fields":[{"name":"execution_status","expression":"`execution_status`"},{"name":"execution_status_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"execution_status","displayName":"execution_status","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_execution_status"}]},"frame":{"showTitle":true,"title":"Query Status"}}},"position":{"x":2,"y":59,"width":1,"height":2}},{"widget":{"name":"c6298142","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"NumberOfClustersOn","expression":"`NumberOfClustersOn`"},{"name":"countdistinct(event_minute)","expression":"COUNT(DISTINCT `event_minute`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"countdistinct(event_minute)","scale":{"type":"quantitative","reverse":true},"axis":{"title":"Num Minutes On N Clusters"},"displayName":"# Minutes On Cluster N"},"color":{"fieldName":"NumberOfClustersOn","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"# Scaled Clusters"},"label":{"show":true}},"frame":{"showTitle":true,"title":"% of Time Warehouse Scaled at Cluster N"},"mark":{"layout":"percent-stack"}}},"position":{"x":4,"y":41,"width":2,"height":4}},{"widget":{"name":"f56c6c29","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_data_volume_min_z_score","query":{"datasetName":"eaf6748f","parameters":[{"name":"data_volume_min_z_score","keyword":"data_volume_min_z_score"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"data_volume_min_z_score","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_data_volume_min_z_score"}]},"frame":{"showTitle":true,"title":"Data Volume Z Score Flag (relative volume to others in Warehouse)"}}},"position":{"x":4,"y":104,"width":2,"height":2}},{"widget":{"name":"f7270906","queries":[{"name":"parameter_dashboards/01ef138d55851eea891925b7c011c764/datasets/01ef138d5592106eaf12ef004afc3bdd_end_time","query":{"datasetName":"71cfcc26","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_time","queryName":"parameter_dashboards/01ef138d55851eea891925b7c011c764/datasets/01ef138d5592106eaf12ef004afc3bdd_end_time"}]},"frame":{"showTitle":true,"title":"Query Range End"}}},"position":{"x":4,"y":149,"width":1,"height":2}},{"widget":{"name":"1f3198c0","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_cluster_unit_price","query":{"datasetName":"71cfcc26","parameters":[{"name":"cluster_unit_price","keyword":"cluster_unit_price"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"cluster_unit_price","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_cluster_unit_price"}]},"frame":{"showTitle":true,"title":"Warehouse Unit Price ($)"}}},"position":{"x":2,"y":149,"width":1,"height":2}},{"widget":{"name":"23843fc6","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(QueryRuntimeSeconds)","displayName":"Average QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"Avg Query Time (s)"}}},"position":{"x":1,"y":63,"width":1,"height":4}},{"widget":{"name":"63e722fe","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"avg(NumberOfClustersOn)","expression":"AVG(`NumberOfClustersOn`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(NumberOfClustersOn)","displayName":"Average NumberOfClustersOn"}},"frame":{"showTitle":true,"title":"Avg Scaled Clusters"}}},"position":{"x":3,"y":43,"width":1,"height":2}},{"widget":{"name":"7b9c6883","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"HasSpillFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"No Spill","color":"#00A972"}]},"legend":{"position":"bottom"},"displayName":"Has Spill"}},"frame":{"showTitle":true,"title":"Queries With Spill"},"mark":{"layout":"stack"}}},"position":{"x":0,"y":106,"width":3,"height":6}},{"widget":{"name":"d8c2b683","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_statement_type","query":{"datasetName":"eaf6748f","fields":[{"name":"statement_type","expression":"`statement_type`"},{"name":"statement_type_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"statement_type","displayName":"statement_type","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_statement_type"}]},"frame":{"showTitle":true,"title":"Statement Type"}}},"position":{"x":1,"y":59,"width":1,"height":2}},{"widget":{"name":"c6d6ad14","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_query_pareto","query":{"datasetName":"71cfcc26","parameters":[{"name":"query_pareto","keyword":"query_pareto"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"query_pareto","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_query_pareto"}]},"frame":{"showTitle":true,"showDescription":true,"title":"Query Pareto Point","description":"This is the % of total warehouse time you want to analyze."}}},"position":{"x":5,"y":149,"width":1,"height":4}},{"widget":{"name":"32d21dc4","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"UsedCacheFlag","expression":"`UsedCacheFlag`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"UsedCacheFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"}]},"legend":{"title":"Used Cache","position":"bottom"},"displayName":"Used Cache"}},"frame":{"showTitle":true,"title":"Queries Using Cache"},"mark":{"layout":"stack"}}},"position":{"x":3,"y":112,"width":3,"height":6}},{"widget":{"name":"24561dd1","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"executed_by","expression":"`executed_by`"},{"name":"sum(ExecutionQueryTime)","expression":"SUM(`ExecutionQueryTime`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(ExecutionQueryTime)","scale":{"type":"quantitative"},"axis":{"title":"Total Query Time Share"},"displayName":"Total Query Time Share"},"color":{"fieldName":"executed_by","scale":{"type":"categorical"},"displayName":"executed_by"},"label":{"show":true}},"frame":{"showDescription":true,"description":"Compute Time By User"}}},"position":{"x":2,"y":124,"width":2,"height":7}},{"widget":{"name":"6453fb09","queries":[{"name":"main_query","query":{"datasetName":"71cfcc26","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"sum(StatementTaskTimeProportion)","expression":"SUM(`StatementTaskTimeProportion`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"QueryTag","axis":{"hideLabels":true,"title":"Query Tag"},"scale":{"type":"categorical","sort":{"by":"y-reversed"}},"displayName":"Query Tag"},"y":{"fieldName":"sum(StatementTaskTimeProportion)","scale":{"type":"quantitative"},"displayName":"% of Total Warehouse Compute Time"},"color":{"fieldName":"QueryTag","scale":{"type":"categorical","mappings":[{"value":"Remaining Long Tail of Queries","color":"#919191"},{"value":"Untagged","color":"#919191"}]},"legend":{"position":"bottom"},"displayName":"Query Tag"},"label":{"show":true}},"frame":{"showTitle":true,"showDescription":true,"title":"Query Warehouse Time By Tag","description":"Query Statement Sorted By % of total warehouse time - i.e. \"How much % of total compute time did query X take up?\""}}},"position":{"x":3,"y":159,"width":3,"height":8}},{"widget":{"name":"266d8228","textbox_spec":"## Section 1: Overall Warehouses (all) Usage & Info Overview\n-----\nThis section helps users get a simple cost picture for their warehouse over time, as well as obtain a clear picture of momentum of cost over time - which can easily be turned into an alert. "},"position":{"x":0,"y":4,"width":6,"height":1}},{"widget":{"name":"ccc30f3c","textbox_spec":"### Query Performance Detail\nThis section drills into details of identifying root causes of poorly performing warehouses down to the query bottlenecks such as spill, high data volume, and long running queries. "},"position":{"x":0,"y":102,"width":6,"height":2}},{"widget":{"name":"d5068dbd","queries":[{"name":"parameter_dashboards/01ef138d55851eea891925b7c011c764/datasets/01ef138d5592106eaf12ef004afc3bdd_start_time","query":{"datasetName":"71cfcc26","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_time","queryName":"parameter_dashboards/01ef138d55851eea891925b7c011c764/datasets/01ef138d5592106eaf12ef004afc3bdd_start_time"}]},"frame":{"showTitle":true,"title":"Query Range Start"}}},"position":{"x":3,"y":149,"width":1,"height":2}},{"widget":{"name":"e304c37e","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HasSpillFlag","query":{"datasetName":"eaf6748f","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"HasSpillFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HasSpillFlag","displayName":"HasSpillFlag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HasSpillFlag"}]},"frame":{"showTitle":true,"title":"Has Spill Flag"}}},"position":{"x":1,"y":104,"width":1,"height":2}},{"widget":{"name":"3b8e6ecf","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_executed_by","query":{"datasetName":"eaf6748f","fields":[{"name":"executed_by","expression":"`executed_by`"},{"name":"executed_by_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"executed_by","displayName":"executed_by","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_executed_by"}]},"frame":{"showTitle":true,"title":"Executed By"}}},"position":{"x":3,"y":59,"width":1,"height":2}},{"widget":{"name":"1db8b25e","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"NumberOfClustersOn","expression":"`NumberOfClustersOn`"},{"name":"countdistinct(event_minute)","expression":"COUNT(DISTINCT `event_minute`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"NumberOfClustersOn","scale":{"type":"categorical"},"displayName":"# Clusters "},"y":{"fieldName":"countdistinct(event_minute)","scale":{"type":"quantitative"},"axis":{"title":"Num Minutes On N Clusters"},"displayName":"# Minutes On Cluster N"},"color":{"fieldName":"NumberOfClustersOn","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"# Scaled Clusters"}},"frame":{"showTitle":true,"title":"Warehouse Scaling Pattern Histogram"}}},"position":{"x":0,"y":45,"width":6,"height":6}},{"widget":{"name":"c453f4ba","textbox_spec":"#### Warehouse Performance - Query Queue Time\nQuery queue time helps show how long your queries are waiting in the queue to be run. This metric is largely controlled by the concurrency scaling. If your queue times are not meeting your required SLAs, consider increasing the max scaling clusters."},"position":{"x":0,"y":74,"width":6,"height":1}},{"widget":{"name":"8cc52b62","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_LongRunningQueryFlag","query":{"datasetName":"eaf6748f","fields":[{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"LongRunningQueryFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"LongRunningQueryFlag","displayName":"LongRunningQueryFlag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_LongRunningQueryFlag"}]},"frame":{"showTitle":true,"title":"Long Query Flag"}}},"position":{"x":0,"y":104,"width":1,"height":2}},{"widget":{"name":"2f3f03b4","queries":[{"name":"main_query","query":{"datasetName":"71cfcc26","fields":[{"name":"QueryProportionParetoFlag","expression":"`QueryProportionParetoFlag`"},{"name":"sum(StatementTaskTimeProportion)","expression":"SUM(`StatementTaskTimeProportion`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"QueryProportionParetoFlag","axis":{"hideLabels":true,"title":"Query"},"scale":{"type":"categorical","sort":{"by":"y-reversed"}},"displayName":"Query"},"y":{"fieldName":"sum(StatementTaskTimeProportion)","scale":{"type":"quantitative"},"displayName":"% of Total Warehouse Compute Time"},"color":{"fieldName":"QueryProportionParetoFlag","scale":{"type":"categorical","mappings":[{"value":"Remaining Long Tail of Queries","color":"#919191"}]},"legend":{"position":"bottom"},"displayName":"Query Name"},"label":{"show":false}},"frame":{"showTitle":true,"showDescription":true,"title":"Query Resource Allocation Pareto","description":"Query Statement Sorted By % of total warehouse time - i.e. \"How much % of total compute time did query X take up?\""}}},"position":{"x":0,"y":153,"width":6,"height":6}},{"widget":{"name":"df8c25dc","queries":[{"name":"parameter_dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_start_range","query":{"datasetName":"eaf6748f","parameters":[{"name":"start_range","keyword":"start_range"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_range","queryName":"parameter_dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_start_range"}]},"frame":{"showTitle":true,"title":"Query Range Start "}}},"position":{"x":4,"y":59,"width":1,"height":2}},{"widget":{"name":"b7cbd3fd","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_warehouse_id","query":{"datasetName":"eaf6748f","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id (Or Name)"}}},"position":{"x":0,"y":59,"width":1,"height":2}},{"widget":{"name":"1340afd6","textbox_spec":"# DBSQL Warehouse Advisor\n\n## Sections\n1. Warehouse General Intel - show basic billing usage and cost metrics for a warehouse (dbus, $, over time)\n2. Warehouse Scaling Intel - shows basic scaling metrics per warehouse (scaling history, avg scale (weighted))\n3. Query Tuning Advisor - Show common query history metrics such as runtime, queue time, failure rate, cache %, etc., identify inefficient queries with skew/spill indicators\n4. Query Statement Level Resource Allocation Advisor - Identify and allocate warehouse total used time by statement and query (optionally include and aggregate by TAG)\n5. DBT Specific Analysis - Costs, Trends, and Slides by DBT Profile & Model Info"},"position":{"x":0,"y":0,"width":6,"height":4}},{"widget":{"name":"35b2400d","textbox_spec":"## Section 3: Query Performance Analysis\n-----\nThis section helps dive into warehouse performance to understand how well the warehouse is performing against SLAs, identifying bottlenecks, as well as queries that are taking up the majority of the resources."},"position":{"x":0,"y":57,"width":6,"height":2}},{"widget":{"name":"9adeeb7a","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_warehouse_id","query":{"datasetName":"71cfcc26","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse (Id or Name)"}}},"position":{"x":0,"y":149,"width":2,"height":2}},{"widget":{"name":"054d0064","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_QueryTag","query":{"datasetName":"eaf6748f","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"QueryTag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"QueryTag","displayName":"QueryTag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_QueryTag"}]},"frame":{"showTitle":true,"title":"Query Tag"}}},"position":{"x":4,"y":61,"width":1,"height":2}},{"widget":{"name":"788cdc52","textbox_spec":"## Section 4 - Query Resource Allocation Advisor\n-----\nThis section helps to allocate query runtime cost across the warehouse down to the query level. The first visual is a pareto analysis that shows which queries take up the top X% of the warehouse total runtime. "},"position":{"x":0,"y":147,"width":6,"height":2}},{"widget":{"name":"22800e57","queries":[{"name":"main_query","query":{"datasetName":"71cfcc26","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"statement_text","expression":"`statement_text`"},{"name":"StatementAllocatedDollars","expression":"`StatementAllocatedDollars`"},{"name":"StatementAllocatedDBUs","expression":"`StatementAllocatedDBUs`"},{"name":"StatementWarehouseTimePercentage","expression":"`StatementWarehouseTimePercentage`"},{"name":"NumberOfExecutions","expression":"`NumberOfExecutions`"},{"name":"AvgRuntimeInSeconds","expression":"`AvgRuntimeInSeconds`"},{"name":"UserRunCounts","expression":"`UserRunCounts`"},{"name":"TotalStatementTimeUsed","expression":"`TotalStatementTimeUsed`"},{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_profile_id","expression":"`dbt_profile_id`"},{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"QueryProportionParetoFlag","expression":"`QueryProportionParetoFlag`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"QueryTag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"QueryTag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryTag"},{"fieldName":"statement_text","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":1,"title":"Query","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":null},"rules":[{"if":{"column":"QueryProportionParetoFlag","fn":"!=","literal":"Remaining Long Tail of Queries"},"value":{"foregroundColor":"#E92828"}}]},"displayName":"statement_text"},{"fieldName":"StatementAllocatedDollars","numberFormat":"$0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":2,"title":"Allocated Cost ($)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#0b8536"},"rules":[]},"displayName":"StatementAllocatedDollars"},{"fieldName":"StatementAllocatedDBUs","numberFormat":"0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":3,"title":"Allocated DBUs","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StatementAllocatedDBUs"},{"fieldName":"StatementWarehouseTimePercentage","numberFormat":"%0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":4,"title":"% of Warehouse Execution Time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"StatementWarehouseTimePercentage"},{"fieldName":"NumberOfExecutions","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":5,"title":"# Executions","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"NumberOfExecutions"},{"fieldName":"AvgRuntimeInSeconds","numberFormat":"0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":6,"title":"Avg Runtime (s)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"AvgRuntimeInSeconds"},{"fieldName":"UserRunCounts","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"complex","displayAs":"json","visible":true,"order":7,"title":"User Run Breakdown","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"Shows a detailed list of the users that executed this query and how often","displayName":"UserRunCounts"},{"fieldName":"TotalStatementTimeUsed","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":9,"title":"TotalStatementTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"TotalStatementTimeUsed"},{"fieldName":"dbt_node_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":19,"title":"dbt_node_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_node_id"},{"fieldName":"dbt_profile_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":20,"title":"dbt_profile_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_profile_id"},{"fieldName":"dbt_target_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":21,"title":"dbt_target_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_target_name"},{"fieldName":"IsDBTQuery","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":24,"title":"IsDBTQuery","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"IsDBTQuery"}]},"invisibleColumns":[{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalWarehouseTimeUsed","type":"float","displayAs":"number","order":8,"title":"TotalWarehouseTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"%0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"StatementTaskTimeProportion","type":"float","displayAs":"number","order":10,"title":"StatementTaskTimeProportion","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#002FB4"},"rules":[]}},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"CumulativeProportionOfWarehouseTime","type":"float","displayAs":"number","order":11,"title":"CumulativeProportionOfWarehouseTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryProportionParetoFlag","type":"string","displayAs":"string","order":12,"title":"QueryProportionParetoFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_DBUs","type":"float","displayAs":"number","order":13,"title":"Total_Warehouse_Period_DBUs","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_Dollars","type":"float","displayAs":"number","order":14,"title":"Total_Warehouse_Period_Dollars","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"query_signature","type":"string","displayAs":"string","order":15,"title":"query_signature","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"raw_tagged","type":"string","displayAs":"string","order":16,"title":"raw_tagged","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"statetment_type","type":"string","displayAs":"string","order":17,"title":"statetment_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_app","type":"string","displayAs":"string","order":18,"title":"dbt_app","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_version","type":"string","displayAs":"string","order":22,"title":"dbt_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"parsed_dbt_comment","type":"complex","displayAs":"json","order":23,"title":"parsed_dbt_comment","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"showDescription":true,"title":"Query Statement Resource Allocation Detail","description":"Pareto Analysis Detail (Red means it is a top query in the Pareto Analysis)\n+ you can get user level query execution details by scrolling this table -->"}}},"position":{"x":0,"y":167,"width":6,"height":9}},{"widget":{"name":"2644af4c","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"avg(QueryRuntime_P50)","expression":"AVG(`QueryRuntime_P50`)"},{"name":"avg(QueryRuntime_P90)","expression":"AVG(`QueryRuntime_P90`)"},{"name":"avg(QueryRuntime_P95)","expression":"AVG(`QueryRuntime_P95`)"},{"name":"avg(QueryRuntime_P99)","expression":"AVG(`QueryRuntime_P99`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative","reverse":false},"fields":[{"fieldName":"avg(QueryRuntime_P50)","displayName":"P50"},{"fieldName":"avg(QueryRuntime_P90)","displayName":"P90"},{"fieldName":"avg(QueryRuntime_P95)","displayName":"P95"},{"fieldName":"avg(QueryRuntime_P99)","displayName":"P99"}],"axis":{"title":"Query Runtime (s)"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Query Runtime P50, 90, 95, 99"},"mark":{"layout":"group","colors":["#8BCAE7","#2672cb","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":4,"y":68,"width":2,"height":6}},{"widget":{"name":"ddbbeb37","textbox_spec":"## Section 2: Warehouse Scaling Trends\n-----\nThis section simplifies trying to understand how well your warehouse scales as well as helps users project long term costs of spiky workloads more accurately. It pivots the real-time concurrency scaling chart and shows generally how much time and what % of time the warehouse was scaled up to each concurrency level. This can help guage scaling efficiency over time in production as well. \n\nNote: The warehouse settings (size, auto stop, min, and max clusters) represent the snapshot of the configuration of the warehouse at the select end time in that selected window. \n"},"position":{"x":0,"y":38,"width":6,"height":3}},{"widget":{"name":"db297374","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"countdistinct(executed_by)","expression":"COUNT(DISTINCT `executed_by`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"count(*)","displayName":"Count of Records"},"target":{"fieldName":"countdistinct(executed_by)","displayName":"Count of Unique executed_by"}},"frame":{"showTitle":true,"title":"Query Count","showDescription":true,"description":"# users"}}},"position":{"x":2,"y":63,"width":1,"height":4}},{"widget":{"name":"8cd84b23","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"statement_type","expression":"`statement_type`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"area","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Query Count"},"color":{"fieldName":"statement_type","scale":{"type":"categorical"},"legend":{"position":"bottom"},"displayName":"Statement Type"},"label":{"show":false}},"frame":{"showDescription":false,"description":"Query Count By Statement Type Over Time","showTitle":true,"title":"Queries By Statement Type Over Time"}}},"position":{"x":3,"y":87,"width":3,"height":7}},{"widget":{"name":"daec2fcd","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"avg(QueueQueryTime)","expression":"AVG(`QueueQueryTime`)"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"avg(QueueQueryTime)","scale":{"type":"quantitative"},"displayName":"Avg Query Queue Time (s)"}},"frame":{"showTitle":true,"title":"Queue Time Trends"}}},"position":{"x":0,"y":75,"width":4,"height":6}},{"widget":{"name":"e81d8af4","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"},{"name":"execution_status","expression":"`execution_status`"},{"name":"statement_type","expression":"`statement_type`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"execution_status","scale":{"type":"categorical"},"displayName":"Execution Status"},"y":{"fieldName":"statement_type","scale":{"type":"categorical"},"displayName":"Statement Type"},"color":{"fieldName":"avg(QueryRuntimeSeconds)","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"Avg Query Runtime"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Query Runtime By Statement Type, Status"}}},"position":{"x":4,"y":81,"width":2,"height":6}},{"widget":{"name":"4555e4e5","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"sum(AllocatedQueryCostByTime)","expression":"SUM(`AllocatedQueryCostByTime`)"},{"name":"executed_by","expression":"`executed_by`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(AllocatedQueryCostByTime)","scale":{"type":"quantitative"},"axis":{"title":"Total Allocated Cost By User ($)"},"displayName":"Query $ Allocated Cost"},"color":{"fieldName":"executed_by","scale":{"type":"categorical"},"displayName":"executed_by"},"label":{"show":true}},"frame":{"showDescription":true,"description":"Allocated Query Cost By User"}}},"position":{"x":4,"y":124,"width":2,"height":7}},{"widget":{"name":"088272f9","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"warehouse_size","expression":"`warehouse_size`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_size","style":{"rules":[{"condition":{"operator":"="},"color":"#00A972"},{"condition":{"operator":"="},"color":"#00A972"}]},"displayName":"warehouse_size"}},"frame":{"showTitle":true,"title":"Current Size","showDescription":false,"description":"Excludes metadata ops"}}},"position":{"x":3,"y":63,"width":2,"height":2}},{"widget":{"name":"923888d6","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"LongRunningQueryFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"Short Running","color":"#00A972"},{"value":"Long Running","color":"#FFAB00"}]},"legend":{"position":"bottom"},"displayName":"Query Length"}},"frame":{"showTitle":true,"title":"Queries Long Running"},"mark":{"layout":"stack"}}},"position":{"x":3,"y":106,"width":3,"height":6}},{"widget":{"name":"2fd04a54","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"execution_status","expression":"`execution_status`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"area","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Query Count"},"displayName":"Query Count"},"color":{"fieldName":"execution_status","scale":{"type":"categorical","mappings":[{"value":"FAILED","color":"#FF3621"},{"value":"FINISHED","color":"#00A972"},{"value":"CANCELED","color":"#919191"}]},"legend":{"title":"Execution Status","position":"bottom"},"displayName":"Execution Status"}},"frame":{"showTitle":true,"title":"Queries by Status Over Time"}}},"position":{"x":0,"y":87,"width":3,"height":7}},{"widget":{"name":"8b58308c","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f910028c2427c573f104c5_warehouse_id","query":{"datasetName":"e7c37492","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f910028c2427c573f104c5_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id (or use warehouse name)"}}},"position":{"x":0,"y":41,"width":1,"height":2}},{"widget":{"name":"4906e7d3","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"sum(ExecutionQueryTime)","expression":"SUM(`ExecutionQueryTime`)"},{"name":"dbt_node_id","expression":"`dbt_node_id`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(ExecutionQueryTime)","scale":{"type":"quantitative"},"displayName":"Query Execution Time (s)"},"y":{"fieldName":"dbt_node_id","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"dbt_node_id"},"color":{"fieldName":"dbt_target_name","scale":{"type":"categorical"},"displayName":"dbt_target_name"}},"frame":{"showTitle":true,"title":"Allocated Query Cost By DBT Profile / Node"}}},"position":{"x":3,"y":131,"width":3,"height":8}},{"widget":{"name":"554a0eec","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"sum(AllocatedQueryCostByTime)","expression":"SUM(`AllocatedQueryCostByTime`)"},{"name":"QueryTag","expression":"`QueryTag`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(AllocatedQueryCostByTime)","scale":{"type":"quantitative"},"displayName":"Allocated Query Cost"},"y":{"fieldName":"QueryTag","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"QueryTag"}},"frame":{"showTitle":true,"title":"Allocated Query Cost By Tag"}}},"position":{"x":0,"y":131,"width":3,"height":8}},{"widget":{"name":"a5dff4fd","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_long_running_seconds_treshold","query":{"datasetName":"eaf6748f","parameters":[{"name":"long_running_seconds_treshold","keyword":"long_running_seconds_treshold"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"long_running_seconds_treshold","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_long_running_seconds_treshold"}]},"frame":{"showTitle":true,"title":"Long Running Query Threshold (s) For Flag"}}},"position":{"x":3,"y":104,"width":1,"height":2}},{"widget":{"name":"b7cafc3b","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"area","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"QueryTag","scale":{"type":"categorical"},"displayName":"QueryTag"}},"frame":{"showTitle":true,"title":"Queries Over Time By Tag"}}},"position":{"x":0,"y":94,"width":3,"height":8}},{"widget":{"name":"576d7ee0","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_client_application","query":{"datasetName":"eaf6748f","fields":[{"name":"client_application","expression":"`client_application`"},{"name":"client_application_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"client_application","displayName":"client_application","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_client_application"}]},"frame":{"showTitle":true,"title":"Query Source App"}}},"position":{"x":5,"y":61,"width":1,"height":2}},{"widget":{"name":"95a41a58","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"avg(QueryQueueTime_P50)","expression":"AVG(`QueryQueueTime_P50`)"},{"name":"avg(QueryQueueTime_P90)","expression":"AVG(`QueryQueueTime_P90`)"},{"name":"avg(QueryQueueTime_P95)","expression":"AVG(`QueryQueueTime_P95`)"},{"name":"avg(QueryQueueTime_P99)","expression":"AVG(`QueryQueueTime_P99`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative","reverse":false},"fields":[{"fieldName":"avg(QueryQueueTime_P50)","displayName":"P50"},{"fieldName":"avg(QueryQueueTime_P90)","displayName":"P90"},{"fieldName":"avg(QueryQueueTime_P95)","displayName":"P95"},{"fieldName":"avg(QueryQueueTime_P99)","displayName":"P99"}],"axis":{"title":"Query Queue Time (s)"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Query Queue Time P50, 90, 95, 99"},"mark":{"layout":"group","colors":["#8BCAE7","#2672cb","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":4,"y":75,"width":2,"height":6}},{"widget":{"name":"e8e9259d","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"executed_by","expression":"`executed_by`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Count of Records"},"color":{"fieldName":"executed_by","scale":{"type":"categorical"},"displayName":"executed_by"},"label":{"show":true}},"frame":{"showDescription":true,"description":"Query Count By User"}}},"position":{"x":0,"y":124,"width":2,"height":7}},{"widget":{"name":"ef9ee54c","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"},{"name":"execution_status","expression":"`execution_status`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"heatmap","encodings":{"x":{"fieldName":"execution_status","scale":{"type":"categorical"},"displayName":"Execution Status"},"y":{"fieldName":"QueryTag","scale":{"type":"categorical"},"displayName":"Query Tag"},"color":{"fieldName":"avg(QueryRuntimeSeconds)","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"Avg Query Runtime"}},"frame":{"showTitle":true,"title":"Query Runtime By Tag, Execution Status"}}},"position":{"x":2,"y":81,"width":2,"height":6}},{"widget":{"name":"2bf2e077","textbox_spec":"#### Warehouse Performance - Query Runtime\nQuery runtime helps identify if your warehouse is meeting your SLAs. The runtime is generally controlled by the size of the warehouse. So if your queries are running slower than your desired SLA, try increasing the warehouse T-shirt size. "},"position":{"x":0,"y":67,"width":6,"height":1}},{"widget":{"name":"17ea5f1a","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id","query":{"datasetName":"740898df","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_id","query":{"datasetName":"06bd7079","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id"},{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":5,"width":1,"height":2}},{"widget":{"name":"163084fd","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_name","query":{"datasetName":"740898df","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"warehouse_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_name","query":{"datasetName":"06bd7079","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"warehouse_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_name","displayName":"warehouse_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_name"},{"fieldName":"warehouse_name","displayName":"warehouse_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_name"}]},"frame":{"showTitle":true,"title":"Current Warehouse Name"}}},"position":{"x":1,"y":5,"width":1,"height":2}},{"widget":{"name":"8cd7ac74","queries":[{"name":"main_query","query":{"datasetName":"740898df","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"displayName":"Usage Date"},"y":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Dollars"},"color":{"fieldName":"warehouse_name","scale":{"type":"categorical"},"legend":{"position":"bottom"},"displayName":"warehouse_name"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Name"}}},"position":{"x":0,"y":16,"width":6,"height":7}},{"widget":{"name":"13bdca8e","queries":[{"name":"main_query","query":{"datasetName":"06bd7079","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"ChangeRank","expression":"`ChangeRank`"},{"name":"action_name","expression":"`action_name`"},{"name":"warehouse_size","expression":"`warehouse_size`"},{"name":"min_cluster_scaling","expression":"`min_cluster_scaling`"},{"name":"max_cluster_scaing","expression":"`max_cluster_scaing`"},{"name":"auto_stop_mins","expression":"`auto_stop_mins`"},{"name":"warehouse_editor_user","expression":"`warehouse_editor_user`"},{"name":"workspace_id","expression":"`workspace_id`"},{"name":"account_id","expression":"`account_id`"},{"name":"event_time","expression":"`event_time`"},{"name":"warehouse_channel","expression":"`warehouse_channel`"},{"name":"RecencyRank","expression":"`RecencyRank`"},{"name":"IsDeleted","expression":"`IsDeleted`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"warehouse_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"warehouse_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_id"},{"fieldName":"warehouse_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":1,"title":"warehouse_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_name"},{"fieldName":"ChangeRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":2,"title":"ChangeRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ChangeRank"},{"fieldName":"action_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"action_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"action_name"},{"fieldName":"warehouse_size","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":4,"title":"warehouse_size","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_size"},{"fieldName":"min_cluster_scaling","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":5,"title":"min_cluster_scaling","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"min_cluster_scaling"},{"fieldName":"max_cluster_scaing","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":6,"title":"max_cluster_scaing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"max_cluster_scaing"},{"fieldName":"auto_stop_mins","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":7,"title":"auto_stop_mins","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"auto_stop_mins"},{"fieldName":"warehouse_editor_user","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":8,"title":"warehouse_editor_user","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_editor_user"},{"fieldName":"workspace_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":9,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"workspace_id"},{"fieldName":"account_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":10,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"account_id"},{"fieldName":"event_time","dateTimeFormat":"DD/MM/YY HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":11,"title":"event_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"event_time"},{"fieldName":"warehouse_channel","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":13,"title":"warehouse_channel","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_channel"},{"fieldName":"RecencyRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":14,"title":"RecencyRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"RecencyRank"},{"fieldName":"IsDeleted","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":15,"title":"IsDeleted","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"IsDeleted"}]},"invisibleColumns":[{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_type","type":"string","displayAs":"string","order":12,"title":"warehouse_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"title":"Warehouse Change History (recommended to pick 1 warehouse for best readability)"}}},"position":{"x":0,"y":31,"width":6,"height":7}},{"widget":{"name":"f2b0fb82","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_WarehouseUsageTopNRank","query":{"datasetName":"740898df","fields":[{"name":"min(WarehouseUsageTopNRank)","expression":"MIN(`WarehouseUsageTopNRank`)"},{"name":"max(WarehouseUsageTopNRank)","expression":"MAX(`WarehouseUsageTopNRank`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"WarehouseUsageTopNRank","displayName":"WarehouseUsageTopNRank","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_WarehouseUsageTopNRank"}]},"frame":{"showTitle":true,"title":"Top N Warehouse By Usage","showDescription":true,"description":"Filter this section by top N warehouse by total usage in period"}}},"position":{"x":4,"y":5,"width":2,"height":2}},{"widget":{"name":"76159055","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_start_date","query":{"datasetName":"740898df","parameters":[{"name":"start_date","keyword":"start_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_date","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_start_date"}]},"frame":{"showTitle":true,"title":"Warehouse Usage Start"}}},"position":{"x":2,"y":5,"width":1,"height":2}},{"widget":{"name":"5916a266","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_IsDeletedCurrently","query":{"datasetName":"740898df","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"IsDeletedCurrently_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"IsDeletedCurrently","displayName":"IsDeletedCurrently","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_IsDeletedCurrently"}]},"frame":{"showTitle":true,"title":"Is Deleted?"}}},"position":{"x":0,"y":7,"width":1,"height":2}},{"widget":{"name":"085a30d3","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_size","query":{"datasetName":"740898df","fields":[{"name":"warehouse_size","expression":"`warehouse_size`"},{"name":"warehouse_size_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_size","displayName":"warehouse_size","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_size"}]},"frame":{"showTitle":true,"title":"Current Size"}}},"position":{"x":1,"y":7,"width":1,"height":2}},{"widget":{"name":"f55f95b7","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_min_cluster_scaling","query":{"datasetName":"740898df","fields":[{"name":"min(min_cluster_scaling)","expression":"MIN(`min_cluster_scaling`)"},{"name":"max(min_cluster_scaling)","expression":"MAX(`min_cluster_scaling`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"min_cluster_scaling","displayName":"min_cluster_scaling","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_min_cluster_scaling"}]},"frame":{"showTitle":true,"title":"Current Min Clusters"}}},"position":{"x":2,"y":7,"width":1,"height":2}},{"widget":{"name":"c8d6ed15","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_max_cluster_scaing","query":{"datasetName":"740898df","fields":[{"name":"min(max_cluster_scaing)","expression":"MIN(`max_cluster_scaing`)"},{"name":"max(max_cluster_scaing)","expression":"MAX(`max_cluster_scaing`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"max_cluster_scaing","displayName":"max_cluster_scaing","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_max_cluster_scaing"}]},"frame":{"showTitle":true,"title":"Current Max Clusters"}}},"position":{"x":3,"y":7,"width":1,"height":2}},{"widget":{"name":"43a4928b","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id","query":{"datasetName":"740898df","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id"}]},"frame":{"showTitle":true,"title":"Workspace Id"}}},"position":{"x":4,"y":7,"width":1,"height":2}},{"widget":{"name":"8a7b2575","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_creator","query":{"datasetName":"740898df","fields":[{"name":"warehouse_creator","expression":"`warehouse_creator`"},{"name":"warehouse_creator_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_creator","displayName":"warehouse_creator","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_creator"}]},"frame":{"showTitle":true,"title":"Warehouse Creator"}}},"position":{"x":5,"y":7,"width":1,"height":2}},{"widget":{"name":"6335c308","queries":[{"name":"main_query","query":{"datasetName":"740898df","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"},{"name":"warehouse_name","expression":"`warehouse_name`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Usage Dollars"},"y":{"fieldName":"warehouse_name","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Warehouse Name"},"color":{"fieldName":"IsDeletedCurrently","scale":{"type":"categorical","mappings":[{"value":"Active","color":"#00A972"},{"value":"Deleted","color":"#0011ff"}]},"displayName":"Is Deleted"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Name"}}},"position":{"x":0,"y":23,"width":3,"height":8}},{"widget":{"name":"b588017f","queries":[{"name":"main_query","query":{"datasetName":"740898df","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"},{"name":"warehouse_creator","expression":"`warehouse_creator`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Usage Dollors"},"y":{"fieldName":"warehouse_creator","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Warehouse Creator"},"color":{"fieldName":"IsDeletedCurrently","scale":{"type":"categorical","mappings":[{"value":"Deleted","color":"#2138ff"},{"value":"Active","color":"#00A972"}]},"displayName":"Is Deleted"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Creator"}}},"position":{"x":3,"y":23,"width":3,"height":8}},{"widget":{"name":"9cbaa09d","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_end_date","query":{"datasetName":"740898df","parameters":[{"name":"end_date","keyword":"end_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_date","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_end_date"}]},"frame":{"showTitle":true,"title":"Warehouse Usage End"}}},"position":{"x":3,"y":5,"width":1,"height":2}},{"widget":{"name":"366e225b","queries":[{"name":"main_query","query":{"datasetName":"740898df","fields":[{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"sum(UsageDollars)","displayName":"Sum of UsageDollars"}},"frame":{"showTitle":true,"title":"Total Usage Dollars In Period"}}},"position":{"x":0,"y":9,"width":1,"height":4}},{"widget":{"name":"59cd90b4","queries":[{"name":"main_query","query":{"datasetName":"740898df","fields":[{"name":"countdistinct(warehouse_id)","expression":"COUNT(DISTINCT `warehouse_id`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(warehouse_id)","displayName":"Count of Unique warehouse_id"}},"frame":{"showTitle":true,"title":"Total Warehouse Count"}}},"position":{"x":0,"y":13,"width":1,"height":3}},{"widget":{"name":"53a05bd8","queries":[{"name":"main_query","query":{"datasetName":"740898df","fields":[{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"displayName":"Usage Date"},"y":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Dollars"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage Over Time"},"mark":{"colors":["#0051a9","#FFAB00","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":1,"y":9,"width":5,"height":7}},{"widget":{"name":"cada9bdc","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"warehouse_size","expression":"`warehouse_size`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_size","rowNumber":0,"displayName":"warehouse_size"}},"frame":{"showTitle":true,"title":"Size"}}},"position":{"x":3,"y":41,"width":1,"height":2}},{"widget":{"name":"0e3255ab","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"min(warehouse_min_clusters)","expression":"MIN(`warehouse_min_clusters`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"min(warehouse_min_clusters)","displayName":"Minimum warehouse_min_clusters"}},"frame":{"showTitle":true,"title":"Min Clusters\n"}}},"position":{"x":1,"y":43,"width":1,"height":2}},{"widget":{"name":"6d15ec3d","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"max(warehouse_max_clusters)","expression":"MAX(`warehouse_max_clusters`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(warehouse_max_clusters)","displayName":"Maximum warehouse_max_clusters"}},"frame":{"showTitle":true,"title":"Max Clusters"}}},"position":{"x":2,"y":43,"width":1,"height":2}},{"widget":{"name":"3b652797","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"min_cluster_scaling","expression":"`min_cluster_scaling`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"min_cluster_scaling","displayName":"min_cluster_scaling"}},"frame":{"showTitle":true,"title":"Current Min Clusters","showDescription":false,"description":"Excludes metadata ops"}}},"position":{"x":5,"y":63,"width":1,"height":2}},{"widget":{"name":"4eb6b397","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"max_cluster_scaing","expression":"`max_cluster_scaing`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max_cluster_scaing","displayName":"max_cluster_scaing"}},"frame":{"showTitle":true,"title":"Current Max Clusters","showDescription":false,"description":"Excludes metadata ops"}}},"position":{"x":5,"y":65,"width":1,"height":2}},{"widget":{"name":"a288a3dc","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"auto_stop_mins","expression":"`auto_stop_mins`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"auto_stop_mins","displayName":"auto_stop_mins"}},"frame":{"showTitle":true,"title":"Current Auto Stop (mins)","showDescription":false,"description":"Excludes metadata ops"}}},"position":{"x":3,"y":65,"width":2,"height":2}},{"widget":{"name":"25cc7d40","queries":[{"name":"main_query","query":{"datasetName":"e7c37492","fields":[{"name":"warehouse_auto_stop_min","expression":"`warehouse_auto_stop_min`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_auto_stop_min","displayName":"warehouse_auto_stop_min"}},"frame":{"showTitle":true,"title":"Auto Stop (mins)"}}},"position":{"x":0,"y":43,"width":1,"height":2}},{"widget":{"name":"5de75d59","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f910028c2427c573f104c5_end_time","query":{"datasetName":"e7c37492","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_time","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f910028c2427c573f104c5_end_time"}]},"frame":{"showTitle":true,"title":"End Time"}}},"position":{"x":2,"y":41,"width":1,"height":2}},{"widget":{"name":"f6138fb9","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_IsDBTQuery","query":{"datasetName":"eaf6748f","fields":[{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"IsDBTQuery_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"IsDBTQuery","displayName":"IsDBTQuery","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_IsDBTQuery"}]},"frame":{"showTitle":true,"title":"DBT Filter","showDescription":true,"description":"Is DBT Query"}}},"position":{"x":0,"y":61,"width":1,"height":2}},{"widget":{"name":"7a40f431","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_profile_name","query":{"datasetName":"eaf6748f","fields":[{"name":"dbt_profile_name","expression":"`dbt_profile_name`"},{"name":"dbt_profile_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_profile_name","displayName":"dbt_profile_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_profile_name"}]},"frame":{"showTitle":true,"title":"DBT Filter","showDescription":true,"description":"DBT Profile"}}},"position":{"x":1,"y":61,"width":1,"height":2}},{"widget":{"name":"2d89f518","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_target_name","query":{"datasetName":"eaf6748f","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_target_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_target_name","displayName":"dbt_target_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_target_name"}]},"frame":{"showTitle":true,"title":"DBT Filter","showDescription":true,"description":"DBT Target"}}},"position":{"x":2,"y":61,"width":1,"height":2}},{"widget":{"name":"1d68fd9b","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_node_id","query":{"datasetName":"eaf6748f","fields":[{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_node_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_node_id","displayName":"dbt_node_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_node_id"}]},"frame":{"showTitle":true,"title":"DBT Filter","showDescription":true,"description":"DBT Node"}}},"position":{"x":3,"y":61,"width":1,"height":2}},{"widget":{"name":"24a8e5db","queries":[{"name":"main_query","query":{"datasetName":"eaf6748f","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"area","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"dbt_target_name","scale":{"type":"categorical"},"displayName":"dbt_target_name"}},"frame":{"showTitle":true,"title":"Queries Over Time By DBT Target"}}},"position":{"x":3,"y":94,"width":3,"height":8}},{"widget":{"name":"a77e51e0","queries":[{"name":"main_query","query":{"datasetName":"71cfcc26","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"sum(StatementTaskTimeProportion)","expression":"SUM(`StatementTaskTimeProportion`)"},{"name":"dbt_profile_id","expression":"`dbt_profile_id`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(StatementTaskTimeProportion)","scale":{"type":"quantitative"},"displayName":"% of Total Warehouse Compute Time"},"y":{"fieldName":"dbt_profile_id","axis":{"hideLabels":true,"title":"Query Tag"},"scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"DBT Profile"},"color":{"fieldName":"dbt_target_name","scale":{"type":"categorical","mappings":[{"value":"Remaining Long Tail of Queries","color":"#919191"},{"value":"Untagged","color":"#919191"}]},"legend":{"position":"bottom"},"displayName":"DBT Target"},"label":{"show":true}},"frame":{"showTitle":true,"showDescription":true,"title":"Query Warehouse Time By DBT Target","description":"Query Statement Sorted By % of total warehouse time - i.e. \"How much % of total compute time did query X take up?\""}}},"position":{"x":0,"y":159,"width":3,"height":8}},{"widget":{"name":"7df1515f","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery","query":{"datasetName":"71cfcc26","fields":[{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"IsDBTQuery_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"IsDBTQuery","displayName":"IsDBTQuery","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"Is DBT Query"}}},"position":{"x":0,"y":151,"width":1,"height":2}},{"widget":{"name":"ee873472","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery","query":{"datasetName":"71cfcc26","fields":[{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"IsDBTQuery_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_profile_id","query":{"datasetName":"71cfcc26","fields":[{"name":"dbt_profile_id","expression":"`dbt_profile_id`"},{"name":"dbt_profile_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"IsDBTQuery","displayName":"IsDBTQuery","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery"},{"fieldName":"dbt_profile_id","displayName":"dbt_profile_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_profile_id"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"DBT Profile"}}},"position":{"x":1,"y":151,"width":1,"height":2}},{"widget":{"name":"96d39942","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_target_name","query":{"datasetName":"71cfcc26","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_target_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_target_name","displayName":"dbt_target_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_target_name"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"DBT Target"}}},"position":{"x":2,"y":151,"width":1,"height":2}},{"widget":{"name":"64a6dedc","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_node_id","query":{"datasetName":"71cfcc26","fields":[{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_node_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_node_id","displayName":"dbt_node_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_node_id"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"DBT Node Id"}}},"position":{"x":3,"y":151,"width":1,"height":2}},{"widget":{"name":"cea29aa8","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_parsed_dbt_comment","query":{"datasetName":"71cfcc26","fields":[{"name":"parsed_dbt_comment","expression":"`parsed_dbt_comment`"},{"name":"parsed_dbt_comment_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"parsed_dbt_comment","displayName":"parsed_dbt_comment","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_parsed_dbt_comment"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"DBT Full Metadata Run"}}},"position":{"x":4,"y":151,"width":1,"height":2}}]}]}