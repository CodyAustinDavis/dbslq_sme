{"datasets":[{"name":"fc2d4844","displayName":"Query History With Ratios","query":"WITH raw_history AS (\n    SELECT\n        f.*,\n        CASE \n            WHEN QueryRuntimeSeconds >= CAST(:long_running_seconds_treshold AS FLOAT) \n            THEN 'Long Running' \n            ELSE 'Short Running' \n        END AS LongRunningQueryFlag,\n        CASE \n            WHEN QueryRuntimeSeconds >= CAST(:long_running_seconds_treshold AS FLOAT) \n            THEN 1 \n            ELSE 0 \n        END AS Calc_LongRunningQueryFlag\n    FROM main.dbsql_warehouse_advisor.warehouse_query_history f\n    WHERE \n        f.warehouse_id IN (\n            SELECT DISTINCT warehouse_id \n            FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n            WHERE lower(c.warehouse_id) = lower(:warehouse_id)\n        )\n        AND start_time BETWEEN CAST(:start_range AS TIMESTAMP) AND CAST(:end_range AS TIMESTAMP)\n),\n\nhistory AS (\n    SELECT *,\n        SUM(TotalResourceTimeUsedForAllocation) OVER () AS TotalUsedTimeInWarehouse,\n        SUM(COALESCE(TotalResourceTimeUsedForAllocation, 0)) OVER (PARTITION BY statement_text) AS TotalStatementTextTimeUsed,\n        CASE \n            WHEN TotalUsedTimeInWarehouse = 0 THEN NULL \n            ELSE TotalResourceTimeUsedForAllocation / TotalUsedTimeInWarehouse \n        END AS ProportionOfWarehouseTimeUsedByQuery\n    FROM raw_history\n),\n\nfiltered_warehouse_usage AS (\n    WITH trimmed_usage AS (\n        SELECT \n            TIMESTAMPDIFF(SECOND, usage_start_time, CAST(:start_range AS TIMESTAMP)) AS seconds_before_start_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_start_range_length,\n            TIMESTAMPDIFF(SECOND, GREATEST(CAST(:start_range AS TIMESTAMP), usage_start_time), usage_end_time) AS seconds_remaining_in_original_start_range,\n            GREATEST(CAST(:start_range AS TIMESTAMP), usage_start_time) AS trimmed_start_time,\n            LEAST(CAST(:end_range AS TIMESTAMP), usage_end_time) AS trimmed_end_time,\n            TIMESTAMPDIFF(SECOND, LEAST(CAST(:end_range AS TIMESTAMP), usage_end_time), usage_end_time) AS seconds_after_end_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_end_range_length,\n            CASE \n                WHEN full_start_range_length > 0 \n                THEN COALESCE((full_start_range_length - seconds_before_start_range) / full_start_range_length, 0) \n                ELSE NULL \n            END AS StartTrimProportion,\n            CASE \n                WHEN full_end_range_length > 0 \n                THEN COALESCE((full_end_range_length - seconds_after_end_range) / full_end_range_length, 0) \n                ELSE NULL \n            END AS EndTrimProportion,\n            COALESCE(EndTrimProportion, StartTrimProportion, 1) AS TrimProportion,\n            usage_start_time,\n            usage_end_time,\n            usage_quantity AS dbus,\n            usage_metadata.warehouse_id AS warehouse_id\n        FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n        WHERE \n            (u.warehouse_id = :warehouse_id \n\n            OR u.warehouse_id IN (\n                SELECT DISTINCT warehouse_id \n                FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n                WHERE lower(c.warehouse_name) = lower(:warehouse_id)\n            )\n            )\n            AND usage_unit = 'DBU'\n            AND (\n                (usage_start_time BETWEEN CAST(:start_range AS TIMESTAMP) AND CAST(:end_range AS TIMESTAMP))\n                OR (usage_end_time BETWEEN CAST(:start_range AS TIMESTAMP) AND CAST(:end_range AS TIMESTAMP))\n            )\n    )\n    SELECT \n        warehouse_id,\n        SUM(dbus * TrimProportion) AS Total_Warehouse_Period_DBUs,\n        SUM(dbus * TrimProportion * CAST(:cluster_unit_price AS FLOAT)) AS Total_Warehouse_Period_Dollars\n    FROM trimmed_usage\n    GROUP BY warehouse_id\n),\n\nwarehouse_average_ratio_metrics AS (\n    SELECT \n        warehouse_id,\n        COALESCE(AVG(CAST(CPUTotalExecutionTime AS FLOAT)) / AVG(CAST(QueryRuntimeSeconds AS FLOAT)), 0) AS WarehouseAvgTaskSkewRatio,\n        COALESCE(MAX(CPUTotalExecutionTime) / MAX(QueryRuntimeSeconds), 0) AS WarehouseMaxTaskSkewRatio,\n        AVG(ReadDataAmountInGB) AS WarehouseAvgReadDataInGBPerQuery,\n        STDDEV(ReadDataAmountInGB) AS WarehouseStdReadDataInGBPerQuery,\n        AVG(read_io_cache_percent) AS WarehouseAvgDeltaCachePercent,\n        STDDEV(read_io_cache_percent) AS WarehouseStdDeltaCachePercent,\n        AVG(spilled_local_bytes) AS WarehouseAvgDiskSpillAmount,\n        STDDEV(spilled_local_bytes) AS WarehouseStdDiskSpillAmount\n    FROM history\n    WHERE CPUTotalExecutionTime > 0 AND ReadDataAmountInGB > 0\n    AND execution_status NOT IN ('FAILED')\n    GROUP BY warehouse_id\n),\n\nquery_level_intel_metrics AS (\n    SELECT qh.*,\n        w.WarehouseAvgTaskSkewRatio AS WarehouseAvgTaskToExecutionTimeRatio,\n        CASE \n            WHEN CPUTotalExecutionTime > 0 \n            AND ReadDataAmountInGB > 0 \n            AND execution_status NOT IN ('FAILED')\n            THEN qh.QueryRuntimeSeconds / (qh.CPUTotalExecutionTime / w.WarehouseAvgTaskSkewRatio)\n            ELSE NULL\n        END AS QueryEfficiencyRatio,\n        w.WarehouseAvgReadDataInGBPerQuery,\n        w.WarehouseStdReadDataInGBPerQuery,\n        w.WarehouseAvgDeltaCachePercent,\n        w.WarehouseStdDeltaCachePercent,\n        w.WarehouseAvgDiskSpillAmount,\n        w.WarehouseStdDiskSpillAmount,\n        u.Total_Warehouse_Period_Dollars,\n        (u.Total_Warehouse_Period_Dollars * ProportionOfWarehouseTimeUsedByQuery) AS AllocatedQueryCostByTime\n    FROM history AS qh\n    LEFT JOIN warehouse_average_ratio_metrics AS w ON w.warehouse_id = qh.warehouse_id\n    LEFT JOIN filtered_warehouse_usage AS u ON u.warehouse_id = qh.warehouse_id\n),\n\nzscores AS (\n    SELECT \n        *,\n        AVG(QueryEfficiencyRatio) OVER () AS WarehouseAvgQueryEfficiencyRatio,\n        (spilled_local_bytes - WarehouseAvgDiskSpillAmount) / NULLIF(WarehouseStdDiskSpillAmount, 0) AS SpillAmountZScore,\n        (read_io_cache_percent - WarehouseAvgDeltaCachePercent) / NULLIF(WarehouseStdDeltaCachePercent, 0) AS CachePercentZScore,\n        (ReadDataAmountInGB - WarehouseAvgReadDataInGBPerQuery) / NULLIF(WarehouseStdReadDataInGBPerQuery, 0) AS DataVolumeZScore,\n        PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P50,\n        PERCENTILE_CONT(0.9) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P90,\n        PERCENTILE_CONT(0.95) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P95,\n        PERCENTILE_CONT(0.99) WITHIN GROUP (ORDER BY QueryRuntimeSeconds) OVER () AS QueryRuntime_P99,\n        PERCENTILE_CONT(0.5) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P50,\n        PERCENTILE_CONT(0.9) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P90,\n        PERCENTILE_CONT(0.95) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P95,\n        PERCENTILE_CONT(0.99) WITHIN GROUP (ORDER BY QueueQueryTime) OVER () AS QueryQueueTime_P99\n    FROM query_level_intel_metrics\n)\n\nSELECT \n    z.*,\n    CASE \n        WHEN DataVolumeZScore > CASE WHEN LENGTH(CAST(:data_volume_min_z_score AS FLOAT)) > 1 THEN CAST(:data_volume_min_z_score AS FLOAT) ELSE 1 END \n        THEN 'High Relative Volume Read' \n        ELSE 'Not High Relative Volume' \n    END AS HighDataVolumeFlag,\n    CASE \n        WHEN DataVolumeZScore > CASE WHEN LENGTH(CAST(:data_volume_min_z_score AS FLOAT)) > 1 THEN CAST(:data_volume_min_z_score AS FLOAT) ELSE 1 END \n        THEN 1 \n        ELSE 0 \n    END AS Calc_HighDataVolumeFlag,\n    (Calc_HasSpillFlag + Calc_ReadDataFlag + Calc_UsedWorkerTasksFlag + Calc_LongRunningQueryFlag + Calc_HighDataVolumeFlag\n    + COALESCE(SpillAmountZScore, 0) + COALESCE(DataVolumeZScore, 0)) AS ProblemQueryMetric,\n    CASE \n        WHEN LENGTH(raw_tagged) >= 1 THEN raw_tagged \n        ELSE 'Untagged' \n    END AS QueryTag,\n    -- Warehouse-level event info\n    current_warehouses.action_name,\ncurrent_warehouses.warehouse_name,\ncurrent_warehouses.warehouse_type,\ncurrent_warehouses.auto_stop_mins,\ncurrent_warehouses.warehouse_size,\ncurrent_warehouses.min_cluster_scaling,\ncurrent_warehouses.max_cluster_scaing,\ncurrent_warehouses.warehouse_channel,\ncurrent_warehouses.warehouse_editor_user,\ncurrent_warehouses.ChangeRank,\ncurrent_warehouses.RecencyRank,\ncurrent_warehouses.IsDeleted,\ncurrent_warehouses.warehouse_creator,\ncurrent_warehouses.warehouse_latest_editor,\ncurrent_warehouses.IsDeletedCurrently,\nTIMESTAMPDIFF(SECOND, :start_range, :end_range) AS total_window_seconds\nFROM zscores AS z\nLEFT JOIN main.dbsql_warehouse_advisor.warehouse_current AS current_warehouses ON current_warehouses.warehouse_id = z.warehouse_id\n","parameters":[{"displayName":"long_running_seconds_treshold","keyword":"long_running_seconds_treshold","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"120"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_range","keyword":"start_range","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_range","keyword":"end_range","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/d"}]}}},{"displayName":"cluster_unit_price","keyword":"cluster_unit_price","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0.7"}]}}},{"displayName":"data_volume_min_z_score","keyword":"data_volume_min_z_score","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"2"}]}}}]},{"name":"36bb7aba","displayName":"Cluster Scaling","query":"-- Most recent warehouse config in selected time period\nWITH warehouse_snapshot AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_scd \n    WHERE action_name IN ('createWarehouse', 'createEndpoint', 'editWarehouse', 'editEndpoint')\n    AND event_time <= CAST(:end_time AS TIMESTAMP)\n    AND (\n        warehouse_id = :warehouse_id\n    )\n    QUALIFY ROW_NUMBER() OVER (PARTITION BY account_id, workspace_id, warehouse_id ORDER BY event_time DESC) = 1\n),\n\n\nraw_scaling AS (\n    SELECT \n        DATE_TRUNC('MINUTE', w.event_time) AS event_minute,\n        MAX(w.cluster_count) AS clusters,\n        MAX(w.warehouse_id) AS warehouse_id\n    FROM main.dbsql_warehouse_advisor.warehouse_scaling_events w\n    INNER JOIN warehouse_snapshot c \n        ON w.warehouse_id = c.warehouse_id\n    WHERE w.event_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n    AND event_type IN ('RUNNING', 'SCALED_UP', 'SCALED_DOWN', 'STOPPED')\n    GROUP BY DATE_TRUNC('MINUTE', w.event_time)\n    ORDER BY event_minute\n),\n\nfull_series AS (\nSELECT explode(sequence((SELECT MIN(event_minute) FROM raw_scaling), (SELECT MAX(event_minute) FROM raw_scaling), INTERVAL 1 MINUTE)) AS minuteChunk\n),\n\n\nfilled_in_series AS (\n    SELECT \n        spine.minuteChunk AS event_minute,\n        MAX(s2.clusters) AS NumberOfClustersOn,\n        MAX(s2.warehouse_id) AS warehouse_id\n    FROM full_series AS spine\n    LEFT JOIN raw_scaling AS s2 \n        ON DATE_TRUNC('MINUTE', s2.event_minute) = spine.minuteChunk\n    GROUP BY spine.minuteChunk\n    ORDER BY event_minute\n),\n\nfinal_scale AS (\nSELECT event_minute,\nLAST_VALUE(NumberOfClustersOn, true) OVER (ORDER BY event_minute) AS NumberOfClustersOn,\nLAST_VALUE(w.warehouse_id, true) OVER (ORDER BY event_minute)  AS warehouse_id\n FROM filled_in_series  w\n ORDER BY warehouse_id, event_minute\n)\n\nSELECT \nf.*,\nwarehouse_channel,\nwarehouse_size,\nmin_cluster_scaling AS warehouse_min_clusters,\nmax_cluster_scaing AS warehouse_max_clusters,\nauto_stop_mins AS warehouse_auto_stop_min\nFROM final_scale AS f\nLEFT JOIN warehouse_snapshot c ON f.warehouse_id = c.warehouse_id","parameters":[{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}}]},{"name":"871b75c8","displayName":"Query Statement Resource Attribution","query":"WITH warehouse_snapshot AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_current w\n    WHERE (\n        lower(w.warehouse_id) = lower(:warehouse_id)\n    )\n    LIMIT 1\n), \n\nraw_history AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_query_history f\n    WHERE \n    f.warehouse_id IN  (\n            SELECT DISTINCT warehouse_id FROM warehouse_snapshot\n        )\n    AND start_time >= CAST(:start_time AS TIMESTAMP) \n    AND end_time <= CAST(:end_time AS TIMESTAMP) \n    AND QueryRuntimeSeconds > 0\n    AND statement_type IS NOT NULL\n),\n\nhistory AS (\n    SELECT *,\n        SUM(TotalResourceTimeUsedForAllocation) OVER () AS TotalUsedTimeInWarehouse,\n        SUM(COALESCE(TotalResourceTimeUsedForAllocation, 0)) OVER (PARTITION BY statement_text) AS TotalStatementTextTimeUsed,\n        CASE \n            WHEN TotalUsedTimeInWarehouse = 0 THEN NULL \n            ELSE TotalResourceTimeUsedForAllocation / TotalUsedTimeInWarehouse \n        END AS ProportionOfWarehouseTimeUsedByQuery\n    FROM raw_history\n),\n\nfiltered_warehouse_usage AS (\n    WITH trimmed_usage AS (\n        SELECT \n            TIMESTAMPDIFF(SECOND, usage_start_time, CAST(:start_time AS TIMESTAMP)) AS seconds_before_start_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_start_range_length,\n            full_start_range_length - seconds_before_start_range AS seconds_remaining_in_original_start_range,\n            GREATEST(CAST(:start_time AS TIMESTAMP), usage_start_time) AS trimmed_start_time,\n            LEAST(CAST(:end_time AS TIMESTAMP), usage_end_time) AS trimmed_end_time,\n            TIMESTAMPDIFF(SECOND, CAST(:end_time AS TIMESTAMP), usage_end_time) AS seconds_after_end_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_end_range_length,\n            full_end_range_length - seconds_after_end_range AS seconds_remaining_in_original_end_range,\n\n            CASE \n                WHEN seconds_before_start_range > 0 \n                THEN COALESCE((full_start_range_length - seconds_before_start_range) / full_start_range_length, 0) \n                ELSE NULL \n            END AS StartTrimProportion,\n            CASE \n                WHEN seconds_after_end_range > 0 \n                THEN COALESCE((full_start_range_length - seconds_after_end_range) / full_start_range_length, 0) \n                ELSE NULL \n            END AS EndTrimProportion,\n            COALESCE(EndTrimProportion, StartTrimProportion, 1) AS TrimProportion,\n            usage_start_time,\n            usage_end_time,\n            usage_quantity AS dbus,\n            warehouse_id AS warehouse_id\n        FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n        WHERE \n            (u.warehouse_id = :warehouse_id \n            OR EXISTS (\n                SELECT warehouse_id \n                FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n                WHERE c.warehouse_id = u.warehouse_id AND warehouse_name = :warehouse_id\n            ))\n            AND usage_unit = 'DBU'\n            AND (\n                usage_start_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n                OR usage_end_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n            )\n    )\n    SELECT \n        warehouse_id,\n        SUM(dbus * TrimProportion) AS Total_Warehouse_Period_DBUs,\n        SUM(dbus * TrimProportion * CAST(:cluster_unit_price AS FLOAT)) AS Total_Warehouse_Period_Dollars\n    FROM trimmed_usage\n    GROUP BY warehouse_id\n),\n\nhistory_with_pricing AS (\n    SELECT \n        h1.*,\n        wh.Total_Warehouse_Period_DBUs, \n        wh.Total_Warehouse_Period_Dollars\n    FROM history AS h1\n    LEFT JOIN filtered_warehouse_usage AS wh \n        ON h1.warehouse_id = wh.warehouse_id\n),\n\nquery_proportion_agg AS (\n    SELECT \n        SHA2(REGEXP_REPLACE(REGEXP_REPLACE(REGEXP_REPLACE(statement_text, '/\\\\*.*?\\\\*/', ''), '(--[^\\\\n]*)', ''), ' ', ''), 256) AS query_signature,\n        MAX(statement_text) AS statement_text,\n        MAX(statement_type) AS statetment_type,\n        MAX(raw_tagged) AS raw_tagged,\n        MAX(dbt_app) AS dbt_app,\n        MAX(dbt_node_id) AS dbt_node_id,\n        MAX(dbt_profile_name) AS dbt_profile_id,\n        MAX(dbt_target_name) AS dbt_target_name,\n        MAX(dbt_version) AS dbt_version,\n        MAX(IsDBTQuery) AS IsDBTQuery,\n        FIRST(parsed_dbt_comment) AS parsed_dbt_comment,\n        COUNT(statement_id) AS NumberOfExecutions,\n        AVG(QueryRuntimeSeconds) AS AvgRuntimeInSeconds,\n        MAX(TotalUsedTimeInWarehouse) AS TotalWarehouseTimeUsed,\n        MAX(Total_Warehouse_Period_DBUs) AS Total_Warehouse_Period_DBUs,\n        MAX(Total_Warehouse_Period_Dollars) AS Total_Warehouse_Period_Dollars,\n        SUM(TotalResourceTimeUsedForAllocation) AS TotalStatementTimeUsed,\n        ARRAY_DISTINCT(COLLECT_LIST(NAMED_STRUCT('user', executed_by, 'execution_count', \n            (SELECT COUNT(statement_id) FROM history AS in_hist \n             WHERE in_hist.executed_by = u.executed_by AND in_hist.statement_text = u.statement_text)\n        ))) AS UserRunCounts\n    FROM history_with_pricing AS u\n    GROUP BY query_signature\n),\n\nstatement_attribution AS (\n    SELECT \n        a.*,\n        CASE \n            WHEN TotalWarehouseTimeUsed = 0 THEN NULL \n            ELSE TotalStatementTimeUsed / TotalWarehouseTimeUsed \n        END AS StatementTaskTimeProportion,\n        Total_Warehouse_Period_Dollars * StatementTaskTimeProportion AS StatementAllocatedDollars,\n        Total_Warehouse_Period_DBUs * StatementTaskTimeProportion AS StatementAllocatedDBUs\n    FROM query_proportion_agg a\n),\n\nstatement_rollup_cumulative_sum AS (\n    SELECT \n        *,\n        SUM(StatementTaskTimeProportion) OVER (ORDER BY StatementTaskTimeProportion DESC) AS CumulativeProportionOfWarehouseTime\n    FROM statement_attribution\n),\n\nranked_query_costs AS (\n    SELECT \n        s.*,\n        StatementTaskTimeProportion * 100 AS StatementWarehouseTimePercentage,\n        ROW_NUMBER() OVER (ORDER BY StatementTaskTimeProportion DESC) AS QueryCostRank,\n        CASE \n            WHEN LENGTH(raw_tagged) >= 1 THEN raw_tagged \n            ELSE 'Untagged' \n        END AS QueryTag,\n        CASE \n            WHEN s.CumulativeProportionOfWarehouseTime <= CAST(:query_pareto AS FLOAT) \n            THEN s.statement_text \n            ELSE 'Remaining Long Tail of Queries' \n        END AS QueryProportionParetoFlag\n    FROM statement_rollup_cumulative_sum s\n    ORDER BY CumulativeProportionOfWarehouseTime\n)\n\nSELECT \n    *,\n    CASE \n        WHEN QueryCostRank <= :top_n \n        THEN 'Top N Query' \n        ELSE 'Remaining Queries' \n    END AS TopNFilter\nFROM ranked_query_costs\nORDER BY QueryCostRank\n","parameters":[{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/d"}]}}},{"displayName":"cluster_unit_price","keyword":"cluster_unit_price","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"0.7"}]}}},{"displayName":"query_pareto","keyword":"query_pareto","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"1"}]}}},{"displayName":"top_n","keyword":"top_n","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"10"}]}}}]},{"name":"c767ac47","displayName":"Warehouse SCD History","query":"SELECT * FROM main.dbsql_warehouse_advisor.warehouse_scd"},{"name":"fb74d1e7","displayName":"Warehouses Current","query":"WITH with_delete_flag AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_current\n),\n\npx_all AS (\n    SELECT DISTINCT\n        sku_name,\n        pricing.default AS unit_price,\n        CAST(unit_price AS DECIMAL(10,3)) AS sku_price\n    FROM system.billing.list_prices \n    QUALIFY ROW_NUMBER() OVER (PARTITION BY sku_name ORDER BY price_start_time DESC) = 1\n),\n\n-- Active Warehouse Metadata\nclean_usage AS (\n    SELECT \n        w.*,\n        usage_date, \n        ((1 - COALESCE(CAST(:warehouse_discount AS FLOAT), 0)) * sku_price) * usage_quantity AS UsageDollars,\n        custom_tags\n    FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n    INNER JOIN px_all AS px \n        ON px.sku_name = u.sku_name\n    INNER JOIN with_delete_flag AS w \n        ON usage_metadata.warehouse_id = w.warehouse_id\n    WHERE warehouse_name IS NOT NULL\n    AND usage_date BETWEEN CAST(:start_date AS TIMESTAMP) AND CAST(:end_date AS TIMESTAMP)\n),\n\nwarehouse_ranks AS (\n    SELECT \n        account_id, \n        workspace_id, \n        warehouse_id,\n        SUM(UsageDollars) AS total_warehouse_usage_in_period,\n        DENSE_RANK() OVER (ORDER BY SUM(UsageDollars) DESC) AS WarehouseUsageTopNRank\n    FROM clean_usage\n    GROUP BY account_id, workspace_id, warehouse_id\n)\n\nSELECT \n    u.*,\n    SHA2(warehouse_name, 256) AS masked_warehouse_name,\n    SHA2(warehouse_creator, 256) AS masked_warehouse_creator,\n    r.WarehouseUsageTopNRank\nFROM clean_usage AS u \nINNER JOIN warehouse_ranks AS r \n    ON u.warehouse_id = r.warehouse_id \n    AND u.account_id = r.account_id \n    AND u.workspace_id = r.workspace_id\n","parameters":[{"displayName":"warehouse_discount","keyword":"warehouse_discount","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0"}]}}},{"displayName":"start_date","keyword":"start_date","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_date","keyword":"end_date","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}}]},{"name":"547c0662","displayName":"Query Queuing","query":"WITH warehouse_snapshot AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_current w\n    WHERE (\n        lower(w.warehouse_id) = lower(:warehouse_id)\n    )\n    LIMIT 1\n), \n\nquery_queuing_history AS (\n    SELECT \n        statement_id,\n        compute.warehouse_id AS warehouse_id,\n        total_duration_ms,\n        COALESCE(waiting_at_capacity_duration_ms, 0) + COALESCE(qh.waiting_for_compute_duration_ms, 0) AS queueing_ms,\n        execution_duration_ms,\n        start_time AS query_start_timestamp,\n        TIMESTAMPADD(MILLISECOND, queueing_ms, query_start_timestamp) AS queuing_end_timestamp,\n        CASE WHEN queueing_ms > 0 THEN 1 ELSE 0 END AS IsQueued,\n        end_time AS query_end_timestamp,\n        DATE_TRUNC('SECOND', query_start_timestamp) AS query_start_second,\n        DATE_TRUNC('SECOND', queuing_end_timestamp) AS query_queue_end_second\n    FROM system.query.history qh\n    WHERE qh.start_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n    AND qh.compute.warehouse_id IN ( SELECT DISTINCT warehouse_id FROM warehouse_snapshot )\n),\n\nfull_series AS (\nSELECT explode(sequence((SELECT date_trunc('SECOND', MIN(query_start_timestamp)) FROM query_queuing_history), (SELECT date_trunc('SECOND', MAX(query_end_timestamp)) FROM query_queuing_history), INTERVAL 1 SECOND)) AS secondChunk\n),\n\nqueuing_details AS (\n    SELECT \n        spine.secondChunk AS second_chunk, \n        -- IsQueued during window flag\n        CASE \n            WHEN (spine.secondChunk >= DATE_TRUNC('SECOND', q.query_start_timestamp)\n                  AND spine.secondChunk <= q.queuing_end_timestamp) \n                 AND q.IsQueued = 1\n            THEN 1 ELSE 0 \n        END AS IsQueuedDuringSecond,\n        -- Peak running\n        CASE \n            WHEN (spine.secondChunk >= DATE_TRUNC('SECOND', q.queuing_end_timestamp)\n                  AND spine.secondChunk <= q.query_end_timestamp)\n            THEN 1 ELSE 0 \n        END AS IsRunningDuringSecond,   \n        q.query_start_timestamp, \n        q.queuing_end_timestamp, \n        q.query_end_timestamp, \n        q.statement_id\n    FROM full_series AS spine\n    LEFT JOIN query_queuing_history AS q \n        ON (spine.secondChunk >= DATE_TRUNC('SECOND', q.query_start_timestamp)\n            AND spine.secondChunk <= q.query_end_timestamp)\n    WHERE q.statement_id IS NOT NULL\n),\n\nsecond_level_queuing AS (\n    SELECT\n        DATE_TRUNC('SECOND', second_chunk) AS second_int, \n        SUM(IsQueuedDuringSecond) AS QueuedCount, \n        SUM(IsRunningDuringSecond) AS RunningCount\n    FROM queuing_details\n    GROUP BY DATE_TRUNC('SECOND', second_chunk)\n    ORDER BY second_int\n)\n\nSELECT \n    DATE_ADD(MINUTE, FLOOR(EXTRACT(MINUTE FROM second_int) / 5) * 5 - EXTRACT(MINUTE FROM second_int), DATE_TRUNC('MINUTE', second_int)) AS five_min_interval,\n    MAX(RunningCount) AS PeakRunning,\n    MAX(QueuedCount) AS PeakQueued\nFROM second_level_queuing\nGROUP BY five_min_interval\nORDER BY five_min_interval\n","parameters":[{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}}]}],"pages":[{"name":"ac79703d","displayName":"New Page","layout":[{"widget":{"name":"cc307912","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"avg(QueueQueryTime)","expression":"AVG(`QueueQueryTime`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(QueueQueryTime)","displayName":"Average QueueQueryTime"}},"frame":{"showTitle":true,"title":"Avg Queue Time (s)"}}},"position":{"x":3,"y":65,"width":1,"height":2}},{"widget":{"name":"9e45f34a","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"HighDataVolumeFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"No Spill","color":"#00A972"},{"value":"High Relative Volume Read","color":"#AB4057"},{"value":"Not High Relative Volume","color":"#00A972"}]},"legend":{"position":"bottom"},"displayName":"High Data Volume Flag"}},"frame":{"showTitle":true,"title":"Queries With High Data Volume"},"mark":{"layout":"stack"}}},"position":{"x":0,"y":115,"width":3,"height":6}},{"widget":{"name":"859ec5a4","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"statement_id","expression":"`statement_id`"},{"name":"AllocatedQueryCostByTime","expression":"`AllocatedQueryCostByTime`"},{"name":"QueryRuntimeSeconds","expression":"`QueryRuntimeSeconds`"},{"name":"QueryTag","expression":"`QueryTag`"},{"name":"statement_text","expression":"`statement_text`"},{"name":"execution_status","expression":"`execution_status`"},{"name":"statement_type","expression":"`statement_type`"},{"name":"executed_by","expression":"`executed_by`"},{"name":"CPUTotalExecutionTime","expression":"`CPUTotalExecutionTime`"},{"name":"TotalResourceTimeUsedForAllocation","expression":"`TotalResourceTimeUsedForAllocation`"},{"name":"ExecutionQueryTime","expression":"`ExecutionQueryTime`"},{"name":"CompilationQueryTime","expression":"`CompilationQueryTime`"},{"name":"QueueQueryTime","expression":"`QueueQueryTime`"},{"name":"StartUpQueryTime","expression":"`StartUpQueryTime`"},{"name":"ResultFetchTime","expression":"`ResultFetchTime`"},{"name":"start_time","expression":"`start_time`"},{"name":"end_time","expression":"`end_time`"},{"name":"update_time","expression":"`update_time`"},{"name":"TotalCPUTime_To_Execution_Time_Ratio","expression":"`TotalCPUTime_To_Execution_Time_Ratio`"},{"name":"ProportionQueueTime","expression":"`ProportionQueueTime`"},{"name":"read_bytes","expression":"`read_bytes`"},{"name":"read_io_cache_percent","expression":"`read_io_cache_percent`"},{"name":"from_result_cache","expression":"`from_result_cache`"},{"name":"spilled_local_bytes","expression":"`spilled_local_bytes`"},{"name":"ReadDataAmountInGB","expression":"`ReadDataAmountInGB`"},{"name":"ReadDataFlag","expression":"`ReadDataFlag`"},{"name":"UsedWorkerTasksFlag","expression":"`UsedWorkerTasksFlag`"},{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"WarehouseAvgTaskToExecutionTimeRatio","expression":"`WarehouseAvgTaskToExecutionTimeRatio`"},{"name":"CachePercentZScore","expression":"`CachePercentZScore`"},{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"UsedCacheFlag","expression":"`UsedCacheFlag`"},{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"statement_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"statement_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[{"if":{"column":"execution_status","fn":"=","literal":"FINISHED"},"value":{"foregroundColor":"#3BD973"}},{"if":{"column":"execution_status","fn":"=","literal":"FAILED"},"value":{"foregroundColor":"#E92828"}},{"if":{"column":"execution_status","fn":"=","literal":"CANCELED"},"value":{"foregroundColor":"#494949"}}]},"displayName":"statement_id"},{"fieldName":"AllocatedQueryCostByTime","numberFormat":"$0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":1,"title":"Query Cost ($)","allowSearch":false,"alignContent":"center","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"Query Cost Allocated By Total Runtime In Warehouse Period. This is attributed at the STATEMENT level. ","cellFormat":{"default":{"foregroundColor":"#002FB4"},"rules":[]},"displayName":"AllocatedQueryCostByTime"},{"fieldName":"QueryRuntimeSeconds","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":2,"title":"Runtime (s)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryRuntimeSeconds"},{"fieldName":"QueryTag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"QueryTag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryTag"},{"fieldName":"statement_text","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":5,"title":"Query","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"statement_text"},{"fieldName":"execution_status","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":9,"title":"execution_status","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"execution_status"},{"fieldName":"statement_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":10,"title":"statement_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"statement_type"},{"fieldName":"executed_by","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":11,"title":"executed_by","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"executed_by"},{"fieldName":"CPUTotalExecutionTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":13,"title":"CPUTotalExecutionTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CPUTotalExecutionTime"},{"fieldName":"TotalResourceTimeUsedForAllocation","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":14,"title":"TotalResourceTimeUsedForAllocation","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"This is the query task time and used for query time/cost attribution. Some operations are metadata only and are not included in warehouse utilization and cost","displayName":"TotalResourceTimeUsedForAllocation"},{"fieldName":"ExecutionQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":15,"title":"ExecutionQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ExecutionQueryTime"},{"fieldName":"CompilationQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":16,"title":"CompilationQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CompilationQueryTime"},{"fieldName":"QueueQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":17,"title":"QueueQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueueQueryTime"},{"fieldName":"StartUpQueryTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":18,"title":"StartUpQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StartUpQueryTime"},{"fieldName":"ResultFetchTime","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":19,"title":"ResultFetchTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ResultFetchTime"},{"fieldName":"start_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":21,"title":"start_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"start_time"},{"fieldName":"end_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":22,"title":"end_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"end_time"},{"fieldName":"update_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":23,"title":"update_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"update_time"},{"fieldName":"TotalCPUTime_To_Execution_Time_Ratio","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":24,"title":"TotalCPUTime_To_Execution_Time_Ratio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"TotalCPUTime_To_Execution_Time_Ratio"},{"fieldName":"ProportionQueueTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":25,"title":"ProportionQueueTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ProportionQueueTime"},{"fieldName":"read_bytes","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":26,"title":"read_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"read_bytes"},{"fieldName":"read_io_cache_percent","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":27,"title":"read_io_cache_percent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"read_io_cache_percent"},{"fieldName":"from_result_cache","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"boolean","displayAs":"boolean","visible":true,"order":28,"title":"from_result_cache","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"from_result_cache"},{"fieldName":"spilled_local_bytes","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":29,"title":"spilled_local_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"spilled_local_bytes"},{"fieldName":"ReadDataAmountInGB","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":35,"title":"ReadDataAmountInGB","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ReadDataAmountInGB"},{"fieldName":"ReadDataFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":36,"title":"ReadDataFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ReadDataFlag"},{"fieldName":"UsedWorkerTasksFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":37,"title":"UsedWorkerTasksFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"UsedWorkerTasksFlag"},{"fieldName":"LongRunningQueryFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":38,"title":"LongRunningQueryFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"LongRunningQueryFlag"},{"fieldName":"WarehouseAvgTaskToExecutionTimeRatio","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":39,"title":"WarehouseAvgTaskToExecutionTimeRatio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"WarehouseAvgTaskToExecutionTimeRatio"},{"fieldName":"CachePercentZScore","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":47,"title":"CachePercentZScore","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CachePercentZScore"},{"fieldName":"HasSpillFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":48,"title":"HasSpillFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"HasSpillFlag"},{"fieldName":"UsedCacheFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":53,"title":"UsedCacheFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"UsedCacheFlag"},{"fieldName":"HighDataVolumeFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":54,"title":"HighDataVolumeFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"HighDataVolumeFlag"}]},"invisibleColumns":[{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryEfficiencyRatio","type":"float","displayAs":"number","order":4,"title":"Efficiency Ratio (Experimental)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"EXPERIMENTAL - Ratio of Execution Time to Total CPU Time (higher is worse)"},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"SpillAmountZScore","type":"float","displayAs":"number","order":6,"title":"SpillAmountZScore","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"DataVolumeZScore","type":"float","displayAs":"number","order":7,"title":"DataVolumeZScore","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_id","type":"string","displayAs":"string","order":8,"title":"warehouse_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ProblemQueryMetric","type":"float","displayAs":"number","order":12,"title":"Problem Query Metric (higher is worse","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"Metric that sums up flags such as high volume, spill, query efficiency (the higher the most likely this is an inefficient query","cellFormat":{"default":{"foregroundColor":"#000000"},"rules":[{"if":{"column":"ProblemQueryMetric","fn":">=","literal":"2"},"value":{"foregroundColor":"#E92828"}},{"if":{"column":"ProblemQueryMetric","fn":">=","literal":"1"},"value":{"foregroundColor":"#FB8D3D"}}]}},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueryRuntime","type":"float","displayAs":"number","order":20,"title":"WarehouseAvgQueryRuntime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalUsedTimeInWarehouse","type":"float","displayAs":"number","order":30,"title":"TotalUsedTimeInWarehouse","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalStatementTextTimeUsed","type":"float","displayAs":"number","order":31,"title":"TotalStatementTextTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ProportionOfWarehouseTimeUsedByQuery","type":"float","displayAs":"number","order":32,"title":"ProportionOfWarehouseTimeUsedByQuery","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueueTime","type":"float","displayAs":"number","order":33,"title":"WarehouseAvgQueueTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgProportionTimeQueueing","type":"float","displayAs":"number","order":34,"title":"WarehouseAvgProportionTimeQueueing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgReadDataInGBPerQuery","type":"float","displayAs":"number","order":40,"title":"WarehouseAvgReadDataInGBPerQuery","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseStdReadDataInGBPerQuery","type":"float","displayAs":"number","order":41,"title":"WarehouseStdReadDataInGBPerQuery","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgDeltaCachePercent","type":"float","displayAs":"number","order":42,"title":"WarehouseAvgDeltaCachePercent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseStdDeltaCachePercent","type":"float","displayAs":"number","order":43,"title":"WarehouseStdDeltaCachePercent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgDiskSpillAmount","type":"float","displayAs":"number","order":44,"title":"WarehouseAvgDiskSpillAmount","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseStdDiskSpillAmount","type":"float","displayAs":"number","order":45,"title":"WarehouseStdDiskSpillAmount","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueryEfficiencyRatio","type":"float","displayAs":"number","order":46,"title":"WarehouseAvgQueryEfficiencyRatio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_HasSpillFlag","type":"integer","displayAs":"number","order":49,"title":"Calc_HasSpillFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_ReadDataFlag","type":"decimal","displayAs":"number","order":50,"title":"Calc_ReadDataFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_UsedWorkerTasksFlag","type":"decimal","displayAs":"number","order":51,"title":"Calc_UsedWorkerTasksFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_LongRunningQueryFlag","type":"integer","displayAs":"number","order":52,"title":"Calc_LongRunningQueryFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_HighDataVolumeFlag","type":"integer","displayAs":"number","order":55,"title":"Calc_HighDataVolumeFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_Dollars","type":"float","displayAs":"number","order":56,"title":"Total_Warehouse_Period_Dollars","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"raw_tagged","type":"string","displayAs":"string","order":57,"title":"raw_tagged","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P50","type":"float","displayAs":"number","order":58,"title":"QueryRuntime_P50","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P90","type":"float","displayAs":"number","order":59,"title":"QueryRuntime_P90","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P95","type":"float","displayAs":"number","order":60,"title":"QueryRuntime_P95","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryRuntime_P99","type":"float","displayAs":"number","order":61,"title":"QueryRuntime_P99","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P50","type":"float","displayAs":"number","order":62,"title":"QueryQueueTime_P50","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P90","type":"float","displayAs":"number","order":63,"title":"QueryQueueTime_P90","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P95","type":"float","displayAs":"number","order":64,"title":"QueryQueueTime_P95","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryQueueTime_P99","type":"float","displayAs":"number","order":65,"title":"QueryQueueTime_P99","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"client_application","type":"string","displayAs":"string","order":66,"title":"client_application","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"account_id","type":"string","displayAs":"string","order":67,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"workspace_id","type":"string","displayAs":"string","order":68,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"dateTimeFormat":"DD/MM/YY HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"event_time","type":"datetime","displayAs":"datetime","order":69,"title":"event_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"action_name","type":"string","displayAs":"string","order":70,"title":"action_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_name","type":"string","displayAs":"string","order":71,"title":"warehouse_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_type","type":"string","displayAs":"string","order":72,"title":"warehouse_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"auto_stop_mins","type":"string","displayAs":"string","order":73,"title":"auto_stop_mins","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_size","type":"string","displayAs":"string","order":74,"title":"warehouse_size","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"min_cluster_scaling","type":"integer","displayAs":"number","order":75,"title":"min_cluster_scaling","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"max_cluster_scaing","type":"integer","displayAs":"number","order":76,"title":"max_cluster_scaing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_channel","type":"string","displayAs":"string","order":77,"title":"warehouse_channel","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_editor_user","type":"string","displayAs":"string","order":78,"title":"warehouse_editor_user","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ChangeRank","type":"integer","displayAs":"number","order":79,"title":"ChangeRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"RecencyRank","type":"integer","displayAs":"number","order":80,"title":"RecencyRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDeleted","type":"string","displayAs":"string","order":81,"title":"IsDeleted","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_creator","type":"string","displayAs":"string","order":82,"title":"warehouse_creator","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_latest_editor","type":"string","displayAs":"string","order":83,"title":"warehouse_latest_editor","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDeletedCurrently","type":"string","displayAs":"string","order":84,"title":"IsDeletedCurrently","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"written_bytes","type":"integer","displayAs":"number","order":85,"title":"written_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_metadata_json","type":"string","displayAs":"string","order":86,"title":"dbt_metadata_json","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_app","type":"string","displayAs":"string","order":87,"title":"dbt_app","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_node_id","type":"string","displayAs":"string","order":88,"title":"dbt_node_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_profile_name","type":"string","displayAs":"string","order":89,"title":"dbt_profile_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_target_name","type":"string","displayAs":"string","order":90,"title":"dbt_target_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_version","type":"string","displayAs":"string","order":91,"title":"dbt_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_databricks_version","type":"string","displayAs":"string","order":92,"title":"dbt_databricks_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"parsed_dbt_comment","type":"complex","displayAs":"json","order":93,"title":"parsed_dbt_comment","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDBTQuery","type":"string","displayAs":"string","order":94,"title":"IsDBTQuery","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"showDescription":true,"title":"Query Efficiency Detail","description":"Table-level detailed view of query efficiency along with flags (green = succeed query, red = failed query)"}}},"position":{"x":0,"y":135,"width":6,"height":8}},{"widget":{"name":"6241e95f","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_99)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"scale":{"type":"quantitative","domain":{"min":0}},"fields":[{"fieldName":"avg(QueryRuntimeSeconds)","displayName":"Avgerage Runtime (s)"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_99)","displayName":"P99 Over Time (s)"}],"axis":{"title":"Query Runtime (s)"}}},"frame":{"showTitle":true,"title":"Query Runtime Trends"},"mark":{"colors":["#00A972","#AB4057","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":0,"y":69,"width":5,"height":6}},{"widget":{"name":"8945d96d","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HighDataVolumeFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"},{"name":"HighDataVolumeFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HighDataVolumeFlag","displayName":"HighDataVolumeFlag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HighDataVolumeFlag"}]},"frame":{"showTitle":true,"title":"High Data Volume Flag"}}},"position":{"x":2,"y":107,"width":1,"height":2}},{"widget":{"name":"66975748","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_start_time","query":{"datasetName":"36bb7aba","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_start_time"}]},"frame":{"showTitle":true,"title":"Start Time"}}},"position":{"x":2,"y":41,"width":2,"height":2}},{"widget":{"name":"e4786605","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"minutely(event_minute)","expression":"DATE_TRUNC(\"MINUTE\", `event_minute`)"},{"name":"max(NumberOfClustersOn)","expression":"MAX(`NumberOfClustersOn`)"},{"name":"max(warehouse_max_clusters)","expression":"MAX(`warehouse_max_clusters`)"},{"name":"min(warehouse_min_clusters)","expression":"MIN(`warehouse_min_clusters`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"minutely(event_minute)","scale":{"type":"temporal"},"displayName":"Event Minute"},"y":{"scale":{"type":"quantitative","domain":{"min":0}},"fields":[{"fieldName":"max(NumberOfClustersOn)","displayName":"Clusters Scaled"},{"fieldName":"max(warehouse_max_clusters)","displayName":"Current Max Clusters"},{"fieldName":"min(warehouse_min_clusters)","displayName":"Current Min Clusters"}],"axis":{"title":"Concurrent Clusters"}}},"frame":{"showTitle":true,"title":"Warehouse Scaling Over Time (1 minute granularity)"},"mark":{"colors":["#308aeb","#FF3621","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":0,"y":51,"width":6,"height":6}},{"widget":{"name":"10efdbc0","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"client_application","expression":"`client_application`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"y":{"fieldName":"client_application","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Query Source"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Queries By Source App"},"mark":{"colors":["#07409d","#FFAB00","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":0,"y":91,"width":3,"height":6}},{"widget":{"name":"f256bd8e","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"avg(read_io_cache_percent)","expression":"AVG(`read_io_cache_percent`)"}],"disaggregated":false}}],"spec":{"version":1,"widgetType":"combo","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"primary":{"fields":[{"fieldName":"avg(read_io_cache_percent)","displayName":"Avg % Cache"}]},"secondary":{"fields":[]},"scale":{"type":"quantitative"}}},"mark":{"colors":["#8BCAE7","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]},"frame":{"showTitle":true,"title":"Caching Trends","showDescription":true,"description":"Avg %Cache Used in Queries Over Time"}}},"position":{"x":0,"y":121,"width":6,"height":6}},{"widget":{"name":"e5ecfb4c","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_end_range","query":{"datasetName":"fc2d4844","parameters":[{"name":"end_range","keyword":"end_range"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef6b93d8cc19289b3d944228a46a92_end_time","query":{"datasetName":"547c0662","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_range","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_end_range"},{"parameterName":"end_time","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef6b93d8cc19289b3d944228a46a92_end_time"}]},"frame":{"showTitle":true,"title":"Query Range End "}}},"position":{"x":2,"y":59,"width":1,"height":2}},{"widget":{"name":"f9f0b629","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_execution_status","query":{"datasetName":"fc2d4844","fields":[{"name":"execution_status","expression":"`execution_status`"},{"name":"execution_status_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"execution_status","displayName":"execution_status","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_execution_status"}]},"frame":{"showTitle":true,"title":"Query Status"}}},"position":{"x":5,"y":61,"width":1,"height":2}},{"widget":{"name":"231e41fb","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"countdistinct(event_minute)","expression":"COUNT(DISTINCT `event_minute`)"},{"name":"NumberOfClustersOn","expression":"`NumberOfClustersOn`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"countdistinct(event_minute)","scale":{"type":"quantitative"},"displayName":"# Minutes On Cluster N"},"color":{"fieldName":"NumberOfClustersOn","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"# Scaled Clusters"},"label":{"show":true}},"frame":{"showTitle":true,"title":"% of Time Warehouse Scaled at Cluster N"}}},"position":{"x":4,"y":45,"width":2,"height":6}},{"widget":{"name":"f2fdbc11","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_data_volume_min_z_score","query":{"datasetName":"fc2d4844","parameters":[{"name":"data_volume_min_z_score","keyword":"data_volume_min_z_score"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"data_volume_min_z_score","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_data_volume_min_z_score"}]},"frame":{"showTitle":true,"title":"Data Volume Z Score Flag (relative volume to others in Warehouse)"}}},"position":{"x":4,"y":107,"width":2,"height":2}},{"widget":{"name":"b0297e36","queries":[{"name":"parameter_dashboards/01ef138d55851eea891925b7c011c764/datasets/01ef138d5592106eaf12ef004afc3bdd_end_time","query":{"datasetName":"871b75c8","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_time","queryName":"parameter_dashboards/01ef138d55851eea891925b7c011c764/datasets/01ef138d5592106eaf12ef004afc3bdd_end_time"}]},"frame":{"showTitle":true,"title":"Query Range End"}}},"position":{"x":4,"y":145,"width":1,"height":2}},{"widget":{"name":"5a26dee1","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_cluster_unit_price","query":{"datasetName":"871b75c8","parameters":[{"name":"cluster_unit_price","keyword":"cluster_unit_price"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"cluster_unit_price","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_cluster_unit_price"}]},"frame":{"showTitle":true,"title":"Warehouse Unit Price ($)"}}},"position":{"x":2,"y":145,"width":1,"height":2}},{"widget":{"name":"4122135c","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(QueryRuntimeSeconds)","style":{"bold":true,"italic":true},"displayName":"Average QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"Avg Query Time (s)"}}},"position":{"x":3,"y":63,"width":1,"height":2}},{"widget":{"name":"42ef92e4","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"avg(NumberOfClustersOn)","expression":"AVG(`NumberOfClustersOn`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(NumberOfClustersOn)","displayName":"Average NumberOfClustersOn"}},"frame":{"showTitle":true,"title":"Avg Scaled Clusters"}}},"position":{"x":3,"y":43,"width":1,"height":2}},{"widget":{"name":"6352372e","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"HasSpillFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"No Spill","color":"#00A972"}]},"legend":{"position":"bottom"},"displayName":"Has Spill"}},"frame":{"showTitle":true,"title":"Queries With Spill"},"mark":{"layout":"stack"}}},"position":{"x":0,"y":109,"width":3,"height":6}},{"widget":{"name":"b5fc5b2d","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_statement_type","query":{"datasetName":"fc2d4844","fields":[{"name":"statement_type","expression":"`statement_type`"},{"name":"statement_type_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"statement_type","displayName":"statement_type","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_statement_type"}]},"frame":{"showTitle":true,"title":"Statement Type"}}},"position":{"x":5,"y":59,"width":1,"height":2}},{"widget":{"name":"62acf4bb","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_TopNFilter","query":{"datasetName":"871b75c8","fields":[{"name":"TopNFilter","expression":"`TopNFilter`"},{"name":"TopNFilter_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"TopNFilter","displayName":"TopNFilter","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_TopNFilter"}]},"frame":{"showTitle":true,"showDescription":true,"title":"Top N Cost Filter","description":"This is the % of total warehouse time you want to analyze."}}},"position":{"x":5,"y":145,"width":1,"height":2}},{"widget":{"name":"82444c2b","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"UsedCacheFlag","expression":"`UsedCacheFlag`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"UsedCacheFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"}]},"legend":{"title":"Used Cache","position":"bottom"},"displayName":"Used Cache"}},"frame":{"showTitle":true,"title":"Queries Using Cache"},"mark":{"layout":"stack"}}},"position":{"x":3,"y":115,"width":3,"height":6}},{"widget":{"name":"068322a8","queries":[{"name":"main_query","query":{"datasetName":"871b75c8","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"sum(StatementTaskTimeProportion)","expression":"SUM(`StatementTaskTimeProportion`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(StatementTaskTimeProportion)","scale":{"type":"quantitative"},"displayName":"Query Allocated Cost ($)"},"y":{"fieldName":"QueryTag","axis":{"hideLabels":true,"title":"Query Tag"},"scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Query Tag"},"color":{"fieldName":"QueryTag","scale":{"type":"categorical","mappings":[{"value":"Remaining Long Tail of Queries","color":"#919191"},{"value":"Untagged","color":"#919191"}]},"legend":{"position":"bottom"},"displayName":"Query Tag"},"label":{"show":true}},"frame":{"showTitle":true,"showDescription":true,"title":"Query Allocated Cost By Tag","description":"Query Statement Sorted By % of total warehouse time - i.e. \"How much % of total compute time did query X take up?\""}}},"position":{"x":3,"y":160,"width":3,"height":8}},{"widget":{"name":"0bf0fbc1","textbox_spec":"## Section 1: Overall Warehouses (all) Usage & Info Overview\n-----\nThis section helps users get a simple cost picture for their warehouse over time, as well as obtain a clear picture of momentum of cost over time - which can easily be turned into an alert. "},"position":{"x":0,"y":4,"width":6,"height":1}},{"widget":{"name":"de1d44bb","textbox_spec":"### Query Performance Detail\nThis section drills into details of identifying root causes of poorly performing warehouses down to the query bottlenecks such as spill, high data volume, and long running queries. "},"position":{"x":0,"y":105,"width":6,"height":2}},{"widget":{"name":"e46e0bfb","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_start_time","query":{"datasetName":"871b75c8","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_time","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_start_time"}]},"frame":{"showTitle":true,"title":"Query Range Start"}}},"position":{"x":3,"y":145,"width":1,"height":2}},{"widget":{"name":"dff8478f","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HasSpillFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"HasSpillFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HasSpillFlag","displayName":"HasSpillFlag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_HasSpillFlag"}]},"frame":{"showTitle":true,"title":"Has Spill Flag"}}},"position":{"x":1,"y":107,"width":1,"height":2}},{"widget":{"name":"13e78eac","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_executed_by","query":{"datasetName":"fc2d4844","fields":[{"name":"executed_by","expression":"`executed_by`"},{"name":"executed_by_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"executed_by","displayName":"executed_by","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_executed_by"}]},"frame":{"showTitle":true,"title":"Executed By"}}},"position":{"x":4,"y":59,"width":1,"height":2}},{"widget":{"name":"92eb4b96","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"NumberOfClustersOn","expression":"`NumberOfClustersOn`"},{"name":"countdistinct(event_minute)","expression":"COUNT(DISTINCT `event_minute`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"NumberOfClustersOn","scale":{"type":"categorical"},"displayName":"# Clusters "},"y":{"fieldName":"countdistinct(event_minute)","scale":{"type":"quantitative"},"axis":{"title":"Num Minutes On N Clusters"},"displayName":"# Minutes On Cluster N"},"color":{"fieldName":"NumberOfClustersOn","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"# Scaled Clusters"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Scaling Pattern Histogram"}}},"position":{"x":0,"y":45,"width":4,"height":6}},{"widget":{"name":"d1c59f1c","textbox_spec":"## Warehouse Performance - Queuing Metrics (Peak Queued Over Time)\nPeak Queuing shows how many queries get queued before running in a given time window. The MAX peak queued queries in a time window helps show how much more concurrency scaling the warehouse might need to not require queuing. \n##### Best Practices: \nJust because there is queuing, does not mean you need to scale up your warehouse. Always scale your warehouses based on the SLA metrics first. If queries are being queued and you still meet your SLA, there is no value in increases concurrency scaling of the warehouse. "},"position":{"x":0,"y":75,"width":6,"height":3}},{"widget":{"name":"5c73a631","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_LongRunningQueryFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"LongRunningQueryFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"LongRunningQueryFlag","displayName":"LongRunningQueryFlag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_LongRunningQueryFlag"}]},"frame":{"showTitle":true,"title":"Long Query Flag"}}},"position":{"x":0,"y":107,"width":1,"height":2}},{"widget":{"name":"62c989fa","queries":[{"name":"main_query","query":{"datasetName":"871b75c8","fields":[{"name":"QueryProportionParetoFlag","expression":"`QueryProportionParetoFlag`"},{"name":"sum(StatementAllocatedDollars)","expression":"SUM(`StatementAllocatedDollars`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(StatementAllocatedDollars)","scale":{"type":"quantitative"},"axis":{"title":"Query Signature Allocated Cost"},"displayName":"% of Total Warehouse Compute Time"},"y":{"fieldName":"QueryProportionParetoFlag","axis":{"hideLabels":true,"title":"Query Signature"},"scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Query Signature"},"color":{"fieldName":"QueryProportionParetoFlag","scale":{"type":"categorical","mappings":[{"value":"Remaining Long Tail of Queries","color":"#919191"}]},"legend":{"position":"bottom"},"displayName":"Query Name"},"label":{"show":true}},"frame":{"showTitle":true,"showDescription":false,"title":"Top N Queries By Cost","description":"Top N Queries by Cost"}}},"position":{"x":0,"y":149,"width":6,"height":11}},{"widget":{"name":"68f354f6","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_start_range","query":{"datasetName":"fc2d4844","parameters":[{"name":"start_range","keyword":"start_range"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef6b93d8cc19289b3d944228a46a92_start_time","query":{"datasetName":"547c0662","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_range","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_start_range"},{"parameterName":"start_time","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef6b93d8cc19289b3d944228a46a92_start_time"}]},"frame":{"showTitle":true,"title":"Query Range Start "}}},"position":{"x":1,"y":59,"width":1,"height":2}},{"widget":{"name":"bb3ffc0b","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_warehouse_id","query":{"datasetName":"fc2d4844","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_warehouse_id","query":{"datasetName":"547c0662","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_warehouse_id"},{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":59,"width":1,"height":2}},{"widget":{"name":"916d7ade","textbox_spec":"# DBSQL Warehouse Advisor\n\n## Sections\n1. Warehouse General Intel - show basic billing usage and cost metrics for a warehouse (dbus, $, over time)\n2. Warehouse Scaling Intel - shows basic scaling metrics per warehouse (scaling history, avg scale (weighted))\n3. Performance Advisor - Show common query history metrics such as runtime, queue time, peak queuing, failure rate, cache %, etc., identify inefficient queries with skew/spill indicators\n4. Query Statement Level Resource Allocation Advisor - Identify and allocate warehouse total used time by statement and query (optionally include and aggregate by TAG)"},"position":{"x":0,"y":0,"width":6,"height":4}},{"widget":{"name":"895515b7","textbox_spec":"## Section 3: Query Performance Analysis\n-----\nThis section helps dive into warehouse performance to understand how well the warehouse is performing against SLAs, identifying bottlenecks, as well as queries that are taking up the majority of the resources."},"position":{"x":0,"y":57,"width":6,"height":2}},{"widget":{"name":"f55bb89d","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_warehouse_id","query":{"datasetName":"871b75c8","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":145,"width":2,"height":2}},{"widget":{"name":"822a7fc3","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_QueryTag","query":{"datasetName":"fc2d4844","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"QueryTag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"QueryTag","displayName":"QueryTag","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_QueryTag"}]},"frame":{"showTitle":true,"title":"Query Tag"}}},"position":{"x":3,"y":61,"width":1,"height":2}},{"widget":{"name":"9c4f5141","textbox_spec":"## Section 4 - Query Statement Cost Allocation Advisor\n-----\nThis section helps to allocate query runtime cost across the warehouse down to the query level. The query costs are aggregated at the \"query signature\" level, which is a unique SQL statement (excluding comments) executed. This is to account for multiple execution and users executing the same query. "},"position":{"x":0,"y":143,"width":6,"height":2}},{"widget":{"name":"8f59ebe4","queries":[{"name":"main_query","query":{"datasetName":"871b75c8","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"QueryCostRank","expression":"`QueryCostRank`"},{"name":"statement_text","expression":"`statement_text`"},{"name":"StatementAllocatedDollars","expression":"`StatementAllocatedDollars`"},{"name":"StatementAllocatedDBUs","expression":"`StatementAllocatedDBUs`"},{"name":"StatementWarehouseTimePercentage","expression":"`StatementWarehouseTimePercentage`"},{"name":"NumberOfExecutions","expression":"`NumberOfExecutions`"},{"name":"AvgRuntimeInSeconds","expression":"`AvgRuntimeInSeconds`"},{"name":"UserRunCounts","expression":"`UserRunCounts`"},{"name":"TotalStatementTimeUsed","expression":"`TotalStatementTimeUsed`"},{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_profile_id","expression":"`dbt_profile_id`"},{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"TopNFilter","expression":"`TopNFilter`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"QueryTag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"QueryTag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryTag"},{"fieldName":"QueryCostRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":1,"title":"QueryCostRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryCostRank"},{"fieldName":"statement_text","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":2,"title":"Query","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"statement_text"},{"fieldName":"StatementAllocatedDollars","numberFormat":"$0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":3,"title":"Allocated Cost ($)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#0b8536"},"rules":[]},"displayName":"StatementAllocatedDollars"},{"fieldName":"StatementAllocatedDBUs","numberFormat":"0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":4,"title":"Allocated DBUs","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StatementAllocatedDBUs"},{"fieldName":"StatementWarehouseTimePercentage","numberFormat":"%0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":5,"title":"% of Warehouse Execution Time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"StatementWarehouseTimePercentage"},{"fieldName":"NumberOfExecutions","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":6,"title":"# Executions","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"NumberOfExecutions"},{"fieldName":"AvgRuntimeInSeconds","numberFormat":"0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":7,"title":"Avg Runtime (s)","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"AvgRuntimeInSeconds"},{"fieldName":"UserRunCounts","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"complex","displayAs":"json","visible":true,"order":8,"title":"User Run Breakdown","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"description":"Shows a detailed list of the users that executed this query and how often","displayName":"UserRunCounts"},{"fieldName":"TotalStatementTimeUsed","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":10,"title":"TotalStatementTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"TotalStatementTimeUsed"},{"fieldName":"dbt_node_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":20,"title":"dbt_node_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_node_id"},{"fieldName":"dbt_profile_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":21,"title":"dbt_profile_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_profile_id"},{"fieldName":"dbt_target_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":22,"title":"dbt_target_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_target_name"},{"fieldName":"IsDBTQuery","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":25,"title":"IsDBTQuery","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"IsDBTQuery"},{"fieldName":"TopNFilter","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":26,"title":"TopNFilter","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"TopNFilter"}]},"invisibleColumns":[{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalWarehouseTimeUsed","type":"float","displayAs":"number","order":9,"title":"TotalWarehouseTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"%0.0000","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"StatementTaskTimeProportion","type":"float","displayAs":"number","order":11,"title":"StatementTaskTimeProportion","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#002FB4"},"rules":[]}},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"CumulativeProportionOfWarehouseTime","type":"float","displayAs":"number","order":12,"title":"CumulativeProportionOfWarehouseTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryProportionParetoFlag","type":"string","displayAs":"string","order":13,"title":"QueryProportionParetoFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_DBUs","type":"float","displayAs":"number","order":14,"title":"Total_Warehouse_Period_DBUs","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_Dollars","type":"float","displayAs":"number","order":15,"title":"Total_Warehouse_Period_Dollars","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"query_signature","type":"string","displayAs":"string","order":16,"title":"query_signature","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"raw_tagged","type":"string","displayAs":"string","order":17,"title":"raw_tagged","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"statetment_type","type":"string","displayAs":"string","order":18,"title":"statetment_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_app","type":"string","displayAs":"string","order":19,"title":"dbt_app","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_version","type":"string","displayAs":"string","order":23,"title":"dbt_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"parsed_dbt_comment","type":"complex","displayAs":"json","order":24,"title":"parsed_dbt_comment","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"showDescription":true,"title":"Query Statement Resource Allocation Detail","description":"Pareto Analysis Detail (Red means it is a top query in the Pareto Analysis)\n+ you can get user level query execution details by scrolling this table -->"}}},"position":{"x":0,"y":168,"width":6,"height":10}},{"widget":{"name":"820aa799","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueryRuntimeSeconds, percentage=0_5)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.5)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_9)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.9)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_95)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.95)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_99)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative","reverse":false},"fields":[{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_5)","displayName":"P50"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_9)","displayName":"P90"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_95)","displayName":"P95"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_99)","displayName":"P99"}],"axis":{"title":"Query Runtime (s)"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Query Runtime P50, 90, 95, 99 (s)"},"mark":{"layout":"group","colors":["#2672cb","#00A972","#FF3621","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":5,"y":69,"width":1,"height":6}},{"widget":{"name":"0a552fe3","textbox_spec":"## Section 2: Warehouse Scaling Trends\n-----\nThis section simplifies trying to understand how well your warehouse scales as well as helps users project long term costs of spiky workloads more accurately. It pivots the real-time concurrency scaling chart and shows generally how much time and what % of time the warehouse was scaled up to each concurrency level. This can help guage scaling efficiency over time in production as well. \n\nNote: The warehouse settings (size, auto stop, min, and max clusters) represent the snapshot of the configuration of the warehouse at the select end time in that selected window. \n"},"position":{"x":0,"y":38,"width":6,"height":3}},{"widget":{"name":"2c3df984","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"countdistinct(executed_by)","expression":"COUNT(DISTINCT `executed_by`)"},{"name":"countdistinct(statement_id)","expression":"COUNT(DISTINCT `statement_id`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(statement_id)","displayName":"Count of Unique statement_id"},"target":{"fieldName":"countdistinct(executed_by)","displayName":"Count of Unique executed_by"}},"frame":{"showTitle":true,"title":"Query Count","showDescription":true,"description":"# users"}}},"position":{"x":5,"y":63,"width":1,"height":2}},{"widget":{"name":"9a015442","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"statement_type","expression":"`statement_type`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Query Count"},"color":{"fieldName":"statement_type","scale":{"type":"categorical"},"legend":{"position":"bottom"},"displayName":"Statement Type"},"label":{"show":false}},"frame":{"showDescription":false,"description":"Query Count By Statement Type Over Time","showTitle":true,"title":"Queries By Statement Type Over Time"}}},"position":{"x":3,"y":84,"width":3,"height":7}},{"widget":{"name":"7dbb8706","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"hourly(five_min_interval)","expression":"DATE_TRUNC(\"HOUR\", `five_min_interval`)"},{"name":"max(PeakQueued)","expression":"MAX(`PeakQueued`)"},{"name":"max(PeakRunning)","expression":"MAX(`PeakRunning`)"}],"disaggregated":false}}],"spec":{"version":1,"widgetType":"combo","encodings":{"x":{"fieldName":"hourly(five_min_interval)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"color":{"legend":{"title":"Peak Metrics"}},"y":{"primary":{"fields":[{"fieldName":"max(PeakQueued)","displayName":"Peak Queued"}]},"secondary":{"fields":[{"fieldName":"max(PeakRunning)","displayName":"Peak Running"}]},"scale":{"type":"quantitative"}},"label":{"show":false}},"frame":{"showTitle":true,"title":"Peak Queueing Metrics (5 minute granularity aggregated to daily max - i.e. each day is the MAX peak queuing for that day)"},"mark":{"colors":["#FFAB00","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":0,"y":78,"width":4,"height":6}},{"widget":{"name":"7dc847bd","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Queries"},"displayName":"Queries"},"color":{"fieldName":"LongRunningQueryFlag","scale":{"type":"categorical","mappings":[{"value":"Used Cache","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"Short Running","color":"#00A972"},{"value":"Long Running","color":"#FFAB00"}]},"legend":{"position":"bottom"},"displayName":"Query Length"}},"frame":{"showTitle":true,"title":"Queries Long Running"},"mark":{"layout":"stack"}}},"position":{"x":3,"y":109,"width":3,"height":6}},{"widget":{"name":"d54ad58a","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"execution_status","expression":"`execution_status`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"axis":{"title":"Query Count"},"displayName":"Query Count"},"color":{"fieldName":"execution_status","scale":{"type":"categorical","mappings":[{"value":"FAILED","color":"#FF3621"},{"value":"FINISHED","color":"#00A972"},{"value":"CANCELED","color":"#919191"}]},"legend":{"title":"Execution Status","position":"bottom"},"displayName":"Execution Status"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Queries by Status Over Time"}}},"position":{"x":0,"y":84,"width":3,"height":7}},{"widget":{"name":"f108ca24","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_warehouse_id","query":{"datasetName":"36bb7aba","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":41,"width":2,"height":2}},{"widget":{"name":"a702d642","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_long_running_seconds_treshold","query":{"datasetName":"fc2d4844","parameters":[{"name":"long_running_seconds_treshold","keyword":"long_running_seconds_treshold"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"long_running_seconds_treshold","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_long_running_seconds_treshold"}]},"frame":{"showTitle":true,"title":"Long Running Query Threshold (s) For Flag"}}},"position":{"x":3,"y":107,"width":1,"height":2}},{"widget":{"name":"3b51319a","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"QueryTag","scale":{"type":"categorical","mappings":[{"value":"Untagged","color":"#919191"}]},"displayName":"QueryTag"}},"frame":{"showTitle":true,"title":"Queries Over Time By Tag"}}},"position":{"x":0,"y":97,"width":3,"height":8}},{"widget":{"name":"32318ce9","queries":[{"name":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_client_application","query":{"datasetName":"fc2d4844","fields":[{"name":"client_application","expression":"`client_application`"},{"name":"client_application_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"client_application","displayName":"client_application","queryName":"dashboards/01eee4980f461d848d978ef2b00c7f1a/datasets/01eee49819aa10ef846adf03db1ca1e8_client_application"}]},"frame":{"showTitle":true,"title":"Query Source App"}}},"position":{"x":4,"y":61,"width":1,"height":2}},{"widget":{"name":"65fb9314","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"avg(QueryQueueTime_P50)","expression":"AVG(`QueryQueueTime_P50`)"},{"name":"avg(QueryQueueTime_P90)","expression":"AVG(`QueryQueueTime_P90`)"},{"name":"avg(QueryQueueTime_P95)","expression":"AVG(`QueryQueueTime_P95`)"},{"name":"avg(QueryQueueTime_P99)","expression":"AVG(`QueryQueueTime_P99`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative","reverse":false},"fields":[{"fieldName":"avg(QueryQueueTime_P50)","displayName":"P50"},{"fieldName":"avg(QueryQueueTime_P90)","displayName":"P90"},{"fieldName":"avg(QueryQueueTime_P95)","displayName":"P95"},{"fieldName":"avg(QueryQueueTime_P99)","displayName":"P99"}],"axis":{"title":"Query Queue Time (s)"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Query Queuing Time (time (s) spent in queue)"},"mark":{"layout":"group","colors":["#8BCAE7","#2672cb","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":5,"y":78,"width":1,"height":6}},{"widget":{"name":"839fcda4","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"},{"name":"QueryTag","expression":"`QueryTag`"},{"name":"execution_status","expression":"`execution_status`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"heatmap","encodings":{"x":{"fieldName":"QueryTag","scale":{"type":"categorical"},"displayName":"Query Tag"},"y":{"fieldName":"execution_status","scale":{"type":"categorical"},"displayName":"Execution Status"},"color":{"fieldName":"avg(QueryRuntimeSeconds)","scale":{"type":"quantitative"},"displayName":"Avg Query Runtime"}},"frame":{"showTitle":true,"title":"Query Runtime By Tag, Execution Status"}}},"position":{"x":3,"y":91,"width":3,"height":6}},{"widget":{"name":"8cc051b9","textbox_spec":"## Warehouse Performance - Query Runtime SLAs\nQuery runtime helps identify if your warehouse is meeting your SLAs. The runtime is generally controlled by the size of the warehouse but also influenced by how long queries are spent queued. So if your queries are running slower than your desired SLA, try increasing the warehouse T-shirt size and using the below visual to see if queries are queuing too often. "},"position":{"x":0,"y":67,"width":6,"height":2}},{"widget":{"name":"289ccdd7","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_id","query":{"datasetName":"c767ac47","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id"},{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":5,"width":1,"height":2}},{"widget":{"name":"03583a8d","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_name","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"warehouse_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_name","query":{"datasetName":"c767ac47","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"warehouse_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_name","displayName":"warehouse_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_name"},{"fieldName":"warehouse_name","displayName":"warehouse_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_name"}]},"frame":{"showTitle":true,"title":"Current Warehouse Name"}}},"position":{"x":1,"y":5,"width":1,"height":2}},{"widget":{"name":"c750b2b4","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"displayName":"Usage Date"},"y":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Dollars"},"color":{"fieldName":"warehouse_name","scale":{"type":"categorical"},"legend":{"position":"bottom"},"displayName":"warehouse_name"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Name"}}},"position":{"x":0,"y":16,"width":6,"height":7}},{"widget":{"name":"58e81119","queries":[{"name":"main_query","query":{"datasetName":"c767ac47","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"ChangeRank","expression":"`ChangeRank`"},{"name":"action_name","expression":"`action_name`"},{"name":"warehouse_size","expression":"`warehouse_size`"},{"name":"min_cluster_scaling","expression":"`min_cluster_scaling`"},{"name":"max_cluster_scaing","expression":"`max_cluster_scaing`"},{"name":"auto_stop_mins","expression":"`auto_stop_mins`"},{"name":"warehouse_editor_user","expression":"`warehouse_editor_user`"},{"name":"workspace_id","expression":"`workspace_id`"},{"name":"account_id","expression":"`account_id`"},{"name":"event_time","expression":"`event_time`"},{"name":"warehouse_channel","expression":"`warehouse_channel`"},{"name":"RecencyRank","expression":"`RecencyRank`"},{"name":"IsDeleted","expression":"`IsDeleted`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"warehouse_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"warehouse_id","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_id"},{"fieldName":"warehouse_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":1,"title":"warehouse_name","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_name"},{"fieldName":"ChangeRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":2,"title":"ChangeRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ChangeRank"},{"fieldName":"action_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"action_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"action_name"},{"fieldName":"warehouse_size","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":4,"title":"warehouse_size","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_size"},{"fieldName":"min_cluster_scaling","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":5,"title":"min_cluster_scaling","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"min_cluster_scaling"},{"fieldName":"max_cluster_scaing","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":6,"title":"max_cluster_scaing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"max_cluster_scaing"},{"fieldName":"auto_stop_mins","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":7,"title":"auto_stop_mins","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"auto_stop_mins"},{"fieldName":"warehouse_editor_user","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":8,"title":"warehouse_editor_user","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_editor_user"},{"fieldName":"workspace_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":9,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"workspace_id"},{"fieldName":"account_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":10,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"account_id"},{"fieldName":"event_time","dateTimeFormat":"DD/MM/YY HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":11,"title":"event_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"event_time"},{"fieldName":"warehouse_channel","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":13,"title":"warehouse_channel","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_channel"},{"fieldName":"RecencyRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":14,"title":"RecencyRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"RecencyRank"},{"fieldName":"IsDeleted","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":15,"title":"IsDeleted","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"IsDeleted"}]},"invisibleColumns":[{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_type","type":"string","displayAs":"string","order":12,"title":"warehouse_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"title":"Warehouse Change History (recommended to pick 1 warehouse for best readability)"}}},"position":{"x":0,"y":31,"width":6,"height":7}},{"widget":{"name":"b055cdbe","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_WarehouseUsageTopNRank","query":{"datasetName":"fb74d1e7","fields":[{"name":"min(WarehouseUsageTopNRank)","expression":"MIN(`WarehouseUsageTopNRank`)"},{"name":"max(WarehouseUsageTopNRank)","expression":"MAX(`WarehouseUsageTopNRank`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"WarehouseUsageTopNRank","displayName":"WarehouseUsageTopNRank","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_WarehouseUsageTopNRank"}]},"frame":{"showTitle":true,"title":"Top N Warehouse By Usage","showDescription":true,"description":"Filter this section by top N warehouse by total usage in period"}}},"position":{"x":4,"y":5,"width":2,"height":2}},{"widget":{"name":"5016b589","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_start_date","query":{"datasetName":"fb74d1e7","parameters":[{"name":"start_date","keyword":"start_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_date","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_start_date"}]},"frame":{"showTitle":true,"title":"Warehouse Usage Start"}}},"position":{"x":2,"y":5,"width":1,"height":2}},{"widget":{"name":"7fb2ff38","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_IsDeletedCurrently","query":{"datasetName":"fb74d1e7","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"IsDeletedCurrently_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"IsDeletedCurrently","displayName":"IsDeletedCurrently","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_IsDeletedCurrently"}]},"frame":{"showTitle":true,"title":"Is Deleted?"}}},"position":{"x":0,"y":7,"width":1,"height":2}},{"widget":{"name":"65337d22","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_size","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_size","expression":"`warehouse_size`"},{"name":"warehouse_size_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_size","displayName":"warehouse_size","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_size"}]},"frame":{"showTitle":true,"title":"Current Size"}}},"position":{"x":1,"y":7,"width":1,"height":2}},{"widget":{"name":"b0b8dcb1","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_min_cluster_scaling","query":{"datasetName":"fb74d1e7","fields":[{"name":"min(min_cluster_scaling)","expression":"MIN(`min_cluster_scaling`)"},{"name":"max(min_cluster_scaling)","expression":"MAX(`min_cluster_scaling`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"min_cluster_scaling","displayName":"min_cluster_scaling","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_min_cluster_scaling"}]},"frame":{"showTitle":true,"title":"Current Min Clusters"}}},"position":{"x":2,"y":7,"width":1,"height":2}},{"widget":{"name":"87fee44f","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_max_cluster_scaing","query":{"datasetName":"fb74d1e7","fields":[{"name":"min(max_cluster_scaing)","expression":"MIN(`max_cluster_scaing`)"},{"name":"max(max_cluster_scaing)","expression":"MAX(`max_cluster_scaing`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"max_cluster_scaing","displayName":"max_cluster_scaing","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_max_cluster_scaing"}]},"frame":{"showTitle":true,"title":"Current Max Clusters"}}},"position":{"x":3,"y":7,"width":1,"height":2}},{"widget":{"name":"119e31ef","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id"}]},"frame":{"showTitle":true,"title":"Workspace Id"}}},"position":{"x":4,"y":7,"width":1,"height":2}},{"widget":{"name":"fcb8850d","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_creator","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_creator","expression":"`warehouse_creator`"},{"name":"warehouse_creator_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_creator","displayName":"warehouse_creator","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_creator"}]},"frame":{"showTitle":true,"title":"Warehouse Creator"}}},"position":{"x":5,"y":7,"width":1,"height":2}},{"widget":{"name":"2def4662","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"},{"name":"warehouse_name","expression":"`warehouse_name`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Usage Dollars"},"y":{"fieldName":"warehouse_name","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Warehouse Name"},"color":{"fieldName":"IsDeletedCurrently","scale":{"type":"categorical","mappings":[{"value":"Active","color":"#00A972"},{"value":"Deleted","color":"#0011ff"}]},"displayName":"Is Deleted"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Name"}}},"position":{"x":0,"y":23,"width":3,"height":8}},{"widget":{"name":"1af9ca18","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"},{"name":"warehouse_creator","expression":"`warehouse_creator`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Usage Dollors"},"y":{"fieldName":"warehouse_creator","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Warehouse Creator"},"color":{"fieldName":"IsDeletedCurrently","scale":{"type":"categorical","mappings":[{"value":"Deleted","color":"#2138ff"},{"value":"Active","color":"#00A972"}]},"displayName":"Is Deleted"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Creator"}}},"position":{"x":3,"y":23,"width":3,"height":8}},{"widget":{"name":"5f67b153","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_end_date","query":{"datasetName":"fb74d1e7","parameters":[{"name":"end_date","keyword":"end_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_date","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_end_date"}]},"frame":{"showTitle":true,"title":"Warehouse Usage End"}}},"position":{"x":3,"y":5,"width":1,"height":2}},{"widget":{"name":"1d5ba444","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"sum(UsageDollars)","style":{"bold":true,"fontSize":32},"displayName":"Sum of UsageDollars"}},"frame":{"showTitle":true,"title":"Total Usage Dollars In Period"}}},"position":{"x":0,"y":9,"width":1,"height":4}},{"widget":{"name":"8c3a9e82","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"countdistinct(warehouse_id)","expression":"COUNT(DISTINCT `warehouse_id`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(warehouse_id)","displayName":"Count of Unique warehouse_id"}},"frame":{"showTitle":true,"title":"Total Warehouse Count"}}},"position":{"x":0,"y":13,"width":1,"height":3}},{"widget":{"name":"fdc0e75d","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"workspace_id","expression":"`workspace_id`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"displayName":"Usage Date"},"y":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Dollars"},"color":{"fieldName":"workspace_id","scale":{"type":"categorical"},"displayName":"workspace_id"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage Over Time"},"mark":{"colors":["#0051a9","#FFAB00","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":1,"y":9,"width":5,"height":7}},{"widget":{"name":"d16afa81","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"warehouse_size","expression":"`warehouse_size`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_size","rowNumber":0,"displayName":"warehouse_size"}},"frame":{"showTitle":true,"title":"Size"}}},"position":{"x":4,"y":43,"width":1,"height":2}},{"widget":{"name":"ec4acd81","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"min(warehouse_min_clusters)","expression":"MIN(`warehouse_min_clusters`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"min(warehouse_min_clusters)","displayName":"Minimum warehouse_min_clusters"}},"frame":{"showTitle":true,"title":"Min Clusters\n"}}},"position":{"x":1,"y":43,"width":1,"height":2}},{"widget":{"name":"8a3a47d2","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"max(warehouse_max_clusters)","expression":"MAX(`warehouse_max_clusters`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(warehouse_max_clusters)","displayName":"Maximum warehouse_max_clusters"}},"frame":{"showTitle":true,"title":"Max Clusters"}}},"position":{"x":2,"y":43,"width":1,"height":2}},{"widget":{"name":"42bdc46c","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"warehouse_auto_stop_min","expression":"`warehouse_auto_stop_min`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_auto_stop_min","displayName":"warehouse_auto_stop_min"}},"frame":{"showTitle":true,"title":"Auto Stop (mins)"}}},"position":{"x":0,"y":43,"width":1,"height":2}},{"widget":{"name":"06998b9b","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_end_time","query":{"datasetName":"36bb7aba","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_end_time"}]},"frame":{"showTitle":true,"title":"End Time"}}},"position":{"x":4,"y":41,"width":2,"height":2}},{"widget":{"name":"9f509f64","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_profile_name","query":{"datasetName":"fc2d4844","fields":[{"name":"dbt_profile_name","expression":"`dbt_profile_name`"},{"name":"dbt_profile_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_profile_name","displayName":"dbt_profile_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_profile_name"}]},"frame":{"showTitle":true,"title":"DBT Filter","showDescription":true,"description":"DBT Profile"}}},"position":{"x":0,"y":61,"width":1,"height":2}},{"widget":{"name":"404b91f6","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_target_name","query":{"datasetName":"fc2d4844","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_target_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_target_name","displayName":"dbt_target_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_target_name"}]},"frame":{"showTitle":true,"title":"DBT Filter","showDescription":true,"description":"DBT Target"}}},"position":{"x":1,"y":61,"width":1,"height":2}},{"widget":{"name":"b95aef41","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_node_id","query":{"datasetName":"fc2d4844","fields":[{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_node_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_node_id","displayName":"dbt_node_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_dbt_node_id"}]},"frame":{"showTitle":true,"title":"DBT Filter","showDescription":true,"description":"DBT Node"}}},"position":{"x":2,"y":61,"width":1,"height":2}},{"widget":{"name":"164ac4bf","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"hourly(start_time)","expression":"DATE_TRUNC(\"HOUR\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"hourly(start_time)","scale":{"type":"temporal"},"axis":{"title":"Start Time"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"dbt_target_name","scale":{"type":"categorical","mappings":[{"value":"None","color":"#919191"}]},"displayName":"dbt_target_name"}},"frame":{"showTitle":true,"title":"Queries Over Time By DBT Target"}}},"position":{"x":3,"y":97,"width":3,"height":8}},{"widget":{"name":"3e3dbee7","queries":[{"name":"main_query","query":{"datasetName":"871b75c8","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"sum(StatementAllocatedDollars)","expression":"SUM(`StatementAllocatedDollars`)"},{"name":"dbt_profile_id","expression":"`dbt_profile_id`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(StatementAllocatedDollars)","scale":{"type":"quantitative"},"displayName":"Query Allocated Cost ($)"},"y":{"fieldName":"dbt_profile_id","axis":{"hideLabels":true,"title":"DBT Target"},"scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"DBT Profile"},"color":{"fieldName":"dbt_target_name","scale":{"type":"categorical","mappings":[{"value":"Remaining Long Tail of Queries","color":"#919191"},{"value":"Untagged","color":"#919191"}]},"legend":{"position":"bottom"},"displayName":"DBT Target"},"label":{"show":true}},"frame":{"showTitle":true,"showDescription":true,"title":"Query Allocated Cost By DBT Target","description":"Query Statement Sorted By % of total warehouse time - i.e. \"How much % of total compute time did query X take up?\""}}},"position":{"x":0,"y":160,"width":3,"height":8}},{"widget":{"name":"9d7b4620","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery","query":{"datasetName":"871b75c8","fields":[{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"IsDBTQuery_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"IsDBTQuery","displayName":"IsDBTQuery","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"Is DBT Query"}}},"position":{"x":0,"y":147,"width":1,"height":2}},{"widget":{"name":"a3be6598","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery","query":{"datasetName":"871b75c8","fields":[{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"IsDBTQuery_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_profile_id","query":{"datasetName":"871b75c8","fields":[{"name":"dbt_profile_id","expression":"`dbt_profile_id`"},{"name":"dbt_profile_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"IsDBTQuery","displayName":"IsDBTQuery","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_IsDBTQuery"},{"fieldName":"dbt_profile_id","displayName":"dbt_profile_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_profile_id"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"DBT Profile"}}},"position":{"x":1,"y":147,"width":1,"height":2}},{"widget":{"name":"8f280f91","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_target_name","query":{"datasetName":"871b75c8","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_target_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_target_name","displayName":"dbt_target_name","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_target_name"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"DBT Target"}}},"position":{"x":2,"y":147,"width":1,"height":2}},{"widget":{"name":"8675eb81","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_node_id","query":{"datasetName":"871b75c8","fields":[{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_node_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_node_id","displayName":"dbt_node_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef47901a021ae39e053725f427a670_dbt_node_id"}]},"frame":{"showTitle":true,"showDescription":true,"title":"DBT Filter","description":"DBT Node Id"}}},"position":{"x":3,"y":147,"width":2,"height":2}},{"widget":{"name":"5e6bfcf4","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueryRuntimeSeconds, percentage=0_99)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.99)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_99)","style":{"bold":true,"italic":true},"displayName":"99th Percentile of QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"SLA (s)","showDescription":true,"description":"P99"}}},"position":{"x":1,"y":63,"width":2,"height":2}},{"widget":{"name":"1cb751eb","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueryRuntimeSeconds, percentage=0_95)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.95)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_95)","style":{"bold":true,"italic":true},"displayName":"95th Percentile of QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"SLA (s)","showDescription":true,"description":"P95"}}},"position":{"x":0,"y":63,"width":1,"height":2}},{"widget":{"name":"00852a57","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"max(QueryRuntimeSeconds)","expression":"MAX(`QueryRuntimeSeconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(QueryRuntimeSeconds)","style":{"bold":true,"italic":true},"displayName":"Maximum QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"Max Query Time (s)","showDescription":true,"description":"P100"}}},"position":{"x":4,"y":63,"width":1,"height":2}},{"widget":{"name":"1d193f72","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_QueryRuntimeSeconds","query":{"datasetName":"fc2d4844","fields":[{"name":"min(QueryRuntimeSeconds)","expression":"MIN(`QueryRuntimeSeconds`)"},{"name":"max(QueryRuntimeSeconds)","expression":"MAX(`QueryRuntimeSeconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"QueryRuntimeSeconds","displayName":"QueryRuntimeSeconds","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479019f31edda6b66d3e545c40fc_QueryRuntimeSeconds"}]},"frame":{"showTitle":true,"title":"Query Duration Filter"}}},"position":{"x":3,"y":59,"width":1,"height":2}},{"widget":{"name":"5c7a4065","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakQueued, percentage=0_5)","expression":"PERCENTILE(`PeakQueued`, 0.5)"},{"name":"percentile(PeakQueued, percentage=0_9)","expression":"PERCENTILE(`PeakQueued`, 0.9)"},{"name":"percentile(PeakQueued, percentage=0_95)","expression":"PERCENTILE(`PeakQueued`, 0.95)"},{"name":"percentile(PeakQueued, percentage=0_99)","expression":"PERCENTILE(`PeakQueued`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative","reverse":false},"fields":[{"fieldName":"percentile(PeakQueued, percentage=0_5)","displayName":"P50"},{"fieldName":"percentile(PeakQueued, percentage=0_9)","displayName":"P90"},{"fieldName":"percentile(PeakQueued, percentage=0_95)","displayName":"P95"},{"fieldName":"percentile(PeakQueued, percentage=0_99)","displayName":"P99"}],"axis":{"title":"Peak Queued Query Count"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Peak Queuing Count "},"mark":{"layout":"group","colors":["#8BCAE7","#2672cb","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":4,"y":78,"width":1,"height":6}},{"widget":{"name":"5416cdc9","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakQueued, percentage=0_95)","expression":"PERCENTILE(`PeakQueued`, 0.95)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(PeakQueued, percentage=0_95)","style":{"bold":true,"italic":true},"displayName":"95th Percentile of PeakQueued"}},"frame":{"showTitle":true,"title":"Peak Queued","showDescription":true,"description":"P95"}}},"position":{"x":0,"y":65,"width":1,"height":2}},{"widget":{"name":"beb86416","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakQueued, percentage=0_99)","expression":"PERCENTILE(`PeakQueued`, 0.99)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(PeakQueued, percentage=0_99)","style":{"bold":true,"italic":true},"displayName":"99th Percentile of PeakQueued"}},"frame":{"showTitle":true,"title":"Peak Queued","showDescription":true,"description":"P99"}}},"position":{"x":1,"y":65,"width":2,"height":2}},{"widget":{"name":"cdbabb0d","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"max(total_window_seconds)","expression":"MAX(`total_window_seconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(total_window_seconds)","format":{"type":"number-plain","abbreviation":"none","decimalPlaces":{"type":"max","places":2}},"displayName":"Maximum total_window_seconds"}},"frame":{"showTitle":true,"title":"Total Window (s)","showDescription":true,"description":"Seconds in Window"}}},"position":{"x":5,"y":65,"width":1,"height":2}},{"widget":{"name":"daa34cfc","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakRunning, percentage=0_99)","expression":"PERCENTILE(`PeakRunning`, 0.99)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(PeakRunning, percentage=0_99)","style":{"bold":true,"italic":true},"displayName":"99th Percentile of PeakRunning"}},"frame":{"showTitle":true,"title":"Peak Running","showDescription":true,"description":"P99"}}},"position":{"x":4,"y":65,"width":1,"height":2}},{"widget":{"name":"07193d53","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_top_n","query":{"datasetName":"871b75c8","parameters":[{"name":"top_n","keyword":"top_n"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"top_n","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_top_n"}]},"frame":{"showTitle":true,"showDescription":false,"title":"Top N By Cost","description":""}}},"position":{"x":5,"y":147,"width":1,"height":2}},{"widget":{"name":"01416b9a","textbox_spec":"#### User-level Query Cost Attribution\n-----\nThis section is slightly different than the main cost allocation section below. Instead of aggregating costs at the unique query statement (query signature) level, it aggregates query statements (not unique) at the user level. It aims to answer the question of \"of all the statements being executed, how much relative warehouse usage is being used by each user?\""},"position":{"x":0,"y":127,"width":6,"height":2}},{"widget":{"name":"a4519aa8","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"sum(AllocatedQueryCostByTime)","expression":"SUM(`AllocatedQueryCostByTime`)"},{"name":"executed_by","expression":"`executed_by`"}],"parameterValues":[{"keyword":"warehouse_id","selection":{}}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(AllocatedQueryCostByTime)","scale":{"type":"quantitative"},"displayName":"Allocated Cost By User ($)"},"color":{"fieldName":"executed_by","scale":{"type":"categorical"},"displayName":"executed_by"},"label":{"show":true}}}},"position":{"x":0,"y":129,"width":3,"height":6}},{"widget":{"name":"c6f04688","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"sum(AllocatedQueryCostByTime)","expression":"SUM(`AllocatedQueryCostByTime`)"},{"name":"QueryTag","expression":"`QueryTag`"}],"parameterValues":[{"keyword":"warehouse_id","selection":{}}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(AllocatedQueryCostByTime)","scale":{"type":"quantitative"},"displayName":"Allocated Cost By Tag ($)"},"color":{"fieldName":"QueryTag","scale":{"type":"categorical"},"displayName":"QueryTag"},"label":{"show":true}}}},"position":{"x":3,"y":129,"width":3,"height":6}},{"widget":{"name":"16317b12","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"warehouse_channel","expression":"`warehouse_channel`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_channel","rowNumber":0,"style":{"fontSize":12,"rules":[{"condition":{"operator":"="},"color":"#00A972"}]},"displayName":"warehouse_channel"}},"frame":{"showTitle":true,"title":"Channel"}}},"position":{"x":5,"y":43,"width":1,"height":2}}]}]}