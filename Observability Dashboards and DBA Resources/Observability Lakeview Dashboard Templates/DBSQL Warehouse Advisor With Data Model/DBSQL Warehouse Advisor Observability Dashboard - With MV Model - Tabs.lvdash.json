{"datasets":[{"name":"fc2d4844","displayName":"Query History With Ratios","query":"WITH raw_history AS (\n    SELECT\n        f.*,\n        CASE \n            WHEN QueryRuntimeSeconds >= CAST(:long_running_seconds_treshold AS FLOAT) \n            THEN 'Long Running' \n            ELSE 'Short Running' \n        END AS LongRunningQueryFlag,\n        CASE \n            WHEN QueryRuntimeSeconds >= CAST(:long_running_seconds_treshold AS FLOAT) \n            THEN 1 \n            ELSE 0 \n        END AS Calc_LongRunningQueryFlag\n    FROM main.dbsql_warehouse_advisor.warehouse_query_history f\n    WHERE \n        f.warehouse_id IN (\n            SELECT DISTINCT warehouse_id \n            FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n            WHERE lower(c.warehouse_id) = lower(:warehouse_id)\n        )\n        AND start_time BETWEEN CAST(:start_range AS TIMESTAMP) AND CAST(:end_range AS TIMESTAMP)\n),\n\npx_all AS (\n    SELECT DISTINCT\n        sku_name,\n        pricing.default AS unit_price,\n        CAST(unit_price AS DECIMAL(10,3)) AS sku_price\n    FROM system.billing.list_prices \n    QUALIFY ROW_NUMBER() OVER (PARTITION BY sku_name ORDER BY price_start_time DESC) = 1\n),\n\nhistory AS (\n    SELECT *,\n        SUM(TotalResourceTimeUsedForAllocation) OVER () AS TotalUsedTimeInWarehouse,\n        SUM(COALESCE(TotalResourceTimeUsedForAllocation, 0)) OVER (PARTITION BY statement_text) AS TotalStatementTextTimeUsed,\n        CASE \n            WHEN TotalUsedTimeInWarehouse = 0 THEN NULL \n            ELSE TotalResourceTimeUsedForAllocation / TotalUsedTimeInWarehouse \n        END AS ProportionOfWarehouseTimeUsedByQuery\n    FROM raw_history\n),\n\nfiltered_warehouse_usage AS (\n    WITH trimmed_usage AS (\n        SELECT \n            TIMESTAMPDIFF(SECOND, usage_start_time, CAST(:start_range AS TIMESTAMP)) AS seconds_before_start_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_start_range_length,\n            TIMESTAMPDIFF(SECOND, GREATEST(CAST(:start_range AS TIMESTAMP), usage_start_time), usage_end_time) AS seconds_remaining_in_original_start_range,\n            GREATEST(CAST(:start_range AS TIMESTAMP), usage_start_time) AS trimmed_start_time,\n            LEAST(CAST(:end_range AS TIMESTAMP), usage_end_time) AS trimmed_end_time,\n            TIMESTAMPDIFF(SECOND, LEAST(CAST(:end_range AS TIMESTAMP), usage_end_time), usage_end_time) AS seconds_after_end_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_end_range_length,\n            CASE \n                WHEN full_start_range_length > 0 \n                THEN COALESCE((full_start_range_length - seconds_before_start_range) / full_start_range_length, 0) \n                ELSE NULL \n            END AS StartTrimProportion,\n            CASE \n                WHEN full_end_range_length > 0 \n                THEN COALESCE((full_end_range_length - seconds_after_end_range) / full_end_range_length, 0) \n                ELSE NULL \n            END AS EndTrimProportion,\n            COALESCE(EndTrimProportion, StartTrimProportion, 1) AS TrimProportion,\n            u.usage_start_time,\n            u.usage_end_time,\n            u.usage_quantity AS dbus,\n            u.warehouse_id AS warehouse_id,\n            (CAST(px.sku_price AS FLOAT) * (1 - CAST(:dbsql_discount AS FLOAT)) * dbus) AS UsageDollars\n        FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n        INNER JOIN px_all AS px \n            ON px.sku_name = u.sku_name\n        WHERE \n            (u.warehouse_id = :warehouse_id \n\n            OR u.warehouse_id IN (\n                SELECT DISTINCT warehouse_id \n                FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n                WHERE lower(c.warehouse_name) = lower(:warehouse_id)\n            )\n            )\n            AND usage_unit = 'DBU'\n            AND (\n                (usage_start_time BETWEEN CAST(:start_range AS TIMESTAMP) AND CAST(:end_range AS TIMESTAMP))\n                OR (usage_end_time BETWEEN CAST(:start_range AS TIMESTAMP) AND CAST(:end_range AS TIMESTAMP))\n            )\n    )\n    SELECT \n        warehouse_id,\n        SUM(dbus * TrimProportion) AS Total_Warehouse_Period_DBUs,\n        SUM(UsageDollars * TrimProportion) AS Total_Warehouse_Period_Dollars\n    FROM trimmed_usage\n    GROUP BY warehouse_id\n),\n\nwarehouse_average_ratio_metrics AS (\n    SELECT \n        warehouse_id,\n        COALESCE(AVG(CAST(CPUTotalExecutionTime AS FLOAT)) / AVG(CAST(QueryRuntimeSeconds AS FLOAT)), 0) AS WarehouseAvgTaskSkewRatio,\n        COALESCE(MAX(CPUTotalExecutionTime) / MAX(QueryRuntimeSeconds), 0) AS WarehouseMaxTaskSkewRatio\n    FROM history\n    WHERE CPUTotalExecutionTime > 0 AND ReadDataAmountInGB > 0\n    AND execution_status NOT IN ('FAILED')\n    GROUP BY warehouse_id\n),\n\nquery_level_intel_metrics AS (\n    SELECT qh.*,\n        w.WarehouseAvgTaskSkewRatio AS WarehouseAvgTaskToExecutionTimeRatio,\n        CASE \n            WHEN CPUTotalExecutionTime > 0 \n            AND ReadDataAmountInGB > 0 \n            AND execution_status NOT IN ('FAILED')\n            THEN qh.QueryRuntimeSeconds / (qh.CPUTotalExecutionTime / w.WarehouseAvgTaskSkewRatio)\n            ELSE NULL\n        END AS QueryEfficiencyRatio,\n        u.Total_Warehouse_Period_Dollars,\n        (u.Total_Warehouse_Period_Dollars * ProportionOfWarehouseTimeUsedByQuery) AS AllocatedQueryCostByTime\n    FROM history AS qh\n    LEFT JOIN warehouse_average_ratio_metrics AS w ON w.warehouse_id = qh.warehouse_id\n    LEFT JOIN filtered_warehouse_usage AS u ON u.warehouse_id = qh.warehouse_id\n)\n\nSELECT \n    z.*,\n    -- Performance Flags\n    CASE \n        WHEN ReadDataAmountInGB > CAST(:data_volume_min_gb AS FLOAT)\n        THEN 'High Volume Read' \n        ELSE 'FINE' \n    END AS HighDataVolumeFlag,\n        CASE \n        WHEN WrittenDataAmountInGB > CAST(:data_volume_min_gb AS FLOAT)\n        THEN 'High Volume Written' \n        ELSE 'FINE' \n    END AS HighDataWritesVolumeFlag,\n-- Queuing\n    CASE \n        WHEN ProportionQueueTime > CAST(:queue_proportion_threshold AS FLOAT)\n        THEN 'High Queue Time' \n        ELSE 'FINE' \n    END AS HighQueueingTimeFlag,\n-- Result Fetch\n    CASE \n        WHEN  ProportionResultFetchTime > CAST(:result_proportion_threshold AS FLOAT)\n        THEN 'High Result Fetch Time' \n        ELSE 'FINE' \n    END AS HighResultFetchTimeFlag,\n    CASE \n        WHEN LENGTH(raw_tagged) >= 1 THEN raw_tagged \n        ELSE 'Untagged' \n    END AS QueryTag,\n    -- Warehouse-level event info\n    current_warehouses.action_name,\ncurrent_warehouses.warehouse_name,\ncurrent_warehouses.warehouse_type,\ncurrent_warehouses.auto_stop_mins,\ncurrent_warehouses.warehouse_size,\ncurrent_warehouses.min_cluster_scaling,\ncurrent_warehouses.max_cluster_scaing,\ncurrent_warehouses.warehouse_channel,\ncurrent_warehouses.warehouse_editor_user,\ncurrent_warehouses.ChangeRank,\ncurrent_warehouses.RecencyRank,\ncurrent_warehouses.IsDeleted,\ncurrent_warehouses.warehouse_creator,\ncurrent_warehouses.warehouse_latest_editor,\ncurrent_warehouses.IsDeletedCurrently,\nTIMESTAMPDIFF(SECOND, :start_range, :end_range) AS total_window_seconds,\n-- cleaning performance on queue time distribution\nCASE WHEN proportionqueuetime > 1 THEN 1 ELSE round(proportionqueuetime, 1) END AS rounded_proportion_queue_time\nFROM query_level_intel_metrics AS z\nLEFT JOIN main.dbsql_warehouse_advisor.warehouse_current AS current_warehouses ON current_warehouses.warehouse_id = z.warehouse_id\n","parameters":[{"displayName":"long_running_seconds_treshold","keyword":"long_running_seconds_treshold","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"120"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_range","keyword":"start_range","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_range","keyword":"end_range","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/d"}]}}},{"displayName":"dbsql_discount","keyword":"dbsql_discount","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0.0"}]}}},{"displayName":"data_volume_min_gb","keyword":"data_volume_min_gb","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"10"}]}}},{"displayName":"queue_proportion_threshold","keyword":"queue_proportion_threshold","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0.1"}]}}},{"displayName":"result_proportion_threshold","keyword":"result_proportion_threshold","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0.1"}]}}}]},{"name":"36bb7aba","displayName":"Cluster Scaling","query":"-- Most recent warehouse config in selected time period\nWITH warehouse_snapshot AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_scd \n    WHERE action_name IN ('createWarehouse', 'createEndpoint', 'editWarehouse', 'editEndpoint')\n    AND event_time <= CAST(:end_time AS TIMESTAMP)\n    AND (\n        warehouse_id = :warehouse_id\n    )\n    QUALIFY ROW_NUMBER() OVER (PARTITION BY account_id, workspace_id, warehouse_id ORDER BY event_time DESC) = 1\n),\n\n\nraw_scaling AS (\n    SELECT \n        DATE_TRUNC('MINUTE', w.event_time) AS event_minute,\n        MAX(w.cluster_count) AS clusters,\n        MAX(w.warehouse_id) AS warehouse_id\n    FROM main.dbsql_warehouse_advisor.warehouse_scaling_events w\n    INNER JOIN warehouse_snapshot c \n        ON w.warehouse_id = c.warehouse_id\n    WHERE w.event_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n    AND event_type IN ('RUNNING', 'SCALED_UP', 'SCALED_DOWN', 'STOPPED')\n    GROUP BY DATE_TRUNC('MINUTE', w.event_time)\n    ORDER BY event_minute\n),\n\nfull_series AS (\nSELECT explode(sequence((SELECT MIN(event_minute) FROM raw_scaling), (SELECT MAX(event_minute) FROM raw_scaling), INTERVAL 1 MINUTE)) AS minuteChunk\n),\n\n\nfilled_in_series AS (\n    SELECT \n        spine.minuteChunk AS event_minute,\n        MAX(s2.clusters) AS NumberOfClustersOn,\n        MAX(s2.warehouse_id) AS warehouse_id\n    FROM full_series AS spine\n    LEFT JOIN raw_scaling AS s2 \n        ON DATE_TRUNC('MINUTE', s2.event_minute) = spine.minuteChunk\n    GROUP BY spine.minuteChunk\n    ORDER BY event_minute\n),\n\nfinal_scale AS (\nSELECT event_minute,\nLAST_VALUE(NumberOfClustersOn, true) OVER (ORDER BY event_minute) AS NumberOfClustersOn,\nLAST_VALUE(w.warehouse_id, true) OVER (ORDER BY event_minute)  AS warehouse_id\n FROM filled_in_series  w\n ORDER BY warehouse_id, event_minute\n)\n\nSELECT \nf.*,\nwarehouse_channel,\nwarehouse_size,\nmin_cluster_scaling AS warehouse_min_clusters,\nmax_cluster_scaing AS warehouse_max_clusters,\nauto_stop_mins AS warehouse_auto_stop_min\nFROM final_scale AS f\nLEFT JOIN warehouse_snapshot c ON f.warehouse_id = c.warehouse_id","parameters":[{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}}]},{"name":"871b75c8","displayName":"Query Statement Resource Attribution","query":"WITH warehouse_snapshot AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_current w\n    WHERE (\n        lower(w.warehouse_id) = lower(:warehouse_id)\n    )\n    LIMIT 1\n), \n\npx_all AS (\n    SELECT DISTINCT\n        sku_name,\n        pricing.default AS unit_price,\n        CAST(unit_price AS DECIMAL(10,3)) AS sku_price\n    FROM system.billing.list_prices \n    QUALIFY ROW_NUMBER() OVER (PARTITION BY sku_name ORDER BY price_start_time DESC) = 1\n),\n\nraw_history AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_query_history f\n    WHERE \n    f.warehouse_id IN  (\n            SELECT DISTINCT warehouse_id FROM warehouse_snapshot\n        )\n    AND start_time >= CAST(:start_time AS TIMESTAMP) \n    AND end_time <= CAST(:end_time AS TIMESTAMP) \n    AND QueryRuntimeSeconds > 0\n    AND statement_type IS NOT NULL\n),\n\nhistory AS (\n    SELECT *,\n        SUM(TotalResourceTimeUsedForAllocation) OVER () AS TotalUsedTimeInWarehouse,\n        SUM(COALESCE(TotalResourceTimeUsedForAllocation, 0)) OVER (PARTITION BY statement_text) AS TotalStatementTextTimeUsed,\n        CASE \n            WHEN TotalUsedTimeInWarehouse = 0 THEN NULL \n            ELSE TotalResourceTimeUsedForAllocation / TotalUsedTimeInWarehouse \n        END AS ProportionOfWarehouseTimeUsedByQuery\n    FROM raw_history\n),\n\nfiltered_warehouse_usage AS (\n    WITH trimmed_usage AS (\n        SELECT \n            TIMESTAMPDIFF(SECOND, usage_start_time, CAST(:start_time AS TIMESTAMP)) AS seconds_before_start_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_start_range_length,\n            full_start_range_length - seconds_before_start_range AS seconds_remaining_in_original_start_range,\n            GREATEST(CAST(:start_time AS TIMESTAMP), usage_start_time) AS trimmed_start_time,\n            LEAST(CAST(:end_time AS TIMESTAMP), usage_end_time) AS trimmed_end_time,\n            TIMESTAMPDIFF(SECOND, CAST(:end_time AS TIMESTAMP), usage_end_time) AS seconds_after_end_range,\n            TIMESTAMPDIFF(SECOND, usage_start_time, usage_end_time) AS full_end_range_length,\n            full_end_range_length - seconds_after_end_range AS seconds_remaining_in_original_end_range,\n\n            CASE \n                WHEN seconds_before_start_range > 0 \n                THEN COALESCE((full_start_range_length - seconds_before_start_range) / full_start_range_length, 0) \n                ELSE NULL \n            END AS StartTrimProportion,\n            CASE \n                WHEN seconds_after_end_range > 0 \n                THEN COALESCE((full_start_range_length - seconds_after_end_range) / full_start_range_length, 0) \n                ELSE NULL \n            END AS EndTrimProportion,\n            COALESCE(EndTrimProportion, StartTrimProportion, 1) AS TrimProportion,\n            u.usage_start_time,\n            u.usage_end_time,\n            u.usage_quantity AS dbus,\n            u.warehouse_id AS warehouse_id,\n            (CAST(px.sku_price AS FLOAT) * (1 - CAST(:dbsql_discount AS FLOAT)) * dbus) AS UsageDollars\n        FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n        INNER JOIN px_all AS px \n            ON px.sku_name = u.sku_name\n        WHERE \n            (u.warehouse_id = :warehouse_id \n            OR EXISTS (\n                SELECT warehouse_id \n                FROM main.dbsql_warehouse_advisor.warehouse_current AS c\n                WHERE c.warehouse_id = u.warehouse_id AND warehouse_name = :warehouse_id\n            ))\n            AND usage_unit = 'DBU'\n            AND (\n                usage_start_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n                OR usage_end_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n            )\n    )\n    SELECT \n        u. warehouse_id,\n        SUM(u.dbus * TrimProportion) AS Total_Warehouse_Period_DBUs,\n        SUM(u.UsageDollars * TrimProportion) AS Total_Warehouse_Period_Dollars\n    FROM trimmed_usage AS u\n    GROUP BY warehouse_id\n),\n\nhistory_with_pricing AS (\n    SELECT \n        h1.*,\n        wh.Total_Warehouse_Period_DBUs, \n        wh.Total_Warehouse_Period_Dollars\n    FROM history AS h1\n    LEFT JOIN filtered_warehouse_usage AS wh \n        ON h1.warehouse_id = wh.warehouse_id\n),\n\nquery_proportion_agg AS (\n    SELECT \n        SHA2(REGEXP_REPLACE(REGEXP_REPLACE(REGEXP_REPLACE(statement_text, '/\\\\*.*?\\\\*/', ''), '(--[^\\\\n]*)', ''), ' ', ''), 256) AS query_signature,\n        MAX(statement_text) AS statement_text,\n        MAX(statement_type) AS statetment_type,\n        MAX(raw_tagged) AS raw_tagged,\n        MAX(dbt_app) AS dbt_app,\n        MAX(dbt_node_id) AS dbt_node_id,\n        MAX(dbt_profile_name) AS dbt_profile_id,\n        MAX(dbt_target_name) AS dbt_target_name,\n        MAX(dbt_version) AS dbt_version,\n        MAX(IsDBTQuery) AS IsDBTQuery,\n        FIRST(parsed_dbt_comment) AS parsed_dbt_comment,\n        COUNT(statement_id) AS NumberOfExecutions,\n        AVG(QueryRuntimeSeconds) AS AvgRuntimeInSeconds,\n        MAX(TotalUsedTimeInWarehouse) AS TotalWarehouseTimeUsed,\n        MAX(Total_Warehouse_Period_DBUs) AS Total_Warehouse_Period_DBUs,\n        MAX(Total_Warehouse_Period_Dollars) AS Total_Warehouse_Period_Dollars,\n        SUM(TotalResourceTimeUsedForAllocation) AS TotalStatementTimeUsed,\n        ARRAY_DISTINCT(COLLECT_LIST(NAMED_STRUCT('user', executed_by, 'execution_count', \n            (SELECT COUNT(statement_id) FROM history AS in_hist \n             WHERE in_hist.executed_by = u.executed_by AND in_hist.statement_text = u.statement_text)\n        ))) AS UserRunCounts\n    FROM history_with_pricing AS u\n    GROUP BY query_signature\n),\n\nstatement_attribution AS (\n    SELECT \n        a.*,\n        CASE \n            WHEN TotalWarehouseTimeUsed = 0 THEN NULL \n            ELSE TotalStatementTimeUsed / TotalWarehouseTimeUsed \n        END AS StatementTaskTimeProportion,\n        Total_Warehouse_Period_Dollars * StatementTaskTimeProportion AS StatementAllocatedDollars,\n        Total_Warehouse_Period_DBUs * StatementTaskTimeProportion AS StatementAllocatedDBUs\n    FROM query_proportion_agg a\n),\n\nstatement_rollup_cumulative_sum AS (\n    SELECT \n        *,\n        SUM(StatementTaskTimeProportion) OVER (ORDER BY StatementTaskTimeProportion DESC) AS CumulativeProportionOfWarehouseTime\n    FROM statement_attribution\n),\n\nranked_query_costs AS (\n    SELECT \n        s.*,\n        StatementTaskTimeProportion * 100 AS StatementWarehouseTimePercentage,\n        ROW_NUMBER() OVER (ORDER BY StatementTaskTimeProportion DESC) AS QueryCostRank,\n        CASE \n            WHEN LENGTH(raw_tagged) >= 1 THEN raw_tagged \n            ELSE 'Untagged' \n        END AS QueryTag,\n        CASE \n            WHEN s.CumulativeProportionOfWarehouseTime <= CAST(:query_pareto AS FLOAT) \n            THEN s.statement_text \n            ELSE 'Remaining Long Tail of Queries' \n        END AS QueryProportionParetoFlag\n    FROM statement_rollup_cumulative_sum s\n    ORDER BY CumulativeProportionOfWarehouseTime\n)\n\nSELECT \n    *,\n    CASE \n        WHEN QueryCostRank <= :top_n \n        THEN 'Top N Query' \n        ELSE 'Remaining Queries' \n    END AS TopNFilter\nFROM ranked_query_costs\nORDER BY QueryCostRank\n","parameters":[{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/d"}]}}},{"displayName":"query_pareto","keyword":"query_pareto","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"1"}]}}},{"displayName":"top_n","keyword":"top_n","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"10"}]}}},{"displayName":"dbsql_discount","keyword":"dbsql_discount","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0"}]}}}]},{"name":"c767ac47","displayName":"Warehouse SCD History","query":"SELECT * \nFROM main.dbsql_warehouse_advisor.warehouse_scd\n"},{"name":"fb74d1e7","displayName":"Warehouses Current","query":"WITH with_delete_flag AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_current\n),\n\npx_all AS (\n    SELECT DISTINCT\n        sku_name,\n        pricing.default AS unit_price,\n        CAST(unit_price AS DECIMAL(10,3)) AS sku_price\n    FROM system.billing.list_prices \n    QUALIFY ROW_NUMBER() OVER (PARTITION BY sku_name ORDER BY price_start_time DESC) = 1\n),\n\n-- Active Warehouse Metadata\nclean_usage AS (\n    SELECT \n        w.*,\n        usage_date, \n        usage_quantity AS DBUs,\n        (CAST(px.sku_price AS FLOAT) * (1 - CAST(:dbsql_discount AS FLOAT)) * usage_quantity) AS UsageDollars,\n        custom_tags\n    FROM main.dbsql_warehouse_advisor.warehouse_usage AS u\n    INNER JOIN px_all AS px \n        ON px.sku_name = u.sku_name\n    INNER JOIN with_delete_flag AS w \n        ON usage_metadata.warehouse_id = w.warehouse_id\n    WHERE warehouse_name IS NOT NULL\n    AND usage_date BETWEEN CAST(:start_date AS TIMESTAMP) AND CAST(:end_date AS TIMESTAMP)\n),\n\nwarehouse_ranks AS (\n    SELECT \n        account_id, \n        workspace_id, \n        warehouse_id,\n        SUM(UsageDollars) AS total_warehouse_usage_in_period,\n        DENSE_RANK() OVER (ORDER BY SUM(UsageDollars) DESC) AS WarehouseUsageTopNRank\n    FROM clean_usage\n    GROUP BY account_id, workspace_id, warehouse_id\n)\n\nSELECT \n    u.*,\n    SHA2(warehouse_name, 256) AS masked_warehouse_name,\n    SHA2(warehouse_creator, 256) AS masked_warehouse_creator,\n    r.WarehouseUsageTopNRank\nFROM clean_usage AS u \nINNER JOIN warehouse_ranks AS r \n    ON u.warehouse_id = r.warehouse_id \n    AND u.account_id = r.account_id \n    AND u.workspace_id = r.workspace_id\n","parameters":[{"displayName":"start_date","keyword":"start_date","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}},{"displayName":"end_date","keyword":"end_date","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}},{"displayName":"dbsql_discount","keyword":"dbsql_discount","dataType":"DECIMAL","defaultSelection":{"values":{"dataType":"DECIMAL","values":[{"value":"0"}]}}}]},{"name":"547c0662","displayName":"Query Queuing","query":"WITH warehouse_snapshot AS (\n    SELECT * \n    FROM main.dbsql_warehouse_advisor.warehouse_current w\n    WHERE (\n        lower(w.warehouse_id) = lower(:warehouse_id)\n    )\n    LIMIT 1\n), \n\nquery_queuing_history AS (\n    SELECT \n        statement_id,\n        warehouse_id AS warehouse_id,\n        QueryRuntimeSeconds*1000 AS total_duration_ms,\n        COALESCE(QueueQueryTime*1000, 0) AS queueing_ms, -- Queue time is the total of waiting_at_capacity and waiting_for_compute in the MV\n        ExecutionQueryTime*1000 AS execution_duration_ms,\n        start_time AS query_start_timestamp,\n        TIMESTAMPADD(MILLISECOND, queueing_ms, query_start_timestamp) AS queuing_end_timestamp,\n        CASE WHEN queueing_ms > 0 THEN 1 ELSE 0 END AS IsQueued,\n        end_time AS query_end_timestamp,\n        DATE_TRUNC('SECOND', query_start_timestamp) AS query_start_second,\n        DATE_TRUNC('SECOND', queuing_end_timestamp) AS query_queue_end_second\n    FROM main.dbsql_warehouse_advisor.warehouse_query_history qh\n    WHERE qh.start_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n    AND qh.warehouse_id IN ( SELECT DISTINCT warehouse_id FROM warehouse_snapshot )\n),\n\nfull_series AS (\nSELECT explode(sequence((SELECT date_trunc('SECOND', MIN(query_start_timestamp)) FROM query_queuing_history), (SELECT date_trunc('SECOND', MAX(query_end_timestamp)) FROM query_queuing_history), INTERVAL 1 SECOND)) AS secondChunk\n),\n\nqueuing_details AS (\n    SELECT \n        spine.secondChunk AS second_chunk, \n        -- IsQueued during window flag\n        CASE \n            WHEN (spine.secondChunk >= DATE_TRUNC('SECOND', q.query_start_timestamp)\n                  AND spine.secondChunk <= q.queuing_end_timestamp) \n                 AND q.IsQueued = 1\n            THEN 1 ELSE 0 \n        END AS IsQueuedDuringSecond,\n        -- Peak running\n        CASE \n            WHEN (spine.secondChunk >= DATE_TRUNC('SECOND', q.queuing_end_timestamp)\n                  AND spine.secondChunk <= q.query_end_timestamp)\n            THEN 1 ELSE 0 \n        END AS IsRunningDuringSecond,   \n        q.query_start_timestamp, \n        q.queuing_end_timestamp, \n        q.query_end_timestamp, \n        q.statement_id\n    FROM full_series AS spine\n    LEFT JOIN query_queuing_history AS q \n        ON (spine.secondChunk >= DATE_TRUNC('SECOND', q.query_start_timestamp)\n            AND spine.secondChunk <= q.query_end_timestamp)\n    WHERE q.statement_id IS NOT NULL\n),\n\nsecond_level_queuing AS (\n    SELECT\n        DATE_TRUNC('SECOND', second_chunk) AS second_int, \n        SUM(IsQueuedDuringSecond) AS QueuedCount, \n        SUM(IsRunningDuringSecond) AS RunningCount\n    FROM queuing_details\n    GROUP BY DATE_TRUNC('SECOND', second_chunk)\n    ORDER BY second_int\n)\n\nSELECT \n    DATE_ADD(MINUTE, FLOOR(EXTRACT(MINUTE FROM second_int) / 5) * 5 - EXTRACT(MINUTE FROM second_int), DATE_TRUNC('MINUTE', second_int)) AS five_min_interval,\n    MAX(RunningCount) AS PeakRunning,\n    MAX(QueuedCount) AS PeakQueued\nFROM second_level_queuing\nGROUP BY five_min_interval\nORDER BY five_min_interval\n","parameters":[{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now/s"}]}}},{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"now-7d/d"}]}}}]},{"name":"e139c435","displayName":"Cluster Scaling Time Agg","query":"-- Most recent warehouse config in selected time period\n\nWITH raw_scaling AS (\n    SELECT \n        DATE_TRUNC('MINUTE', w.event_time) AS event_minute,\n        MAX(w.cluster_count) AS clusters,\n        MAX(w.warehouse_id) AS warehouse_id\n    FROM main.dbsql_warehouse_advisor.warehouse_scaling_events w\n    WHERE \n    warehouse_id = :warehouse_id\n    AND w.event_time BETWEEN CAST(:start_time AS TIMESTAMP) AND CAST(:end_time AS TIMESTAMP)\n    AND event_type IN ('RUNNING', 'SCALED_UP', 'SCALED_DOWN', 'STOPPED')\n    GROUP BY DATE_TRUNC('MINUTE', w.event_time)\n    ORDER BY event_minute\n),\n\nfull_series AS (\n    SELECT explode(sequence((SELECT MIN(event_minute) FROM raw_scaling), (SELECT MAX(event_minute) FROM raw_scaling), INTERVAL 1 MINUTE)) AS minuteChunk\n),\n\nfilled_in_series AS (\n    SELECT \n        spine.minuteChunk AS event_minute,\n        MAX(s2.clusters) AS NumberOfClustersOn,\n        MAX(s2.warehouse_id) AS warehouse_id\n    FROM full_series AS spine\n    LEFT JOIN raw_scaling AS s2 \n        ON DATE_TRUNC('MINUTE', s2.event_minute) = spine.minuteChunk\n    GROUP BY spine.minuteChunk\n    ORDER BY event_minute\n),\n\nfinal_scale AS (\n    SELECT event_minute,\n    LAST_VALUE(NumberOfClustersOn, true) OVER (ORDER BY event_minute) AS NumberOfClustersOn,\n    LAST_VALUE(w.warehouse_id, true) OVER (ORDER BY event_minute)  AS warehouse_id\n    FROM filled_in_series  w\n    ORDER BY warehouse_id, event_minute\n)\n\n-- Daily Aggregation\nSELECT \n    DATE_TRUNC('DAY', event_minute) AS event_day,\n    NumberOfClustersOn,\n    COUNT(*) AS total_minutes\nFROM final_scale\nGROUP BY event_day, NumberOfClustersOn\nORDER BY event_day, NumberOfClustersOn","parameters":[{"displayName":"warehouse_id","keyword":"warehouse_id","dataType":"STRING","defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"475b94ddc7cd5211"}]}}},{"displayName":"start_time","keyword":"start_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"2024-10-01T13:52:59.000"}]}}},{"displayName":"end_time","keyword":"end_time","dataType":"DATETIME","defaultSelection":{"values":{"dataType":"DATETIME","values":[{"value":"2024-10-07T13:56:06.000"}]}}}]}],"pages":[{"name":"47988ca7","displayName":"README","layout":[{"widget":{"name":"10c0c602","textbox_spec":"# DBSQL Warehouse Advisor\n-----\n\n## Sections\n1. Warehouse Usage- show basic billing usage and cost metrics for a warehouse (dbus, $, over time)\n2. Scaling Patterns - shows basic scaling metrics per warehouse (scaling history, avg scale (weighted))\n3. Performance Advisor - Show common query history metrics such as runtime, queue time, peak queuing, failure rate, cache %, etc., identify inefficient queries with skew/spill indicators\n4. Query Statement Level Resource Allocation Advisor - Identify and allocate warehouse total used time by statement and query (optionally include and aggregate by TAG)\n-----"},"position":{"x":0,"y":0,"width":6,"height":4}},{"widget":{"name":"f9f66915","textbox_spec":"## Section 1 - Warehouse Usage\n-----\nThis section shows basic warehouse usage over time across the account. It also provides a table showing the changes / edits to a warehouse over time\n\n#### Key Terms & Definitions\n-----\n1. DBSQL Discount % - this is a parameter that allows a user to input their own discount rates for all DBSQL SKUs into the dashboard to get a more accurate picture of warehouse costs. The system tables currently show all prices at list rate, so this helps resolve custom discounts for DBSQL. "},"position":{"x":0,"y":4,"width":6,"height":4}},{"widget":{"name":"7d283dd2","textbox_spec":"## Section 2 - Scaling Patterns\n-----\nThis section shows summary metrics for how the warehouse scales for concurrency in a particular period of time. Common use cases for this section include workload capacity planning, scaling efficiency change monitoring (i.e. create an alert when warehouse scales above 1 cluster for longer than 5% of my day), as well as performance troubleshooting. \n\n#### Key Terms & Definitions\n-----\n1. \"Mintues on Cluster N\" - this is a summary metric for describing how much time a warehouse spent scaled at a specified level of concurrency. This is used for building weighted demand plans for spiky concurrency workloads more accurately. "},"position":{"x":0,"y":8,"width":6,"height":4}},{"widget":{"name":"9f6d0b20","textbox_spec":"## Section 3 - Performance Advisor\n-----\nThis section helps dive into warehouse performance to understand how well the warehouse is performing against SLAs, identifying bottlenecks, as well as queries that are taking up the majority of the resources.\n\n#### Key Terms & Definitions\n-----\n1. Query Runtime (P50, 75, 95, 99) - The distribution metrics of query runtime. This is the metric used to measure SLAs\n2. % Query Queue Time - The proportion of a query's total runtime that was spent in the queue. This is a valuable metric to normalized for wasted time queueing for both short and long queries. \n3. Queue Time - The amount of time queries are spending in the queue. This can vary in importance by the length of the query. \n4. Peak Queued / Peak Running - This represents the maximum number of queries queued or running at a given point in time. \n5. Query Work - This is a non financial metric to measure and compare how \"expensive\" or \"greedy\" queries are without doing shared resource allocation (which can be skewed in many scenarios). Query Work is the sum of all steps that require cluster resources. Query Work = execution time + compilation time + result fetching time. \n6. Allocated Query Cost by Time - ALL Query level costs in this dashboard are allocated costs. This means that a warehouse is a shared resource, and allocation the total cost of a warehouse to specific queries / users depends on dividing up the total costs by the amount of query work done. This allows users to loosely attribute dollars back to end users / queries. This is valuable but sensitive to the selected time window and the amount of queries running on a cluster. For example, if I have a warehouse that costs $10 per hour, and I run 1 query that only takes 1 second, then that query will be allocated the whole $10 if no other queries are run. Conversely, if I run 10 queries in that hour, those queries will have that $10 allocated in proportion to the amount of \"work\" each query took. "},"position":{"x":0,"y":12,"width":6,"height":7}},{"widget":{"name":"08f050cf","textbox_spec":"## Section 4 - Query Cost Allocation\n-----\nThis section helps users allocate the cost of a warehouse back to the user and query level detail. In this section, you can even attribute shared warehouse costs down to query tags (custom in the data model) as well as DBT model information. This is an ALLOCATION - which means it simply takes the cost of a whole warehouse in the selected time period and attributes that actual cost proportionally to the queries that are run during that time. This is sensitive to the saturation of a warehouse as well as idle time. For example, if I have a warehouse that costs $10 per hour, and I run 1 query that only takes 1 second, then that query will be allocated the whole $10 if no other queries are run. Conversely, if I run 10 queries in that hour, those queries will have that $10 allocated in proportion to the amount of \"work\" each query took. This is different than query work, which is defined above and is a more reliable deterministic way of finding expensive / greedy queries on a warehouse. \n\n#### Key Terms & Definitions\n-----\n1. Query Signature - This is the term for a unique SQL statement that is executed on the warehouse. This is different than a statement_id - which is a globally unique execution of SQL. The query signature rolls multiple statement executions up to a unique SQL string. In the signature - the SQL statement is hash and aggregated, excluding comments in the SQL. "},"position":{"x":0,"y":19,"width":6,"height":7}}]},{"name":"ac79703d","displayName":"Warehouse Usage","layout":[{"widget":{"name":"0bf0fbc1","textbox_spec":"# Overall Warehouses (all) Usage & Info Overview\n-----\nThis section helps users get a simple cost picture for their warehouse over time, as well as obtain a clear picture of momentum of cost over time - which can easily be turned into an alert. "},"position":{"x":0,"y":0,"width":6,"height":2}},{"widget":{"name":"289ccdd7","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_id","query":{"datasetName":"c767ac47","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_warehouse_id"},{"fieldName":"warehouse_id","displayName":"warehouse_id","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef4790fa5319ed983a13d9653b3ddd_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":2,"y":2,"width":2,"height":2}},{"widget":{"name":"03583a8d","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_warehouse_name","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"warehouse_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c51616940e244c6543ee7c_warehouse_name","query":{"datasetName":"c767ac47","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"warehouse_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_name","displayName":"warehouse_name","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_warehouse_name"},{"fieldName":"warehouse_name","displayName":"warehouse_name","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c51616940e244c6543ee7c_warehouse_name"}]},"frame":{"showTitle":true,"title":"Current Warehouse Name"}}},"position":{"x":1,"y":4,"width":1,"height":2}},{"widget":{"name":"c750b2b4","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(DBUs)","expression":"SUM(`DBUs`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"displayName":"Usage Date"},"y":{"fieldName":"sum(DBUs)","scale":{"type":"quantitative"},"displayName":"DBUs"},"color":{"fieldName":"warehouse_name","scale":{"type":"categorical"},"legend":{"position":"bottom"},"displayName":"warehouse_name"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage Proportion By Name"},"mark":{"layout":"percent-stack"}}},"position":{"x":0,"y":12,"width":6,"height":7}},{"widget":{"name":"58e81119","queries":[{"name":"main_query","query":{"datasetName":"c767ac47","fields":[{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"warehouse_name","expression":"`warehouse_name`"},{"name":"ChangeRank","expression":"`ChangeRank`"},{"name":"action_name","expression":"`action_name`"},{"name":"warehouse_size","expression":"`warehouse_size`"},{"name":"min_cluster_scaling","expression":"`min_cluster_scaling`"},{"name":"max_cluster_scaing","expression":"`max_cluster_scaing`"},{"name":"auto_stop_mins","expression":"`auto_stop_mins`"},{"name":"warehouse_editor_user","expression":"`warehouse_editor_user`"},{"name":"workspace_id","expression":"`workspace_id`"},{"name":"account_id","expression":"`account_id`"},{"name":"event_time","expression":"`event_time`"},{"name":"warehouse_channel","expression":"`warehouse_channel`"},{"name":"RecencyRank","expression":"`RecencyRank`"},{"name":"IsDeleted","expression":"`IsDeleted`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"warehouse_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":0,"title":"warehouse_id","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_id"},{"fieldName":"warehouse_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":1,"title":"warehouse_name","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_name"},{"fieldName":"ChangeRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":2,"title":"ChangeRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ChangeRank"},{"fieldName":"action_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":3,"title":"action_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"action_name"},{"fieldName":"warehouse_size","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":4,"title":"warehouse_size","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_size"},{"fieldName":"min_cluster_scaling","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":5,"title":"min_cluster_scaling","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"min_cluster_scaling"},{"fieldName":"max_cluster_scaing","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":6,"title":"max_cluster_scaing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"max_cluster_scaing"},{"fieldName":"auto_stop_mins","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":7,"title":"auto_stop_mins","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"auto_stop_mins"},{"fieldName":"warehouse_editor_user","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":8,"title":"warehouse_editor_user","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_editor_user"},{"fieldName":"workspace_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":9,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"workspace_id"},{"fieldName":"account_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":10,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"account_id"},{"fieldName":"event_time","dateTimeFormat":"DD/MM/YY HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":11,"title":"event_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"event_time"},{"fieldName":"warehouse_channel","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":13,"title":"warehouse_channel","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_channel"},{"fieldName":"RecencyRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":14,"title":"RecencyRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"RecencyRank"},{"fieldName":"IsDeleted","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":15,"title":"IsDeleted","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"IsDeleted"}]},"invisibleColumns":[{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_type","type":"string","displayAs":"string","order":12,"title":"warehouse_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"title":"Warehouse Change History (recommended to pick 1 warehouse for best readability)"}}},"position":{"x":0,"y":29,"width":6,"height":10}},{"widget":{"name":"b055cdbe","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_WarehouseUsageTopNRank","query":{"datasetName":"fb74d1e7","fields":[{"name":"min(WarehouseUsageTopNRank)","expression":"MIN(`WarehouseUsageTopNRank`)"},{"name":"max(WarehouseUsageTopNRank)","expression":"MAX(`WarehouseUsageTopNRank`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"WarehouseUsageTopNRank","displayName":"WarehouseUsageTopNRank","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_WarehouseUsageTopNRank"}]},"frame":{"showTitle":true,"title":"Top N Warehouse By Usage","showDescription":true,"description":"Filter this section by top N warehouse by total usage in period"}}},"position":{"x":4,"y":2,"width":2,"height":2}},{"widget":{"name":"5016b589","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_start_date","query":{"datasetName":"fb74d1e7","parameters":[{"name":"start_date","keyword":"start_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_date","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_start_date"}]},"frame":{"showTitle":true,"title":"Warehouse Usage Start"}}},"position":{"x":0,"y":2,"width":1,"height":2}},{"widget":{"name":"7fb2ff38","queries":[{"name":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_IsDeletedCurrently","query":{"datasetName":"fb74d1e7","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"IsDeletedCurrently_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"IsDeletedCurrently","displayName":"IsDeletedCurrently","queryName":"dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_IsDeletedCurrently"}]},"frame":{"showTitle":true,"title":"Is Deleted?"}}},"position":{"x":3,"y":4,"width":1,"height":2}},{"widget":{"name":"119e31ef","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_workspace_id","query":{"datasetName":"fc2d4844","fields":[{"name":"workspace_id","expression":"`workspace_id`"},{"name":"workspace_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_workspace_id","query":{"datasetName":"fb74d1e7","fields":[{"name":"workspace_id","expression":"`workspace_id`"},{"name":"workspace_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}},{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c51616940e244c6543ee7c_workspace_id","query":{"datasetName":"c767ac47","fields":[{"name":"workspace_id","expression":"`workspace_id`"},{"name":"workspace_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"workspace_id","displayName":"workspace_id","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_workspace_id"},{"fieldName":"workspace_id","displayName":"workspace_id","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_workspace_id"},{"fieldName":"workspace_id","displayName":"workspace_id","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c51616940e244c6543ee7c_workspace_id"}]},"frame":{"showTitle":true,"title":"Workspace Id"}}},"position":{"x":0,"y":4,"width":1,"height":2}},{"widget":{"name":"fcb8850d","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_warehouse_latest_editor","query":{"datasetName":"fb74d1e7","fields":[{"name":"warehouse_latest_editor","expression":"`warehouse_latest_editor`"},{"name":"warehouse_latest_editor_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"warehouse_latest_editor","displayName":"warehouse_latest_editor","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_warehouse_latest_editor"}]},"frame":{"showTitle":true,"title":"Warehouse Editor"}}},"position":{"x":4,"y":4,"width":2,"height":2}},{"widget":{"name":"2def4662","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"},{"name":"warehouse_name","expression":"`warehouse_name`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Usage Dollars"},"y":{"fieldName":"warehouse_name","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Warehouse Name"},"color":{"fieldName":"IsDeletedCurrently","scale":{"type":"categorical","mappings":[{"value":"Active","color":"#00A972"},{"value":"Deleted","color":"#0011ff"}]},"displayName":"Is Deleted"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Name"}}},"position":{"x":0,"y":19,"width":3,"height":10}},{"widget":{"name":"1af9ca18","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"IsDeletedCurrently","expression":"`IsDeletedCurrently`"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"},{"name":"warehouse_latest_editor","expression":"`warehouse_latest_editor`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(UsageDollars)","scale":{"type":"quantitative"},"displayName":"Usage Dollors"},"y":{"fieldName":"warehouse_latest_editor","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Warehouse Editor"},"color":{"fieldName":"IsDeletedCurrently","scale":{"type":"categorical","mappings":[{"value":"Deleted","color":"#2138ff"},{"value":"Active","color":"#00A972"}]},"displayName":"Is Deleted"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage By Most Recent Editor"}}},"position":{"x":3,"y":19,"width":3,"height":10}},{"widget":{"name":"5f67b153","queries":[{"name":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_end_date","query":{"datasetName":"fb74d1e7","parameters":[{"name":"end_date","keyword":"end_date"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_date","queryName":"parameter_dashboards/01ef479019e616c2ad8824106561923f/datasets/01ef479115931a9b99418cebf935493e_end_date"}]},"frame":{"showTitle":true,"title":"Warehouse Usage End"}}},"position":{"x":1,"y":2,"width":1,"height":2}},{"widget":{"name":"1d5ba444","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"sum(DBUs)","expression":"SUM(`DBUs`)"},{"name":"sum(UsageDollars)","expression":"SUM(`UsageDollars`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"sum(UsageDollars)","style":{"bold":true,"fontSize":32},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"none","decimalPlaces":{"type":"max","places":0}},"displayName":"Sum of UsageDollars"},"target":{"fieldName":"sum(DBUs)","displayName":"Sum of DBUs"}},"frame":{"showTitle":true,"title":"Total Usage Dollars In Period","showDescription":true,"description":"(DBUs)"}}},"position":{"x":0,"y":6,"width":1,"height":3}},{"widget":{"name":"8c3a9e82","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"countdistinct(warehouse_id)","expression":"COUNT(DISTINCT `warehouse_id`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(warehouse_id)","displayName":"Count of Unique warehouse_id"}},"frame":{"showTitle":true,"title":"Total Warehouse Count"}}},"position":{"x":0,"y":9,"width":1,"height":3}},{"widget":{"name":"fdc0e75d","queries":[{"name":"main_query","query":{"datasetName":"fb74d1e7","fields":[{"name":"workspace_id","expression":"`workspace_id`"},{"name":"daily(usage_date)","expression":"DATE_TRUNC(\"DAY\", `usage_date`)"},{"name":"sum(DBUs)","expression":"SUM(`DBUs`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(usage_date)","scale":{"type":"temporal"},"displayName":"Usage Date"},"y":{"fieldName":"sum(DBUs)","scale":{"type":"quantitative"},"displayName":"DBUs"},"color":{"fieldName":"workspace_id","scale":{"type":"categorical"},"displayName":"workspace_id"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Usage Over Time"},"mark":{"colors":["#0051a9","#FFAB00","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":1,"y":6,"width":5,"height":6}},{"widget":{"name":"3b3dd75a","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbsql_discount","query":{"datasetName":"fc2d4844","parameters":[{"name":"dbsql_discount","keyword":"dbsql_discount"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbsql_discount","query":{"datasetName":"871b75c8","parameters":[{"name":"dbsql_discount","keyword":"dbsql_discount"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_dbsql_discount","query":{"datasetName":"fb74d1e7","parameters":[{"name":"dbsql_discount","keyword":"dbsql_discount"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"dbsql_discount","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbsql_discount"},{"parameterName":"dbsql_discount","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbsql_discount"},{"parameterName":"dbsql_discount","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c9167c8a5bbf57470908ad_dbsql_discount"}]},"disallowAll":true,"frame":{"showTitle":true,"title":"DBSQL Discount %"}}},"position":{"x":2,"y":4,"width":1,"height":2}}]},{"name":"14197eb8","displayName":"Scaling Patterns","layout":[{"widget":{"name":"fbc8b838","textbox_spec":"# Warehouse Scaling Trends\n-----\nThis section simplifies trying to understand how well your warehouse scales as well as helps users project long term costs of spiky workloads more accurately. It pivots the real-time concurrency scaling chart and shows generally how much time and what % of time the warehouse was scaled up to each concurrency level. This can help guage scaling efficiency over time in production as well. \n\nNote: The warehouse settings (size, auto stop, min, and max clusters) represent the snapshot of the configuration of the warehouse at the select end time in that selected window. "},"position":{"x":0,"y":0,"width":6,"height":3}},{"widget":{"name":"6df1e229","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_warehouse_id","query":{"datasetName":"36bb7aba","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":3,"width":2,"height":2}},{"widget":{"name":"cd1079c9","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_start_time","query":{"datasetName":"36bb7aba","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef85b7273b1a0088f37ab14f1e2133_start_time","query":{"datasetName":"e139c435","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_start_time"},{"parameterName":"start_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef85b7273b1a0088f37ab14f1e2133_start_time"}]},"frame":{"showTitle":true,"title":"Start Time"}}},"position":{"x":2,"y":3,"width":2,"height":2}},{"widget":{"name":"b1eb44e4","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_end_time","query":{"datasetName":"36bb7aba","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef85b7273b1a0088f37ab14f1e2133_end_time","query":{"datasetName":"e139c435","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137bd1bf8a5372de6a5de3cc5_end_time"},{"parameterName":"end_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef85b7273b1a0088f37ab14f1e2133_end_time"}]},"frame":{"showTitle":true,"title":"End Time"}}},"position":{"x":4,"y":3,"width":2,"height":2}},{"widget":{"name":"ac901541","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"warehouse_auto_stop_min","expression":"`warehouse_auto_stop_min`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_auto_stop_min","displayName":"warehouse_auto_stop_min"}},"frame":{"showTitle":true,"title":"Auto Stop Minutes"}}},"position":{"x":3,"y":5,"width":1,"height":2}},{"widget":{"name":"cdaea905","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"min(warehouse_min_clusters)","expression":"MIN(`warehouse_min_clusters`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"min(warehouse_min_clusters)","displayName":"Minimum warehouse_min_clusters"}},"frame":{"showTitle":true,"title":"Min Clusters"}}},"position":{"x":1,"y":5,"width":1,"height":2}},{"widget":{"name":"52b73ee3","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"max(warehouse_max_clusters)","expression":"MAX(`warehouse_max_clusters`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(warehouse_max_clusters)","displayName":"Maximum warehouse_max_clusters"}},"frame":{"showTitle":true,"title":"Max Clusters"}}},"position":{"x":2,"y":5,"width":1,"height":2}},{"widget":{"name":"9c10b079","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"warehouse_size","expression":"`warehouse_size`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_size","displayName":"warehouse_size"}},"frame":{"showTitle":true,"title":"Size"}}},"position":{"x":0,"y":5,"width":1,"height":2}},{"widget":{"name":"594896ea","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"warehouse_channel","expression":"`warehouse_channel`"}],"disaggregated":true}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"warehouse_channel","style":{"fontSize":20},"displayName":"warehouse_channel"}},"frame":{"showTitle":true,"title":"Channel"}}},"position":{"x":4,"y":5,"width":2,"height":2}},{"widget":{"name":"de0ae1d5","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"NumberOfClustersOn","expression":"`NumberOfClustersOn`"},{"name":"countdistinct(event_minute)","expression":"COUNT(DISTINCT `event_minute`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"NumberOfClustersOn","scale":{"type":"categorical"},"displayName":"# Concurrent Clusters"},"y":{"fieldName":"countdistinct(event_minute)","scale":{"type":"quantitative"},"displayName":"# Minutes On Cluster N"},"color":{"fieldName":"NumberOfClustersOn","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"# Clusters"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Scaling Pattern Histogram"}}},"position":{"x":0,"y":7,"width":4,"height":7}},{"widget":{"name":"25bfdfec","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"countdistinct(event_minute)","expression":"COUNT(DISTINCT `event_minute`)"},{"name":"NumberOfClustersOn","expression":"`NumberOfClustersOn`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"countdistinct(event_minute)","scale":{"type":"quantitative"},"displayName":"# Minutes On Cluster N"},"color":{"fieldName":"NumberOfClustersOn","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"# Clusters"},"label":{"show":true}}}},"position":{"x":4,"y":7,"width":2,"height":7}},{"widget":{"name":"45939b84","queries":[{"name":"main_query","query":{"datasetName":"e139c435","fields":[{"name":"NumberOfClustersOn","expression":"`NumberOfClustersOn`"},{"name":"daily(event_day)","expression":"DATE_TRUNC(\"DAY\", `event_day`)"},{"name":"sum(total_minutes)","expression":"SUM(`total_minutes`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(event_day)","scale":{"type":"categorical"},"displayName":"# Concurrent Clusters"},"y":{"fieldName":"sum(total_minutes)","scale":{"type":"quantitative"},"displayName":"# Minutes On Cluster N"},"color":{"fieldName":"NumberOfClustersOn","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"# Clusters"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Warehouse Scaling Summary Over Time"}}},"position":{"x":0,"y":14,"width":6,"height":8}},{"widget":{"name":"3f3b0b92","queries":[{"name":"main_query","query":{"datasetName":"36bb7aba","fields":[{"name":"minutely(event_minute)","expression":"DATE_TRUNC(\"MINUTE\", `event_minute`)"},{"name":"max(NumberOfClustersOn)","expression":"MAX(`NumberOfClustersOn`)"},{"name":"max(warehouse_max_clusters)","expression":"MAX(`warehouse_max_clusters`)"},{"name":"min(warehouse_min_clusters)","expression":"MIN(`warehouse_min_clusters`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"line","encodings":{"x":{"fieldName":"minutely(event_minute)","scale":{"type":"temporal"},"displayName":"# Concurrent Clusters"},"y":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"max(NumberOfClustersOn)","displayName":"# Clusters On"},{"fieldName":"max(warehouse_max_clusters)","displayName":"Max Clusters"},{"fieldName":"min(warehouse_min_clusters)","displayName":"Min Clusters"}]}},"frame":{"showTitle":true,"title":"Warehouse Scaling Detail Over Time"},"mark":{"colors":["#1c62cd","#FF3621","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"]}}},"position":{"x":0,"y":22,"width":6,"height":7}}]},{"name":"66ebac80","displayName":"Performance Advisor","layout":[{"widget":{"name":"bdf60523","textbox_spec":"# Query Performance Analysis\n-----\nThis section helps dive into warehouse performance to understand how well the warehouse is performing against SLAs, identifying bottlenecks, as well as queries that are taking up the majority of the resources.\n\n-----\n## Key Performance KPIs\nThis section tracks 4 core KPIS: \n\n1. Query Runtime (P50, 95,99) - The total runtime (wall clock of a query) - including queueing time\n2. Queuing Count (P50,95,99) & Time - The maximum amount of queries in the queue at a given window of time.\n3. Queries Spilling to Disk & GBs spilled to disk (P50, 95, 99) - This is the frequency and volume of data spilled to disk to help track warehouse size limits to a query. \n4. GBs Read & Written - This is the amount of data read and written by queries (P50, 95, 99, 100). This is a metric to help understand directionally what cluster size should be chosen. "},"position":{"x":0,"y":0,"width":6,"height":6}},{"widget":{"name":"fa43aabf","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_warehouse_id","query":{"datasetName":"fc2d4844","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_warehouse_id","query":{"datasetName":"547c0662","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_warehouse_id"},{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":6,"width":1,"height":2}},{"widget":{"name":"5a046324","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_start_range","query":{"datasetName":"fc2d4844","parameters":[{"name":"start_range","keyword":"start_range"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_start_time","query":{"datasetName":"547c0662","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_range","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_start_range"},{"parameterName":"start_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_start_time"}]},"frame":{"showTitle":true,"title":"Start Time"}}},"position":{"x":1,"y":6,"width":1,"height":2}},{"widget":{"name":"9c157398","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_end_range","query":{"datasetName":"fc2d4844","parameters":[{"name":"end_range","keyword":"end_range"}],"disaggregated":false}},{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_end_time","query":{"datasetName":"547c0662","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"end_range","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_end_range"},{"parameterName":"end_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137cd16139ed6ea8efc888a9e_end_time"}]},"frame":{"showTitle":true,"title":"End Time"}}},"position":{"x":2,"y":6,"width":1,"height":2}},{"widget":{"name":"aaa4f759","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_QueryRuntimeSeconds","query":{"datasetName":"fc2d4844","fields":[{"name":"min(QueryRuntimeSeconds)","expression":"MIN(`QueryRuntimeSeconds`)"},{"name":"max(QueryRuntimeSeconds)","expression":"MAX(`QueryRuntimeSeconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"range-slider","encodings":{"fields":[{"fieldName":"QueryRuntimeSeconds","displayName":"QueryRuntimeSeconds","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_QueryRuntimeSeconds"}]},"frame":{"showTitle":true,"title":"Query runtime (s)"}}},"position":{"x":3,"y":6,"width":1,"height":2}},{"widget":{"name":"74231c34","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_executed_by","query":{"datasetName":"fc2d4844","fields":[{"name":"executed_by","expression":"`executed_by`"},{"name":"executed_by_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"executed_by","displayName":"executed_by","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_executed_by"}]},"frame":{"showTitle":true,"title":"Executed By"}}},"position":{"x":4,"y":6,"width":1,"height":2}},{"widget":{"name":"96beb16a","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_statement_type","query":{"datasetName":"fc2d4844","fields":[{"name":"statement_type","expression":"`statement_type`"},{"name":"statement_type_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"statement_type","displayName":"statement_type","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_statement_type"}]},"frame":{"showTitle":true,"title":"Statement Type"}}},"position":{"x":5,"y":6,"width":1,"height":2}},{"widget":{"name":"bc678df0","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbt_node_id","query":{"datasetName":"fc2d4844","fields":[{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_node_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_node_id","displayName":"dbt_node_id","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbt_node_id"}]},"frame":{"showTitle":true,"title":"DBT Node"}}},"position":{"x":5,"y":8,"width":1,"height":2}},{"widget":{"name":"9ac80adb","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbt_target_name","query":{"datasetName":"fc2d4844","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_target_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_target_name","displayName":"dbt_target_name","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbt_target_name"}]},"frame":{"showTitle":true,"title":"DBT Target"}}},"position":{"x":4,"y":8,"width":1,"height":2}},{"widget":{"name":"c957a48b","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbt_profile_name","query":{"datasetName":"fc2d4844","fields":[{"name":"dbt_profile_name","expression":"`dbt_profile_name`"},{"name":"dbt_profile_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"dbt_profile_name","displayName":"dbt_profile_name","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_dbt_profile_name"}]},"frame":{"showTitle":true,"title":"DBT Profile"}}},"position":{"x":3,"y":8,"width":1,"height":2}},{"widget":{"name":"045923a6","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_client_application","query":{"datasetName":"fc2d4844","fields":[{"name":"client_application","expression":"`client_application`"},{"name":"client_application_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"client_application","displayName":"client_application","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_client_application"}]},"frame":{"showTitle":true,"title":"Query Client"}}},"position":{"x":2,"y":8,"width":1,"height":2}},{"widget":{"name":"141f0fa9","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_query_source_id","query":{"datasetName":"fc2d4844","fields":[{"name":"query_source_id","expression":"`query_source_id`"},{"name":"query_source_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"query_source_id","displayName":"query_source_id","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_query_source_id"}]},"frame":{"showTitle":true,"title":"Query Source Id"}}},"position":{"x":1,"y":8,"width":1,"height":2}},{"widget":{"name":"9ff99880","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_query_source_type","query":{"datasetName":"fc2d4844","fields":[{"name":"query_source_type","expression":"`query_source_type`"},{"name":"query_source_type_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"fieldName":"query_source_type","displayName":"query_source_type","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_query_source_type"}]},"frame":{"showTitle":true,"title":"Query Source"}}},"position":{"x":0,"y":8,"width":1,"height":2}},{"widget":{"name":"4389a272","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueryRuntimeSeconds, percentage=0_99)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.99)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_95)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.95)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_95)","displayName":"95th Percentile of QueryRuntimeSeconds"},"target":{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_99)","displayName":"99th Percentile of QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"Query Runtime (s) - P95","showDescription":true,"description":"P99"}}},"position":{"x":0,"y":11,"width":1,"height":2}},{"widget":{"name":"a931e051","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"median(QueryRuntimeSeconds)","expression":"MEDIAN(`QueryRuntimeSeconds`)"},{"name":"avg(QueryRuntimeSeconds)","expression":"AVG(`QueryRuntimeSeconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(QueryRuntimeSeconds)","displayName":"Average QueryRuntimeSeconds"},"target":{"fieldName":"median(QueryRuntimeSeconds)","displayName":"Median of QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"Query Runtime (s)- Avg","showDescription":true,"description":"Median"}}},"position":{"x":1,"y":11,"width":1,"height":2}},{"widget":{"name":"e1b5d158","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakQueued, percentage=0_5)","expression":"PERCENTILE(`PeakQueued`, 0.5)"},{"name":"percentile(PeakQueued, percentage=0_95)","expression":"PERCENTILE(`PeakQueued`, 0.95)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(PeakQueued, percentage=0_95)","displayName":"95th Percentile of PeakQueued"},"target":{"fieldName":"percentile(PeakQueued, percentage=0_5)","displayName":"50th Percentile of PeakQueued"}},"frame":{"showTitle":true,"title":"Peak Queued (#) - P95","showDescription":true,"description":"P50"}}},"position":{"x":0,"y":13,"width":1,"height":2}},{"widget":{"name":"cb7b0c57","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakRunning, percentage=0_5)","expression":"PERCENTILE(`PeakRunning`, 0.5)"},{"name":"percentile(PeakRunning, percentage=0_95)","expression":"PERCENTILE(`PeakRunning`, 0.95)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(PeakRunning, percentage=0_95)","displayName":"95th Percentile of PeakRunning"},"target":{"fieldName":"percentile(PeakRunning, percentage=0_5)","displayName":"50th Percentile of PeakRunning"}},"frame":{"showTitle":true,"title":"Peak Running (#) - P95","showDescription":true,"description":"P50"}}},"position":{"x":1,"y":13,"width":1,"height":2}},{"widget":{"name":"3a665f55","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueryRuntimeSeconds, percentage=1)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 1)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"percentile(QueryRuntimeSeconds, percentage=1)","displayName":"100th Percentile of QueryRuntimeSeconds"}},"frame":{"showTitle":true,"title":"Query Runtime (s)- Max","showDescription":false,"description":""}}},"position":{"x":2,"y":11,"width":1,"height":2}},{"widget":{"name":"14790ce4","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"countdistinct(executed_by)","expression":"COUNT(DISTINCT `executed_by`)"},{"name":"countdistinct(statement_id)","expression":"COUNT(DISTINCT `statement_id`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"countdistinct(statement_id)","displayName":"Count of Unique statement_id"},"target":{"fieldName":"countdistinct(executed_by)","displayName":"Count of Unique executed_by"}},"frame":{"showTitle":true,"title":"Query Count","showDescription":true,"description":"User Count"}}},"position":{"x":3,"y":11,"width":1,"height":2}},{"widget":{"name":"15b96395","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueueQueryTime, percentage=0_95)","expression":"PERCENTILE(`QueueQueryTime`, 0.95)"},{"name":"avg(QueueQueryTime)","expression":"AVG(`QueueQueryTime`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(QueueQueryTime)","displayName":"Average QueueQueryTime"},"target":{"fieldName":"percentile(QueueQueryTime, percentage=0_95)","displayName":"95th Percentile of QueueQueryTime"}},"frame":{"showTitle":true,"title":"Queue Time (s) - Avg","showDescription":true,"description":"P95"}}},"position":{"x":2,"y":13,"width":1,"height":2}},{"widget":{"name":"5a510b1c","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(ProportionQueueTime, percentage=0_95)","expression":"PERCENTILE(`ProportionQueueTime`, 0.95)"},{"name":"avg(ProportionQueueTime)","expression":"AVG(`ProportionQueueTime`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(ProportionQueueTime)","displayName":"Average ProportionQueueTime"},"target":{"fieldName":"percentile(ProportionQueueTime, percentage=0_95)","displayName":"95th Percentile of ProportionQueueTime"}},"frame":{"showTitle":true,"title":"% Time in Queue - Avg","showDescription":true,"description":"P95"}}},"position":{"x":3,"y":13,"width":1,"height":2}},{"widget":{"name":"a4a1cbeb","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"max(total_window_seconds)","expression":"MAX(`total_window_seconds`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"max(total_window_seconds)","displayName":"Maximum total_window_seconds"}},"frame":{"showTitle":true,"title":"Total Window (s)","showDescription":false,"description":"User Count"}}},"position":{"x":4,"y":11,"width":1,"height":2}},{"widget":{"name":"17f223c2","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(ReadDataAmountInGB, percentage=0_99)","expression":"PERCENTILE(`ReadDataAmountInGB`, 0.99)"},{"name":"avg(ReadDataAmountInGB)","expression":"AVG(`ReadDataAmountInGB`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(ReadDataAmountInGB)","displayName":"Average ReadDataAmountInGB"},"target":{"fieldName":"percentile(ReadDataAmountInGB, percentage=0_99)","displayName":"99th Percentile of ReadDataAmountInGB"}},"frame":{"showTitle":true,"title":"GBs Read - Avg","showDescription":true,"description":"P99"}}},"position":{"x":4,"y":13,"width":1,"height":2}},{"widget":{"name":"887a33ac","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(WrittenDataAmountInGB, percentage=0_99)","expression":"PERCENTILE(`WrittenDataAmountInGB`, 0.99)"},{"name":"avg(WrittenDataAmountInGB)","expression":"AVG(`WrittenDataAmountInGB`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(WrittenDataAmountInGB)","displayName":"Average WrittenDataAmountInGB"},"target":{"fieldName":"percentile(WrittenDataAmountInGB, percentage=0_99)","displayName":"99th Percentile of WrittenDataAmountInGB"}},"frame":{"showTitle":true,"title":"GBs Written - Avg","showDescription":true,"description":"P99"}}},"position":{"x":5,"y":13,"width":1,"height":2}},{"widget":{"name":"26e16c4c","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(SpilledDataAmountInGB, percentage=0_99)","expression":"PERCENTILE(`SpilledDataAmountInGB`, 0.99)"},{"name":"avg(SpilledDataAmountInGB)","expression":"AVG(`SpilledDataAmountInGB`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"counter","encodings":{"value":{"fieldName":"avg(SpilledDataAmountInGB)","displayName":"Average SpilledDataAmountInGB"},"target":{"fieldName":"percentile(SpilledDataAmountInGB, percentage=0_99)","displayName":"99th Percentile of SpilledDataAmountInGB"}},"frame":{"showTitle":true,"title":"GBs Spilled - Avg","showDescription":true,"description":"P99"}}},"position":{"x":5,"y":11,"width":1,"height":2}},{"widget":{"name":"3a82ea8c","textbox_spec":"## Summary Metrics\n-----"},"position":{"x":0,"y":10,"width":6,"height":1}},{"widget":{"name":"c8357ed3","textbox_spec":"## Base Query Metrics Charts\n-----"},"position":{"x":0,"y":15,"width":6,"height":1}},{"widget":{"name":"fccd3a3b","textbox_spec":"## Health Trends\n-----"},"position":{"x":0,"y":32,"width":6,"height":1}},{"widget":{"name":"c970cf94","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"query_source_type","expression":"`query_source_type`"},{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"client_application","expression":"`client_application`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Count of Records"},"y":{"fieldName":"client_application","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"client_application"},"color":{"fieldName":"query_source_type","scale":{"type":"categorical"},"displayName":"query_source_type"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Queries by Client & Source"}}},"position":{"x":0,"y":16,"width":2,"height":8}},{"widget":{"name":"dd4d8779","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"query_source_type","expression":"`query_source_type`"},{"name":"daily(start_time)","expression":"DATE_TRUNC(\"DAY\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(start_time)","scale":{"type":"temporal"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Count of Records"},"color":{"fieldName":"query_source_type","scale":{"type":"categorical"},"displayName":"query_source_type"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Query Count Over Time"}}},"position":{"x":2,"y":16,"width":4,"height":8}},{"widget":{"name":"48779648","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"execution_status","expression":"`execution_status`"},{"name":"daily(start_time)","expression":"DATE_TRUNC(\"DAY\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(start_time)","scale":{"type":"temporal"},"displayName":"Start Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Count of Records"},"color":{"fieldName":"execution_status","scale":{"type":"categorical","mappings":[{"value":"CANCELED","color":"#919191"},{"value":"FAILED","color":"#FF3621"}]},"displayName":"execution_status"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Queries By Status (Failure Rate)"},"mark":{"layout":"percent-stack"}}},"position":{"x":2,"y":24,"width":4,"height":8}},{"widget":{"name":"8197bfbe","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"execution_status","expression":"`execution_status`"},{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"statement_type","expression":"`statement_type`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"y":{"fieldName":"statement_type","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Statement Type"},"color":{"fieldName":"execution_status","scale":{"type":"categorical","mappings":[{"value":"CANCELED","color":"#919191"},{"value":"FAILED","color":"#FF3621"}]},"displayName":"execution_status"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Statement Type"}}},"position":{"x":0,"y":24,"width":2,"height":8}},{"widget":{"name":"a9963562","textbox_spec":"## Warehouse Performance - Query Runtime SLAs\nQuery runtime helps identify if your warehouse is meeting your SLAs. The runtime is generally controlled by the size of the warehouse but also influenced by how long queries are spent queued. So if your queries are running slower than your desired SLA, try increasing the warehouse T-shirt size and using the below visual to see if queries are queuing too often.\n\n##### Best Practices: \nThe below visuals show overall P95, 99, as well the as P99/95 for each segment of time within the overall selected window. To use this, focus on the overall SLA. If you are NOT meeting your SLA, then you either need to make the warehouse larger or increase concurrency. If your queries runtimes are taking too long and queries are NOT spending an extensive amount of time queuing, then you likely need a bigger warehouse to run the query faster. If your queuing is high, but your average query runtimes are fine, then you likely need to increase concurrency. Lastly, you can also monitor your query spilling (both frequency and amount) to also use as a clear indicator that your warehouse can be larger to get better performance.  If you are meeting your SLA - you can either do nothing or even make the warehouse smaller or concurrency scale less. If you are NOT meeting your SLA"},"position":{"x":0,"y":33,"width":6,"height":4}},{"widget":{"name":"a1ffed9e","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"daily(start_time)","expression":"DATE_TRUNC(\"DAY\", `start_time`)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_5)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.5)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_95)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.95)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_99)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(start_time)","scale":{"type":"temporal"},"displayName":"Start Time"},"y":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_5)","displayName":"P50 Runtime"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_95)","displayName":"P95 Runtime"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_99)","displayName":"P99 Runtime"}],"axis":{"title":"Runtime (s)"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Query Runtime Performance Trends"},"mark":{"colors":["#00A972","#FFAB00","#FF3621","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":0,"y":37,"width":5,"height":6}},{"widget":{"name":"e007a8d4","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueryRuntimeSeconds, percentage=0_5)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.5)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_75)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.75)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_95)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.95)"},{"name":"percentile(QueryRuntimeSeconds, percentage=0_99)","expression":"PERCENTILE(`QueryRuntimeSeconds`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_5)","displayName":"P50 Runtime"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_75)","displayName":"P75 Runtime"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_95)","displayName":"P95 Runtime"},{"fieldName":"percentile(QueryRuntimeSeconds, percentage=0_99)","displayName":"P99 Runtime"}],"axis":{"title":"Runtime (s)"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Query Runtime (s)"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":5,"y":37,"width":1,"height":6}},{"widget":{"name":"740035b1","textbox_spec":"## Warehouse Performance - Queuing Metrics\nThere are 3 key metrics under this section: peak queued, peak running, and % of a query life spent in the queue. \nPeak Queuing shows how many queries get queued before running in a given time window. The MAX peak queued queries in a time window helps show how much more concurrency scaling the warehouse might need to not require queuing. Peak Running shows how many queries are running concurrently at a point in time. % of query life spent in queue shows how much of a query runtime is wasted in the queue - this is a good metric to look at because it normalizes for short and long running queries. \n##### Best Practices: \nJust because there is queuing, does not mean you need to scale up your warehouse. Always scale your warehouses based on the SLA metrics first. If queries are being queued and you still meet your SLA, there is no value in increases concurrency scaling of the warehouse. "},"position":{"x":0,"y":43,"width":6,"height":4}},{"widget":{"name":"d7ed1688","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"daily(five_min_interval)","expression":"DATE_TRUNC(\"DAY\", `five_min_interval`)"},{"name":"max(PeakQueued)","expression":"MAX(`PeakQueued`)"},{"name":"max(PeakRunning)","expression":"MAX(`PeakRunning`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(five_min_interval)","scale":{"type":"temporal"},"displayName":"Query Time"},"y":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"max(PeakQueued)","displayName":"Peak Queued"},{"fieldName":"max(PeakRunning)","displayName":"Peak Running"}]},"label":{"show":true}},"frame":{"showTitle":true,"title":"Peak Queued & Running Over Time"},"mark":{"colors":["#919191","#00A972","#00A972","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":0,"y":53,"width":5,"height":6}},{"widget":{"name":"c21544fd","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(QueueQueryTime, percentage=0_5)","expression":"PERCENTILE(`QueueQueryTime`, 0.5)"},{"name":"percentile(QueueQueryTime, percentage=0_75)","expression":"PERCENTILE(`QueueQueryTime`, 0.75)"},{"name":"percentile(QueueQueryTime, percentage=0_95)","expression":"PERCENTILE(`QueueQueryTime`, 0.95)"},{"name":"percentile(QueueQueryTime, percentage=0_99)","expression":"PERCENTILE(`QueueQueryTime`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(QueueQueryTime, percentage=0_5)","displayName":"P50 Queue Time"},{"fieldName":"percentile(QueueQueryTime, percentage=0_75)","displayName":"P75 Queue Time"},{"fieldName":"percentile(QueueQueryTime, percentage=0_95)","displayName":"P95 Queue Time"},{"fieldName":"percentile(QueueQueryTime, percentage=0_99)","displayName":"P99 Queue Time"}]},"label":{"show":true}},"frame":{"showTitle":true,"title":"Query Queue Time (s)"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":5,"y":53,"width":1,"height":6}},{"widget":{"name":"4a68857c","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"rounded_proportion_queue_time","expression":"`rounded_proportion_queue_time`"},{"name":"bin(rounded_proportion_queue_time, binWidth=0_1)","expression":"BIN_FLOOR(`rounded_proportion_queue_time`, 0.1)"},{"name":"countdistinct(statement_id)","expression":"COUNT(DISTINCT `statement_id`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"histogram","encodings":{"x":{"fieldName":"bin(rounded_proportion_queue_time, binWidth=0_1)","scale":{"type":"quantitative"},"displayName":"% Queue Time"},"y":{"fieldName":"countdistinct(statement_id)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"rounded_proportion_queue_time","scale":{"type":"quantitative","colorRamp":{"mode":"scheme","scheme":"greenblue"}},"displayName":"% Queue Time"},"label":{"show":false}},"mark":{"layout":"stack"},"frame":{"showTitle":true,"title":"% of Query Spent in Queue Distribution"}}},"position":{"x":0,"y":59,"width":5,"height":6}},{"widget":{"name":"c41b12c8","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakQueued, percentage=0_5)","expression":"PERCENTILE(`PeakQueued`, 0.5)"},{"name":"percentile(PeakQueued, percentage=0_75)","expression":"PERCENTILE(`PeakQueued`, 0.75)"},{"name":"percentile(PeakQueued, percentage=0_95)","expression":"PERCENTILE(`PeakQueued`, 0.95)"},{"name":"percentile(PeakQueued, percentage=0_99)","expression":"PERCENTILE(`PeakQueued`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(PeakQueued, percentage=0_5)","displayName":"P50 # Queued"},{"fieldName":"percentile(PeakQueued, percentage=0_75)","displayName":"P75 # Queued"},{"fieldName":"percentile(PeakQueued, percentage=0_95)","displayName":"P95 # Queued"},{"fieldName":"percentile(PeakQueued, percentage=0_99)","displayName":"P99 # Queued"}],"format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"axis":{"title":"# Queued"}},"color":{"legend":{"position":"right"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Peak Queued Count"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":0,"y":47,"width":3,"height":6}},{"widget":{"name":"f8e44dcd","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(ProportionQueueTime, percentage=0_5)","expression":"PERCENTILE(`ProportionQueueTime`, 0.5)"},{"name":"percentile(ProportionQueueTime, percentage=0_75)","expression":"PERCENTILE(`ProportionQueueTime`, 0.75)"},{"name":"percentile(ProportionQueueTime, percentage=0_95)","expression":"PERCENTILE(`ProportionQueueTime`, 0.95)"},{"name":"percentile(ProportionQueueTime, percentage=0_99)","expression":"PERCENTILE(`ProportionQueueTime`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(ProportionQueueTime, percentage=0_5)","displayName":"P50 % Queued Time"},{"fieldName":"percentile(ProportionQueueTime, percentage=0_75)","displayName":"P75 % Queued Time"},{"fieldName":"percentile(ProportionQueueTime, percentage=0_95)","displayName":"P95 % Queued Time"},{"fieldName":"percentile(ProportionQueueTime, percentage=0_99)","displayName":"P99 % Queued Time"}],"format":{"type":"number-percent","decimalPlaces":{"type":"max","places":0}}},"label":{"show":true}},"frame":{"showTitle":true,"title":"% Queue Time"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":5,"y":59,"width":1,"height":6}},{"widget":{"name":"5ff09322","queries":[{"name":"main_query","query":{"datasetName":"547c0662","fields":[{"name":"percentile(PeakRunning, percentage=0_5)","expression":"PERCENTILE(`PeakRunning`, 0.5)"},{"name":"percentile(PeakRunning, percentage=0_75)","expression":"PERCENTILE(`PeakRunning`, 0.75)"},{"name":"percentile(PeakRunning, percentage=0_95)","expression":"PERCENTILE(`PeakRunning`, 0.95)"},{"name":"percentile(PeakRunning, percentage=0_99)","expression":"PERCENTILE(`PeakRunning`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(PeakRunning, percentage=0_5)","displayName":"P50 # Running"},{"fieldName":"percentile(PeakRunning, percentage=0_75)","displayName":"P75 # Running"},{"fieldName":"percentile(PeakRunning, percentage=0_95)","displayName":"P95 # Running"},{"fieldName":"percentile(PeakRunning, percentage=0_99)","displayName":"P99 # Running"}],"format":{"type":"number-plain","abbreviation":"compact","decimalPlaces":{"type":"max","places":2}},"axis":{"title":"# Running"}},"color":{"legend":{"position":"right"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Peak Running Count"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":3,"y":47,"width":3,"height":6}},{"widget":{"name":"8735f268","textbox_spec":"## Warehouse Performance - Data Scanning & Disk Spilling Metrics\nData Scanned helps understand how much data queries are reading - this is a decent proxy for warehouse size. Disk Spilling (both frequency and amount) is a clear metrics that helps track the amount of available memory in a cluster relative to the amount of data that needs to be processed in a given query.\n\n##### Best Practices: \nSpilling to disk occasionally is completely fine, but when this happens consistently and the data volume of spilling is high (many many GBs/TBs), then it becomes highly likely that a larger warehouse is more performant AND cost effective.  When the % of queries spilling to disk increases, that is a clear sign the warehouse should be larger. "},"position":{"x":0,"y":65,"width":6,"height":3}},{"widget":{"name":"ccc3908d","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"daily(start_time)","expression":"DATE_TRUNC(\"DAY\", `start_time`)"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"daily(start_time)","scale":{"type":"temporal"},"displayName":"Query Time"},"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"HasSpillFlag","scale":{"type":"categorical","mappings":[{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"}]},"displayName":"Has Spill"}},"frame":{"showTitle":true,"title":"% Queries Spilling to Disk Over Time"},"mark":{"layout":"percent-stack"}}},"position":{"x":0,"y":68,"width":5,"height":6}},{"widget":{"name":"d704fa58","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"HasSpillFlag","scale":{"type":"categorical","mappings":[{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"}]},"displayName":"Has Spill"},"label":{"show":true}},"frame":{"showTitle":true,"title":"% Queries Spilling to Disk"},"mark":{"layout":"percent-stack"}}},"position":{"x":5,"y":68,"width":1,"height":6}},{"widget":{"name":"0ac8c275","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(SpilledDataAmountInGB, percentage=0_5)","expression":"PERCENTILE(`SpilledDataAmountInGB`, 0.5)"},{"name":"percentile(SpilledDataAmountInGB, percentage=0_75)","expression":"PERCENTILE(`SpilledDataAmountInGB`, 0.75)"},{"name":"percentile(SpilledDataAmountInGB, percentage=0_95)","expression":"PERCENTILE(`SpilledDataAmountInGB`, 0.95)"},{"name":"percentile(SpilledDataAmountInGB, percentage=0_99)","expression":"PERCENTILE(`SpilledDataAmountInGB`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(SpilledDataAmountInGB, percentage=0_5)","displayName":"P50 GB Spilled"},{"fieldName":"percentile(SpilledDataAmountInGB, percentage=0_75)","displayName":"P75 GB Spilled"},{"fieldName":"percentile(SpilledDataAmountInGB, percentage=0_95)","displayName":"P95 GB Spilled"},{"fieldName":"percentile(SpilledDataAmountInGB, percentage=0_99)","displayName":"P99 GB Spilled"}]},"color":{"legend":{"position":"right"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Disk Spill GB Distribution"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":4,"y":74,"width":2,"height":6}},{"widget":{"name":"ebd6a9bf","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(WrittenDataAmountInGB, percentage=0_5)","expression":"PERCENTILE(`WrittenDataAmountInGB`, 0.5)"},{"name":"percentile(WrittenDataAmountInGB, percentage=0_75)","expression":"PERCENTILE(`WrittenDataAmountInGB`, 0.75)"},{"name":"percentile(WrittenDataAmountInGB, percentage=0_95)","expression":"PERCENTILE(`WrittenDataAmountInGB`, 0.95)"},{"name":"percentile(WrittenDataAmountInGB, percentage=0_99)","expression":"PERCENTILE(`WrittenDataAmountInGB`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(WrittenDataAmountInGB, percentage=0_5)","displayName":"P50 GB Written"},{"fieldName":"percentile(WrittenDataAmountInGB, percentage=0_75)","displayName":"P75 GB Written"},{"fieldName":"percentile(WrittenDataAmountInGB, percentage=0_95)","displayName":"P95 GB Written"},{"fieldName":"percentile(WrittenDataAmountInGB, percentage=0_99)","displayName":"P99 GB Written"}]},"color":{"legend":{"position":"right"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Written GB Distribution"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":2,"y":74,"width":2,"height":6}},{"widget":{"name":"003bda1c","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"percentile(ReadDataAmountInGB, percentage=0_5)","expression":"PERCENTILE(`ReadDataAmountInGB`, 0.5)"},{"name":"percentile(ReadDataAmountInGB, percentage=0_75)","expression":"PERCENTILE(`ReadDataAmountInGB`, 0.75)"},{"name":"percentile(ReadDataAmountInGB, percentage=0_95)","expression":"PERCENTILE(`ReadDataAmountInGB`, 0.95)"},{"name":"percentile(ReadDataAmountInGB, percentage=0_99)","expression":"PERCENTILE(`ReadDataAmountInGB`, 0.99)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"scale":{"type":"quantitative"},"fields":[{"fieldName":"percentile(ReadDataAmountInGB, percentage=0_5)","displayName":"P50 GB Read"},{"fieldName":"percentile(ReadDataAmountInGB, percentage=0_75)","displayName":"P75 GB Read"},{"fieldName":"percentile(ReadDataAmountInGB, percentage=0_95)","displayName":"P95 GB Read"},{"fieldName":"percentile(ReadDataAmountInGB, percentage=0_99)","displayName":"P99 GB Read"}]},"color":{"legend":{"position":"right"}},"label":{"show":true}},"frame":{"showTitle":true,"title":"Read GB Distribution"},"mark":{"colors":["#00A972","#FCA4A1","#AB4057","#FF3621","#8BCAE7","#AB4057","#99DDB4","#FCA4A1","#919191","#BF7080"],"layout":"group"}}},"position":{"x":0,"y":74,"width":2,"height":6}},{"widget":{"name":"a81526a0","textbox_spec":"### Query Performance Detail\nThis section drills into details of identifying root causes of poorly performing warehouses down to the query bottlenecks such as spill, high data volume, and long running queries. \n\n-----"},"position":{"x":0,"y":80,"width":6,"height":2}},{"widget":{"name":"a7618d15","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_LongRunningQueryFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"LongRunningQueryFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"LongRunningQueryFlag","displayName":"LongRunningQueryFlag","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_LongRunningQueryFlag"}]},"frame":{"showTitle":true,"title":"Is Long Running"}}},"position":{"x":0,"y":82,"width":1,"height":2}},{"widget":{"name":"bc5d626c","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HasSpillFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"HasSpillFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HasSpillFlag","displayName":"HasSpillFlag","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HasSpillFlag"}]},"frame":{"showTitle":true,"title":"Has Spill"}}},"position":{"x":1,"y":82,"width":1,"height":2}},{"widget":{"name":"39b9553d","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HighDataVolumeFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"},{"name":"HighDataVolumeFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HighDataVolumeFlag","displayName":"HighDataVolumeFlag","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HighDataVolumeFlag"}]},"frame":{"showTitle":true,"title":"High Data Volume"}}},"position":{"x":2,"y":82,"width":1,"height":2}},{"widget":{"name":"f055b9df","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_execution_status","query":{"datasetName":"fc2d4844","fields":[{"name":"execution_status","expression":"`execution_status`"},{"name":"execution_status_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"execution_status","displayName":"execution_status","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_execution_status"}]},"frame":{"showTitle":true,"title":"Query Status"}}},"position":{"x":2,"y":84,"width":1,"height":2}},{"widget":{"name":"ca87d842","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_long_running_seconds_treshold","query":{"datasetName":"fc2d4844","parameters":[{"name":"long_running_seconds_treshold","keyword":"long_running_seconds_treshold"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"long_running_seconds_treshold","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_long_running_seconds_treshold"}]},"frame":{"showTitle":true,"title":"Long Running Threshold (s)"}}},"position":{"x":5,"y":82,"width":1,"height":2}},{"widget":{"name":"7f5acabe","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_data_volume_min_gb","query":{"datasetName":"fc2d4844","parameters":[{"name":"data_volume_min_gb","keyword":"data_volume_min_gb"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"data_volume_min_gb","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_data_volume_min_gb"}]},"frame":{"showTitle":true,"title":"High Volume Threshold (GBs)"}}},"position":{"x":5,"y":84,"width":1,"height":2}},{"widget":{"name":"89f6ed7f","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"LongRunningQueryFlag","expression":"`LongRunningQueryFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"LongRunningQueryFlag","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"}]},"displayName":"Is Long Running"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Long Running Queries"},"mark":{"layout":"percent-stack"}}},"position":{"x":0,"y":86,"width":1,"height":5}},{"widget":{"name":"861add0a","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"HasSpillFlag","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"}]},"displayName":"Has Spill"}},"frame":{"showTitle":true,"title":"Has Spill Queries"},"mark":{"layout":"percent-stack"}}},"position":{"x":1,"y":86,"width":1,"height":5}},{"widget":{"name":"527b7ada","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HighDataVolumeFlag","expression":"`HighDataVolumeFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"HighDataVolumeFlag","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"},{"value":"High Relative Volume Read","color":"#FF3621"},{"value":"Not High Relative Volume","color":"#00A972"},{"value":"High Volume Read","color":"#FF3621"},{"value":"Not High Volume Read","color":"#00A972"},{"value":"FINE","color":"#00A972"}]},"displayName":"High Volume"}},"frame":{"showTitle":true,"title":"High Data Volume Reads"},"mark":{"layout":"percent-stack"}}},"position":{"x":2,"y":86,"width":1,"height":5}},{"widget":{"name":"c52b5bec","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"UsedCacheFlag","expression":"`UsedCacheFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"UsedCacheFlag","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"},{"value":"High Relative Volume Read","color":"#FF3621"},{"value":"Not High Relative Volume","color":"#00A972"},{"value":"No Cache","color":"#919191"},{"value":"Used Cache","color":"#00A972"}]},"displayName":"High Volume"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Used Cache"},"mark":{"layout":"percent-stack"}}},"position":{"x":5,"y":86,"width":1,"height":5}},{"widget":{"name":"22ae3697","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"statement_type","expression":"`statement_type`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"y":{"fieldName":"statement_type","scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"statement_type"},"color":{"fieldName":"statement_type","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"},{"value":"High Relative Volume Read","color":"#FF3621"},{"value":"Not High Relative Volume","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"Used Cache","color":"#00A972"}]},"displayName":"High Volume"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Statement Type"},"mark":{"layout":"group"}}},"position":{"x":4,"y":91,"width":2,"height":6}},{"widget":{"name":"51467ee0","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"execution_status","expression":"`execution_status`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"execution_status","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"},{"value":"High Relative Volume Read","color":"#FF3621"},{"value":"Not High Relative Volume","color":"#00A972"},{"value":"No Cache","color":"#8BCAE7"},{"value":"Used Cache","color":"#00A972"},{"value":"CANCELED","color":"#919191"},{"value":"FAILED","color":"#FF3621"}]},"displayName":"Status"},"label":{"show":false}},"frame":{"showTitle":true,"title":"Query Status"},"mark":{"layout":"percent-stack"}}},"position":{"x":1,"y":91,"width":1,"height":6}},{"widget":{"name":"85fda833","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HighDataWritesVolumeFlag","expression":"`HighDataWritesVolumeFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"HighDataWritesVolumeFlag","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"},{"value":"High Relative Volume Read","color":"#FF3621"},{"value":"Not High Relative Volume","color":"#00A972"},{"value":"High Volume Written","color":"#FF3621"},{"value":"Not High Volume Written","color":"#00A972"},{"value":"FINE","color":"#00A972"}]},"displayName":"High Volume"}},"frame":{"showTitle":true,"title":"High Data Volume Writes"},"mark":{"layout":"percent-stack"}}},"position":{"x":3,"y":86,"width":1,"height":5}},{"widget":{"name":"2c93ef68","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"count(*)","expression":"COUNT(`*`)"},{"name":"error_type","expression":"`error_type`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"error_type","scale":{"type":"categorical","mappings":[{"value":"NO ERROR","color":"#00A972"}]},"displayName":"error_type"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Queries by Error Code"}}},"position":{"x":2,"y":91,"width":2,"height":6}},{"widget":{"name":"a88bf97e","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"statement_id","expression":"`statement_id`"},{"name":"QueryWork","expression":"`QueryWork`"},{"name":"executed_by","expression":"`executed_by`"},{"name":"execution_status","expression":"`execution_status`"},{"name":"statement_text","expression":"`statement_text`"},{"name":"warehouse_id","expression":"`warehouse_id`"},{"name":"statement_type","expression":"`statement_type`"},{"name":"client_application","expression":"`client_application`"},{"name":"QueryRuntimeSeconds","expression":"`QueryRuntimeSeconds`"},{"name":"CPUTotalExecutionTime","expression":"`CPUTotalExecutionTime`"},{"name":"ExecutionQueryTime","expression":"`ExecutionQueryTime`"},{"name":"CompilationQueryTime","expression":"`CompilationQueryTime`"},{"name":"QueueQueryTime","expression":"`QueueQueryTime`"},{"name":"StartUpQueryTime","expression":"`StartUpQueryTime`"},{"name":"ResultFetchTime","expression":"`ResultFetchTime`"},{"name":"TotalResourceTimeUsedForAllocation","expression":"`TotalResourceTimeUsedForAllocation`"},{"name":"start_time","expression":"`start_time`"},{"name":"end_time","expression":"`end_time`"},{"name":"read_io_cache_percent","expression":"`read_io_cache_percent`"},{"name":"from_result_cache","expression":"`from_result_cache`"},{"name":"ProportionQueueTime","expression":"`ProportionQueueTime`"},{"name":"FilesRead","expression":"`FilesRead`"},{"name":"FilesPruned","expression":"`FilesPruned`"},{"name":"FilesPrunedProportion","expression":"`FilesPrunedProportion`"},{"name":"ReadDataAmountInGB","expression":"`ReadDataAmountInGB`"},{"name":"WrittenDataAmountInGB","expression":"`WrittenDataAmountInGB`"},{"name":"SpilledDataAmountInGB","expression":"`SpilledDataAmountInGB`"},{"name":"UsedCacheFlag","expression":"`UsedCacheFlag`"},{"name":"HasSpillFlag","expression":"`HasSpillFlag`"},{"name":"ReadDataFlag","expression":"`ReadDataFlag`"},{"name":"UsedWorkerTasksFlag","expression":"`UsedWorkerTasksFlag`"},{"name":"dbt_metadata_json","expression":"`dbt_metadata_json`"},{"name":"error_type","expression":"`error_type`"},{"name":"parsed_dbt_comment","expression":"`parsed_dbt_comment`"},{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"query_source_type","expression":"`query_source_type`"},{"name":"AllocatedQueryCostByTime","expression":"`AllocatedQueryCostByTime`"},{"name":"QueryTag","expression":"`QueryTag`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"statement_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":2,"title":"statement_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"statement_id"},{"fieldName":"QueryWork","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":3,"title":"QueryWork","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#8CFFB4"},"rules":[]},"description":"This is the best metric to use for identifying the most costly / greedy queries. Query work is the total time for all operations that use cluster resources. execution + results + compilation time.","displayName":"QueryWork"},{"fieldName":"executed_by","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":4,"title":"executed_by","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"executed_by"},{"fieldName":"execution_status","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":5,"title":"execution_status","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":null},"rules":[{"if":{"column":"execution_status","fn":"=","literal":"FINISHED"},"value":{"foregroundColor":"#3BD973"}},{"if":{"column":"execution_status","fn":"=","literal":"FAILED"},"value":{"foregroundColor":"#E92828"}},{"if":{"column":"execution_status","fn":"=","literal":"CANCELLED"},"value":{"foregroundColor":"#494949"}}]},"displayName":"execution_status"},{"fieldName":"statement_text","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":6,"title":"statement_text","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"statement_text"},{"fieldName":"warehouse_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":7,"title":"warehouse_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"warehouse_id"},{"fieldName":"statement_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":8,"title":"statement_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"statement_type"},{"fieldName":"client_application","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":9,"title":"client_application","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"client_application"},{"fieldName":"QueryRuntimeSeconds","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":10,"title":"QueryRuntimeSeconds","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryRuntimeSeconds"},{"fieldName":"CPUTotalExecutionTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":11,"title":"CPUTotalExecutionTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CPUTotalExecutionTime"},{"fieldName":"ExecutionQueryTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":12,"title":"ExecutionQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ExecutionQueryTime"},{"fieldName":"CompilationQueryTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":13,"title":"CompilationQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CompilationQueryTime"},{"fieldName":"QueueQueryTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":14,"title":"QueueQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueueQueryTime"},{"fieldName":"StartUpQueryTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":15,"title":"StartUpQueryTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StartUpQueryTime"},{"fieldName":"ResultFetchTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":16,"title":"ResultFetchTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ResultFetchTime"},{"fieldName":"TotalResourceTimeUsedForAllocation","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":17,"title":"TotalResourceTimeUsedForAllocation","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"TotalResourceTimeUsedForAllocation"},{"fieldName":"start_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":18,"title":"start_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"start_time"},{"fieldName":"end_time","dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"datetime","displayAs":"datetime","visible":true,"order":19,"title":"end_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"end_time"},{"fieldName":"read_io_cache_percent","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":23,"title":"read_io_cache_percent","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"read_io_cache_percent"},{"fieldName":"from_result_cache","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"boolean","displayAs":"boolean","visible":true,"order":24,"title":"from_result_cache","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"from_result_cache"},{"fieldName":"ProportionQueueTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":27,"title":"ProportionQueueTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ProportionQueueTime"},{"fieldName":"FilesRead","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":31,"title":"FilesRead","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"FilesRead"},{"fieldName":"FilesPruned","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":32,"title":"FilesPruned","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"FilesPruned"},{"fieldName":"FilesPrunedProportion","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":33,"title":"FilesPrunedProportion","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"FilesPrunedProportion"},{"fieldName":"ReadDataAmountInGB","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":34,"title":"ReadDataAmountInGB","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ReadDataAmountInGB"},{"fieldName":"WrittenDataAmountInGB","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":35,"title":"WrittenDataAmountInGB","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"WrittenDataAmountInGB"},{"fieldName":"SpilledDataAmountInGB","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":36,"title":"SpilledDataAmountInGB","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"SpilledDataAmountInGB"},{"fieldName":"UsedCacheFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":37,"title":"UsedCacheFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"UsedCacheFlag"},{"fieldName":"HasSpillFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":38,"title":"HasSpillFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"HasSpillFlag"},{"fieldName":"ReadDataFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":39,"title":"ReadDataFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"ReadDataFlag"},{"fieldName":"UsedWorkerTasksFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":40,"title":"UsedWorkerTasksFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"UsedWorkerTasksFlag"},{"fieldName":"dbt_metadata_json","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":45,"title":"dbt_metadata_json","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_metadata_json"},{"fieldName":"error_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":47,"title":"error_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"error_type"},{"fieldName":"parsed_dbt_comment","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"complex","displayAs":"json","visible":true,"order":54,"title":"parsed_dbt_comment","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"parsed_dbt_comment"},{"fieldName":"IsDBTQuery","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":55,"title":"IsDBTQuery","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"IsDBTQuery"},{"fieldName":"query_source_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":56,"title":"query_source_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"query_source_type"},{"fieldName":"AllocatedQueryCostByTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":72,"title":"AllocatedQueryCostByTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"AllocatedQueryCostByTime"},{"fieldName":"QueryTag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":81,"title":"QueryTag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryTag"}]},"invisibleColumns":[{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"account_id","type":"string","displayAs":"string","order":0,"title":"account_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"workspace_id","type":"string","displayAs":"string","order":1,"title":"workspace_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"dateTimeFormat":"YYYY-MM-DD HH:mm:ss.SSS","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"update_time","type":"datetime","displayAs":"datetime","order":20,"title":"update_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"read_bytes","type":"integer","displayAs":"number","order":21,"title":"read_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"written_bytes","type":"integer","displayAs":"number","order":22,"title":"written_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"spilled_local_bytes","type":"integer","displayAs":"number","order":25,"title":"spilled_local_bytes","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalCPUTime_To_Execution_Time_Ratio","type":"float","displayAs":"number","order":26,"title":"TotalCPUTime_To_Execution_Time_Ratio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueryRuntime","type":"float","displayAs":"number","order":28,"title":"WarehouseAvgQueryRuntime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgQueueTime","type":"float","displayAs":"number","order":29,"title":"WarehouseAvgQueueTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgProportionTimeQueueing","type":"float","displayAs":"number","order":30,"title":"WarehouseAvgProportionTimeQueueing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_HasSpillFlag","type":"integer","displayAs":"number","order":41,"title":"Calc_HasSpillFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_ReadDataFlag","type":"decimal","displayAs":"number","order":42,"title":"Calc_ReadDataFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_UsedWorkerTasksFlag","type":"decimal","displayAs":"number","order":43,"title":"Calc_UsedWorkerTasksFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"raw_tagged","type":"string","displayAs":"string","order":44,"title":"raw_tagged","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"error_message","type":"string","displayAs":"string","order":46,"title":"error_message","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_app","type":"string","displayAs":"string","order":48,"title":"dbt_app","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_node_id","type":"string","displayAs":"string","order":49,"title":"dbt_node_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_profile_name","type":"string","displayAs":"string","order":50,"title":"dbt_profile_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_target_name","type":"string","displayAs":"string","order":51,"title":"dbt_target_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_version","type":"string","displayAs":"string","order":52,"title":"dbt_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"dbt_databricks_version","type":"string","displayAs":"string","order":53,"title":"dbt_databricks_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"query_source_id","type":"string","displayAs":"string","order":57,"title":"query_source_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"LongRunningQueryFlag","type":"string","displayAs":"string","order":58,"title":"LongRunningQueryFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Calc_LongRunningQueryFlag","type":"integer","displayAs":"number","order":59,"title":"Calc_LongRunningQueryFlag","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalUsedTimeInWarehouse","type":"float","displayAs":"number","order":60,"title":"TotalUsedTimeInWarehouse","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalStatementTextTimeUsed","type":"float","displayAs":"number","order":61,"title":"TotalStatementTextTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ProportionOfWarehouseTimeUsedByQuery","type":"float","displayAs":"number","order":62,"title":"ProportionOfWarehouseTimeUsedByQuery","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"WarehouseAvgTaskToExecutionTimeRatio","type":"float","displayAs":"number","order":63,"title":"WarehouseAvgTaskToExecutionTimeRatio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"QueryEfficiencyRatio","type":"float","displayAs":"number","order":64,"title":"QueryEfficiencyRatio","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_Dollars","type":"float","displayAs":"number","order":71,"title":"Total_Warehouse_Period_Dollars","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"HighDataVolumeFlag","type":"string","displayAs":"string","order":77,"title":"HighDataVolumeFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"HighDataWritesVolumeFlag","type":"string","displayAs":"string","order":78,"title":"HighDataWritesVolumeFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"action_name","type":"string","displayAs":"string","order":82,"title":"action_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_name","type":"string","displayAs":"string","order":83,"title":"warehouse_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_type","type":"string","displayAs":"string","order":84,"title":"warehouse_type","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"auto_stop_mins","type":"string","displayAs":"string","order":85,"title":"auto_stop_mins","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_size","type":"string","displayAs":"string","order":86,"title":"warehouse_size","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"min_cluster_scaling","type":"integer","displayAs":"number","order":87,"title":"min_cluster_scaling","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"max_cluster_scaing","type":"integer","displayAs":"number","order":88,"title":"max_cluster_scaing","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_channel","type":"string","displayAs":"string","order":89,"title":"warehouse_channel","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_editor_user","type":"string","displayAs":"string","order":90,"title":"warehouse_editor_user","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ChangeRank","type":"integer","displayAs":"number","order":91,"title":"ChangeRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"RecencyRank","type":"integer","displayAs":"number","order":92,"title":"RecencyRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDeleted","type":"string","displayAs":"string","order":93,"title":"IsDeleted","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_creator","type":"string","displayAs":"string","order":94,"title":"warehouse_creator","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"warehouse_latest_editor","type":"string","displayAs":"string","order":95,"title":"warehouse_latest_editor","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"IsDeletedCurrently","type":"string","displayAs":"string","order":96,"title":"IsDeletedCurrently","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"total_window_seconds","type":"integer","displayAs":"number","order":97,"title":"total_window_seconds","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"rounded_proportion_queue_time","type":"float","displayAs":"number","order":98,"title":"rounded_proportion_queue_time","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"ProportionResultFetchTime","type":"float","displayAs":"number","order":100028,"title":"ProportionResultFetchTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"HighQueueingTimeFlag","type":"string","displayAs":"string","order":100070,"title":"HighQueueingTimeFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"HighResultFetchTimeFlag","type":"string","displayAs":"string","order":100071,"title":"HighResultFetchTimeFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"showDescription":true,"title":"Query Performance Detail","description":"Table of all Queries and their statistics"}}},"position":{"x":0,"y":97,"width":6,"height":8}},{"widget":{"name":"a8640919","textbox_spec":"## Statement Level Cost Attribution\n-----\nThis section is slightly different than the main cost allocation section tab. Instead of aggregating costs at the unique query statement (query signature) level, it aggregates query statements (not unique) at the user level. It aims to answer the question of \"of all the statements being executed, how much relative warehouse usage is being used by each user?\""},"position":{"x":0,"y":105,"width":6,"height":3}},{"widget":{"name":"91bb8b32","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HighQueueingTimeFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"HighQueueingTimeFlag","expression":"`HighQueueingTimeFlag`"},{"name":"HighQueueingTimeFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HighQueueingTimeFlag","displayName":"HighQueueingTimeFlag","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HighQueueingTimeFlag"}]},"frame":{"showTitle":true,"title":"Queued Too Much"}}},"position":{"x":0,"y":84,"width":1,"height":2}},{"widget":{"name":"13f0093c","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HighResultFetchTimeFlag","query":{"datasetName":"fc2d4844","fields":[{"name":"HighResultFetchTimeFlag","expression":"`HighResultFetchTimeFlag`"},{"name":"HighResultFetchTimeFlag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"HighResultFetchTimeFlag","displayName":"HighResultFetchTimeFlag","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_HighResultFetchTimeFlag"}]},"frame":{"showTitle":true,"title":"Long Result Fetch Time"}}},"position":{"x":1,"y":84,"width":1,"height":2}},{"widget":{"name":"9edaeee6","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_queue_proportion_threshold","query":{"datasetName":"fc2d4844","parameters":[{"name":"queue_proportion_threshold","keyword":"queue_proportion_threshold"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"queue_proportion_threshold","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_queue_proportion_threshold"}]},"frame":{"showTitle":true,"title":"% Time Spent Queuing Threshold"}}},"position":{"x":3,"y":84,"width":2,"height":2}},{"widget":{"name":"1b6ec22f","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_result_proportion_threshold","query":{"datasetName":"fc2d4844","parameters":[{"name":"result_proportion_threshold","keyword":"result_proportion_threshold"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"result_proportion_threshold","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137b9188cb7ca60987db14031_result_proportion_threshold"}]},"frame":{"showTitle":true,"title":"% Time Spent Result Fetching Threshold"}}},"position":{"x":3,"y":82,"width":2,"height":2}},{"widget":{"name":"a4423449","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"sum(AllocatedQueryCostByTime)","expression":"SUM(`AllocatedQueryCostByTime`)"},{"name":"executed_by","expression":"`executed_by`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(AllocatedQueryCostByTime)","scale":{"type":"quantitative"},"format":{"type":"number-currency","currencyCode":"USD","abbreviation":"none","decimalPlaces":{"type":"max","places":0}},"displayName":"Allocated Query Cost"},"color":{"fieldName":"executed_by","scale":{"type":"categorical"},"legend":{"position":"right"},"displayName":"executed_by"},"label":{"show":true}},"frame":{"showTitle":true,"showDescription":true,"title":"Allocated Query Cost By User","description":"Cost attributed to query/user based on warehouse selected window and workload"}}},"position":{"x":3,"y":108,"width":3,"height":8}},{"widget":{"name":"45f5408b","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"sum(QueryWork)","expression":"SUM(`QueryWork`)"},{"name":"executed_by","expression":"`executed_by`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"pie","encodings":{"angle":{"fieldName":"sum(QueryWork)","scale":{"type":"quantitative"},"format":{"type":"number-plain","abbreviation":"none","decimalPlaces":{"type":"max","places":0}},"displayName":"Query Work"},"color":{"fieldName":"executed_by","scale":{"type":"categorical"},"legend":{"position":"right"},"displayName":"executed_by"},"label":{"show":true}},"frame":{"showTitle":true,"showDescription":true,"title":"Query Work By User","description":"Raw work of queries aggregated by user (NOT ALLOCATED)"}}},"position":{"x":0,"y":108,"width":3,"height":8}},{"widget":{"name":"275e3875","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HighQueueingTimeFlag","expression":"`HighQueueingTimeFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"HighQueueingTimeFlag","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"},{"value":"High Relative Volume Read","color":"#FF3621"},{"value":"Not High Relative Volume","color":"#00A972"},{"value":"High Volume Written","color":"#FF3621"},{"value":"Not High Volume Written","color":"#00A972"},{"value":"FINE","color":"#00A972"},{"value":"High Queue Time","color":"#FF3621"}]},"displayName":"High Queueing"}},"frame":{"showTitle":true,"title":"High Queueing"},"mark":{"layout":"percent-stack"}}},"position":{"x":0,"y":91,"width":1,"height":6}},{"widget":{"name":"da1c6b6a","queries":[{"name":"main_query","query":{"datasetName":"fc2d4844","fields":[{"name":"HighResultFetchTimeFlag","expression":"`HighResultFetchTimeFlag`"},{"name":"count(*)","expression":"COUNT(`*`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"y":{"fieldName":"count(*)","scale":{"type":"quantitative"},"displayName":"Queries"},"color":{"fieldName":"HighResultFetchTimeFlag","scale":{"type":"categorical","mappings":[{"value":"Long Running","color":"#FF3621"},{"value":"Short Running","color":"#00A972"},{"value":"No Spill","color":"#00A972"},{"value":"Spilled Data To Disk","color":"#FF3621"},{"value":"High Relative Volume Read","color":"#FF3621"},{"value":"Not High Relative Volume","color":"#00A972"},{"value":"High Volume Written","color":"#FF3621"},{"value":"Not High Volume Written","color":"#00A972"},{"value":"FINE","color":"#00A972"},{"value":"High Queue Time","color":"#FF3621"},{"value":"High Result Fetch Time","color":"#FF3621"}]},"displayName":"High Queueing"}},"frame":{"showTitle":true,"title":"High Result Fetch"},"mark":{"layout":"percent-stack"}}},"position":{"x":4,"y":86,"width":1,"height":5}}]},{"name":"a5cec7de","displayName":"Query Cost Allocation","layout":[{"widget":{"name":"7ad62e8b","textbox_spec":"# Query Statement Cost Allocation Advisor\n-----\nThis section helps to allocate query runtime cost across the warehouse down to the query level. The query costs are aggregated at the \"query signature\" level, which is a unique SQL statement (excluding comments) executed. This is to account for multiple execution and users executing the same query. "},"position":{"x":0,"y":0,"width":6,"height":2}},{"widget":{"name":"c512cb4e","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_warehouse_id","query":{"datasetName":"871b75c8","parameters":[{"name":"warehouse_id","keyword":"warehouse_id"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"warehouse_id","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_warehouse_id"}]},"frame":{"showTitle":true,"title":"Warehouse Id"}}},"position":{"x":0,"y":2,"width":2,"height":2}},{"widget":{"name":"ac0a66b3","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_start_time","query":{"datasetName":"871b75c8","parameters":[{"name":"start_time","keyword":"start_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"start_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_start_time"}]},"frame":{"showTitle":true,"title":"Start Time"}}},"position":{"x":2,"y":2,"width":1,"height":2}},{"widget":{"name":"17cf7f7d","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_end_time","query":{"datasetName":"871b75c8","parameters":[{"name":"end_time","keyword":"end_time"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-date-picker","encodings":{"fields":[{"parameterName":"end_time","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_end_time"}]},"frame":{"showTitle":true,"title":"End Time"}}},"position":{"x":3,"y":2,"width":1,"height":2}},{"widget":{"name":"7328335b","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_TopNFilter","query":{"datasetName":"871b75c8","fields":[{"name":"TopNFilter","expression":"`TopNFilter`"},{"name":"TopNFilter_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"TopNFilter","displayName":"TopNFilter","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_TopNFilter"}]},"selection":{"defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"Top N Query"}]}}},"frame":{"showTitle":true,"title":"Top N Flag"}}},"position":{"x":4,"y":2,"width":1,"height":2}},{"widget":{"name":"3c5dd141","queries":[{"name":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_top_n","query":{"datasetName":"871b75c8","parameters":[{"name":"top_n","keyword":"top_n"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-single-select","encodings":{"fields":[{"parameterName":"top_n","queryName":"parameter_dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_top_n"}]},"selection":{"defaultSelection":{"values":{"dataType":"STRING","values":[{"value":"20"}]}}},"frame":{"showTitle":true,"title":"Top N Parameter"}}},"position":{"x":5,"y":2,"width":1,"height":2}},{"widget":{"name":"e37f1834","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_IsDBTQuery","query":{"datasetName":"871b75c8","fields":[{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"IsDBTQuery_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"IsDBTQuery","displayName":"IsDBTQuery","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_IsDBTQuery"}]},"frame":{"showTitle":true,"title":"Is DBT Model?"}}},"position":{"x":0,"y":4,"width":1,"height":2}},{"widget":{"name":"e1b6aa80","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbt_profile_id","query":{"datasetName":"871b75c8","fields":[{"name":"dbt_profile_id","expression":"`dbt_profile_id`"},{"name":"dbt_profile_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_profile_id","displayName":"dbt_profile_id","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbt_profile_id"}]},"frame":{"showTitle":true,"title":"DBT Profile"}}},"position":{"x":1,"y":4,"width":1,"height":2}},{"widget":{"name":"4d9fac65","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbt_target_name","query":{"datasetName":"871b75c8","fields":[{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_target_name_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_target_name","displayName":"dbt_target_name","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbt_target_name"}]},"frame":{"showTitle":true,"title":"DBT Target"}}},"position":{"x":2,"y":4,"width":1,"height":2}},{"widget":{"name":"f0b58353","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbt_node_id","query":{"datasetName":"871b75c8","fields":[{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_node_id_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"dbt_node_id","displayName":"dbt_node_id","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_dbt_node_id"}]},"frame":{"showTitle":true,"title":"DBT Node"}}},"position":{"x":3,"y":4,"width":1,"height":2}},{"widget":{"name":"7ed19e5f","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_QueryTag","query":{"datasetName":"871b75c8","fields":[{"name":"QueryTag","expression":"`QueryTag`"},{"name":"QueryTag_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"QueryTag","displayName":"QueryTag","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_QueryTag"}]},"frame":{"showTitle":true,"title":"Query Tag (custom)"}}},"position":{"x":4,"y":4,"width":1,"height":2}},{"widget":{"name":"c7a9fb2d","queries":[{"name":"main_query","query":{"datasetName":"871b75c8","fields":[{"name":"QueryProportionParetoFlag","expression":"`QueryProportionParetoFlag`"},{"name":"sum(StatementAllocatedDollars)","expression":"SUM(`StatementAllocatedDollars`)"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"bar","encodings":{"x":{"fieldName":"sum(StatementAllocatedDollars)","format":{"type":"number-currency","currencyCode":"USD","abbreviation":"none","decimalPlaces":{"type":"max","places":0}},"scale":{"type":"quantitative"},"axis":{"hideLabels":false,"hideTitle":false},"displayName":"Allocated Query Cost ($)"},"y":{"fieldName":"QueryProportionParetoFlag","axis":{"hideLabels":true},"scale":{"type":"categorical","sort":{"by":"x-reversed"}},"displayName":"Query Signature"},"color":{"fieldName":"QueryProportionParetoFlag","scale":{"type":"categorical"},"displayName":"Query Signature"},"label":{"show":true}},"frame":{"showTitle":true,"title":"Stack Ranked Cost Per Query Signature","showDescription":true,"description":"Query Signature = hashed unique SQL that is executed"}}},"position":{"x":0,"y":6,"width":6,"height":9}},{"widget":{"name":"2b747d0c","queries":[{"name":"main_query","query":{"datasetName":"871b75c8","fields":[{"name":"sum(StatementAllocatedDollars)","expression":"SUM(`StatementAllocatedDollars`)"},{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_node_id","expression":"`dbt_node_id`"}],"disaggregated":false}}],"spec":{"version":3,"widgetType":"heatmap","encodings":{"x":{"fieldName":"dbt_target_name","scale":{"type":"categorical"},"displayName":"DBT Target"},"y":{"fieldName":"dbt_node_id","scale":{"type":"categorical"},"displayName":"DBT Model"},"color":{"fieldName":"sum(StatementAllocatedDollars)","scale":{"type":"quantitative"},"displayName":"Allocated Query Cost ($)"}},"frame":{"showTitle":true,"title":"Allocated Cost By DBT Target and Model (node)"}}},"position":{"x":0,"y":15,"width":6,"height":8}},{"widget":{"name":"6c500c11","queries":[{"name":"main_query","query":{"datasetName":"871b75c8","fields":[{"name":"QueryCostRank","expression":"`QueryCostRank`"},{"name":"statetment_type","expression":"`statetment_type`"},{"name":"statement_text","expression":"`statement_text`"},{"name":"NumberOfExecutions","expression":"`NumberOfExecutions`"},{"name":"AvgRuntimeInSeconds","expression":"`AvgRuntimeInSeconds`"},{"name":"TotalStatementTimeUsed","expression":"`TotalStatementTimeUsed`"},{"name":"QueryTag","expression":"`QueryTag`"},{"name":"UserRunCounts","expression":"`UserRunCounts`"},{"name":"StatementTaskTimeProportion","expression":"`StatementTaskTimeProportion`"},{"name":"StatementAllocatedDollars","expression":"`StatementAllocatedDollars`"},{"name":"StatementAllocatedDBUs","expression":"`StatementAllocatedDBUs`"},{"name":"CumulativeProportionOfWarehouseTime","expression":"`CumulativeProportionOfWarehouseTime`"},{"name":"StatementWarehouseTimePercentage","expression":"`StatementWarehouseTimePercentage`"},{"name":"dbt_profile_id","expression":"`dbt_profile_id`"},{"name":"QueryProportionParetoFlag","expression":"`QueryProportionParetoFlag`"},{"name":"TopNFilter","expression":"`TopNFilter`"},{"name":"raw_tagged","expression":"`raw_tagged`"},{"name":"dbt_app","expression":"`dbt_app`"},{"name":"dbt_node_id","expression":"`dbt_node_id`"},{"name":"dbt_target_name","expression":"`dbt_target_name`"},{"name":"dbt_version","expression":"`dbt_version`"},{"name":"parsed_dbt_comment","expression":"`parsed_dbt_comment`"},{"name":"IsDBTQuery","expression":"`IsDBTQuery`"},{"name":"Total_Warehouse_Period_Dollars","expression":"`Total_Warehouse_Period_Dollars`"},{"name":"query_signature","expression":"`query_signature`"}],"disaggregated":true}}],"spec":{"version":1,"widgetType":"table","encodings":{"columns":[{"fieldName":"QueryCostRank","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":0,"title":"QueryCostRank","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#3BD973"},"rules":[]},"displayName":"QueryCostRank"},{"fieldName":"statetment_type","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":1,"title":"statetment_type","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"statetment_type"},{"fieldName":"statement_text","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":2,"title":"statement_text","allowSearch":true,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#356AFF"},"rules":[]},"displayName":"statement_text"},{"fieldName":"NumberOfExecutions","numberFormat":"0","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"integer","displayAs":"number","visible":true,"order":3,"title":"NumberOfExecutions","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#FB8D3D"},"rules":[]},"displayName":"NumberOfExecutions"},{"fieldName":"AvgRuntimeInSeconds","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":4,"title":"AvgRuntimeInSeconds","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#E92828"},"rules":[]},"displayName":"AvgRuntimeInSeconds"},{"fieldName":"TotalStatementTimeUsed","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":7,"title":"TotalStatementTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"TotalStatementTimeUsed"},{"fieldName":"QueryTag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":8,"title":"QueryTag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryTag"},{"fieldName":"UserRunCounts","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"complex","displayAs":"json","visible":true,"order":9,"title":"UserRunCounts","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"cellFormat":{"default":{"foregroundColor":"#604FE9"},"rules":[]},"displayName":"UserRunCounts"},{"fieldName":"StatementTaskTimeProportion","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":10,"title":"StatementTaskTimeProportion","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StatementTaskTimeProportion"},{"fieldName":"StatementAllocatedDollars","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":11,"title":"StatementAllocatedDollars","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StatementAllocatedDollars"},{"fieldName":"StatementAllocatedDBUs","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":12,"title":"StatementAllocatedDBUs","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StatementAllocatedDBUs"},{"fieldName":"CumulativeProportionOfWarehouseTime","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":13,"title":"CumulativeProportionOfWarehouseTime","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"CumulativeProportionOfWarehouseTime"},{"fieldName":"StatementWarehouseTimePercentage","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":14,"title":"StatementWarehouseTimePercentage","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"StatementWarehouseTimePercentage"},{"fieldName":"dbt_profile_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":15,"title":"dbt_profile_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_profile_id"},{"fieldName":"QueryProportionParetoFlag","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":16,"title":"QueryProportionParetoFlag","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"QueryProportionParetoFlag"},{"fieldName":"TopNFilter","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":17,"title":"TopNFilter","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"TopNFilter"},{"fieldName":"raw_tagged","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":18,"title":"raw_tagged","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"raw_tagged"},{"fieldName":"dbt_app","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":19,"title":"dbt_app","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_app"},{"fieldName":"dbt_node_id","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":20,"title":"dbt_node_id","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_node_id"},{"fieldName":"dbt_target_name","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":21,"title":"dbt_target_name","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_target_name"},{"fieldName":"dbt_version","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":22,"title":"dbt_version","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"dbt_version"},{"fieldName":"parsed_dbt_comment","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"complex","displayAs":"json","visible":true,"order":23,"title":"parsed_dbt_comment","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"parsed_dbt_comment"},{"fieldName":"IsDBTQuery","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":24,"title":"IsDBTQuery","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"IsDBTQuery"},{"fieldName":"Total_Warehouse_Period_Dollars","numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"float","displayAs":"number","visible":true,"order":25,"title":"Total_Warehouse_Period_Dollars","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"Total_Warehouse_Period_Dollars"},{"fieldName":"query_signature","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"type":"string","displayAs":"string","visible":true,"order":26,"title":"query_signature","allowSearch":false,"alignContent":"left","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false,"displayName":"query_signature"}]},"invisibleColumns":[{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"TotalWarehouseTimeUsed","type":"float","displayAs":"number","order":5,"title":"TotalWarehouseTimeUsed","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false},{"numberFormat":"0.00","booleanValues":["false","true"],"imageUrlTemplate":"{{ @ }}","imageTitleTemplate":"{{ @ }}","imageWidth":"","imageHeight":"","linkUrlTemplate":"{{ @ }}","linkTextTemplate":"{{ @ }}","linkTitleTemplate":"{{ @ }}","linkOpenInNewTab":true,"name":"Total_Warehouse_Period_DBUs","type":"float","displayAs":"number","order":6,"title":"Total_Warehouse_Period_DBUs","allowSearch":false,"alignContent":"right","allowHTML":false,"highlightLinks":false,"useMonospaceFont":false,"preserveWhitespace":false}],"allowHTMLByDefault":false,"itemsPerPage":25,"paginationSize":"default","condensed":true,"withRowNumber":false,"frame":{"showTitle":true,"title":"Query Signature Cost Allocation Detail","showDescription":true,"description":"+ you can get user level query execution details by scrolling this table -->"}}},"position":{"x":0,"y":23,"width":6,"height":9}},{"widget":{"name":"7c3693b1","queries":[{"name":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_statetment_type","query":{"datasetName":"871b75c8","fields":[{"name":"statetment_type","expression":"`statetment_type`"},{"name":"statetment_type_associativity","expression":"COUNT_IF(`associative_filter_predicate_group`)"}],"disaggregated":false}}],"spec":{"version":2,"widgetType":"filter-multi-select","encodings":{"fields":[{"fieldName":"statetment_type","displayName":"statetment_type","queryName":"dashboards/01ef706137b51396ae0e5e660ffae393/datasets/01ef706137c11a2988927fc539a76045_statetment_type"}]},"frame":{"showTitle":true,"title":"Statement Type"}}},"position":{"x":5,"y":4,"width":1,"height":2}}]}]}